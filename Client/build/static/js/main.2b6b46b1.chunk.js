/*! For license information please see main.2b6b46b1.chunk.js.LICENSE.txt */
(this["webpackJsonpnypd-arrest-map"]=this["webpackJsonpnypd-arrest-map"]||[]).push([[0],{124:function(e,t){},156:function(e,t,n){!function(t){var n=0,r=!1,a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0}});window.addEventListener("test",null,i)}catch(m){}var o=function(e){var t=e.target,r=window.innerWidth/window.document.documentElement.clientWidth;if(!(e.touches.length>1||1!==r)){for(;t!==document.body&&t!==document;){var a=window.getComputedStyle(t);if(!a)break;if("INPUT"===t.nodeName&&"range"===t.getAttribute("type"))return;var i=a.getPropertyValue("-webkit-overflow-scrolling"),o=a.getPropertyValue("overflow-y"),l=parseInt(a.getPropertyValue("height"),10),c="touch"===i&&("auto"===o||"scroll"===o),u=t.scrollHeight>t.offsetHeight;if(c&&u){var s=e.touches?e.touches[0].screenY:e.screenY,f=n<=s&&0===t.scrollTop,m=n>=s&&t.scrollHeight-t.scrollTop===l;return void((f||m)&&e.preventDefault())}t=t.parentNode}e.preventDefault()}},l=function(e){n=e.touches?e.touches[0].screenY:e.screenY},c=function(){window.addEventListener("touchstart",l,!!a&&{passive:!1}),window.addEventListener("touchmove",o,!!a&&{passive:!1}),r=!0},u=document.createElement("div");document.documentElement.appendChild(u),u.style.WebkitOverflowScrolling="touch";var s="getComputedStyle"in window&&"touch"===window.getComputedStyle(u)["-webkit-overflow-scrolling"];document.documentElement.removeChild(u),s&&c();var f={enable:c,disable:function(){window.removeEventListener("touchstart",l,!1),window.removeEventListener("touchmove",o,!1),r=!1},isEnabled:function(){return r}};e.exports&&(e.exports=f),"function"===typeof t.define?(0,t.define)("iNoBounce",[],(function(){return f})):t.iNoBounce=f}(this)},178:function(e,t,n){e.exports=n(297)},183:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},206:function(e,t,n){},207:function(e,t,n){},235:function(e,t,n){},289:function(e,t){},297:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(49),o=n.n(i),l=(n(183),n(13)),c=n(1),u=n(152),s=n(8),f=n(313),m=n(164),d=n(316),p=(n(185),n(186),n(154)),g=n(155),b=n(40),E=n(67),h=n.n(E),_=n(114),v=n(111),O=n.n(v),y=(n(205),n(206),n(207),function(e){var t=e.loadData,n=e.raceUniqueValues,i=e.boroughUniqueValues,o=e.ageGroupData,c=e.offenseDescriptionUniqueValues,u=e.setFilters,f=e.initialScreenWidth,m=e.currentScreenWidth,d=e.pointClicked,E=e.changeLaddaLoading,y=e.laddaLoading,R=e.loadedYears,A=e.filteredData,D=e.handleDownloadYear,S=e.yearFilter,N=e.changeYearFilter,C=e.categoryFilter,T=e.changeCategoryFilter,j=e.offenseFilter,w=e.changeOffenseFilter,x=e.ageFilter,B=e.changeAgeFilter,k=e.raceFilter,L=e.changeRaceFilter,Y=e.sexFilter,F=e.changeSexFilter,P=e.boroughFilter,U=e.changeBoroughFilter,M=Object(r.useRef)(null),q=document.getElementsByClassName("bm-burger-button"),V=document.getElementsByClassName("mapboxgl-ctrl-bottom-left"),G=Object(r.useState)(!0),W=Object(s.a)(G,2),z=W[0],I=W[1],Q=Object(r.useState)(!1),K=Object(s.a)(Q,2),H=K[0],X=K[1],J=Object(r.useState)(""),Z=Object(s.a)(J,2),$=Z[0],ee=Z[1],te=function(e){C.includes(e)?T(C.filter((function(t){return t!==e}))):T([].concat(Object(l.a)(C),[e]))},ne=function(e){Y.includes(e)?F(Y.filter((function(t){return t!==e}))):F([].concat(Object(l.a)(Y),[e]))};return Object(r.useEffect)((function(){var e=document.getElementById("tippy-4");m?m<768&&e&&(e.style.cssText=d?"z-index: -1 !important;":"z-index: 0 !important;"):f<768&&e&&(e.style.cssText=d?"z-index: -1 !important;":"z-index: 0 !important;")}),[d,m,f]),a.a.createElement("div",{className:"navigation_bar_container"},a.a.createElement(_.a,{content:a.a.createElement("div",{className:"overview_tooltip_content",style:{minWidth:M.current&&M.current.clientWidth,maxWidth:M.current&&M.current.clientWidth}},a.a.createElement("p",{style:{color:"rgb(166, 166, 166)"}},"Data Last Updated: July 22, 2020"),a.a.createElement("p",null,"Showing Arrest Data for"," ",a.a.createElement("strong",null,R.sort().join(", "))),a.a.createElement("p",null,"Total Number of Arrests Shown: ",a.a.createElement("br",null),a.a.createElement("strong",null,A.flat().length.toLocaleString())," of ",a.a.createElement("strong",null,t.length.toLocaleString()))),visible:"object"===typeof t&&t.flat().length>7e4,allowHTML:!0,reference:m?m>=767?M.current:V[0]:f>=767?M.current:V[0],className:"overview_tooltip",placement:"bottom-start"}),a.a.createElement(_.a,{content:a.a.createElement("div",{className:"map_legend_container",style:{minWidth:M.current&&M.current.clientWidth,maxWidth:M.current&&M.current.clientWidth}},a.a.createElement("p",null,"Map Legend"),a.a.createElement("div",{className:"map_legend_items_container"},a.a.createElement("div",{className:"map_legend_element"},a.a.createElement(b.c,{color:"rgb(255, 0, 0)"}),a.a.createElement("p",null,"Felony")),a.a.createElement("div",{className:"map_legend_element"},a.a.createElement(b.c,{color:"rgb(255, 116, 0)"}),a.a.createElement("p",null,"Misdemeanor")),a.a.createElement("div",{className:"map_legend_element"},a.a.createElement(b.c,{color:"rgb(255, 193, 0)"}),a.a.createElement("p",null,"Violation")))),visible:"object"===typeof t&&t.flat().length>7e4,allowHTML:!0,reference:V[0],className:"overview_tooltip legend_tooltip",placement:"top-start"}),a.a.createElement("div",{className:"nypd_arrest_map_logo_container",ref:M},a.a.createElement("a",{href:"/"},a.a.createElement("p",null,"NYPD"),a.a.createElement("p",null,"Arrest"),a.a.createElement("p",null,"Map"))),a.a.createElement(_.a,{content:"Click here to set data filters",visible:z&&"object"===typeof t&&t.flat().length>7e4,reference:q[0],className:"burger_tooltip",placement:"bottom-end",onClickOutside:function(){return I(!1)}}),a.a.createElement(p.slide,{right:!0,className:"navbar_nav_menu",customBurgerIcon:a.a.createElement(g.a,{color:"rgb(93, 188, 210)"}),onOpen:function(){H?X(!1):(X(!0),I(!1))},onClose:function(){return X(!1)},isOpen:H},a.a.createElement(h.a,{trigger:a.a.createElement("div",{className:"nav_item"},a.a.createElement("p",{className:"filter_identifier"},"Filter By Year"),a.a.createElement(b.e,{fill:"rgb(0, 109, 129)"})),onTriggerOpening:function(){return ee("year")},onTriggerClosing:function(){return ee("")},open:"year"===$,className:"nav_item"},a.a.createElement("div",{className:"nav_item_content_container"},function(){for(var e=[],t=2006;t<Number((new Date).getFullYear()+1);t++)e.push(t);return e}().map((function(e,t){return a.a.createElement("p",{key:t,style:{color:R.includes(e)?"#000":"rgb(166, 166, 166)"},className:R.includes(e)?null:"unfetched_year_button",onClick:function(){R.includes(e)?function(e){S.includes(e)?N(S.filter((function(t){return t!==e}))):N([].concat(Object(l.a)(S),[e]))}(e):(D(e),N([].concat(Object(l.a)(S),[e])))}},a.a.createElement("label",null,R.includes(e)?a.a.createElement("input",{name:"my-checkbox",type:"checkbox",defaultChecked:R.includes(e)}):a.a.createElement(b.d,{className:"year_download_icon"}),R.includes(e)?e:"".concat(e," (Click to load data)")))})))),a.a.createElement(h.a,{trigger:a.a.createElement("div",{className:"nav_item"},a.a.createElement("p",{className:"filter_identifier"},"Filter By Category"),a.a.createElement(b.e,{fill:"rgb(0, 109, 129)"})),onTriggerOpening:function(){return ee("category")},onTriggerClosing:function(){return ee("")},open:"category"===$,className:"nav_item"},a.a.createElement("div",{className:"nav_item_content_container"},a.a.createElement("p",null,a.a.createElement("label",null,a.a.createElement("input",{name:"my-checkbox",type:"checkbox",onClick:function(){return te("F")}}),"Felony")),a.a.createElement("p",null,a.a.createElement("label",null,a.a.createElement("input",{name:"my-checkbox",type:"checkbox",onClick:function(){return te("M")}}),"Misdemeanor")),a.a.createElement("p",null,a.a.createElement("label",null,a.a.createElement("input",{name:"my-checkbox",type:"checkbox",onClick:function(){return te("V")}}),"Violation")))),a.a.createElement(h.a,{trigger:a.a.createElement("div",{className:"nav_item"},a.a.createElement("p",{className:"filter_identifier"},"Filter By Offense"),a.a.createElement(b.e,{fill:"rgb(0, 109, 129)"})),onTriggerOpening:function(){return ee("description")},onTriggerClosing:function(){return ee("")},open:"description"===$,className:"nav_item"},a.a.createElement("div",{className:"nav_item_content_container"},c.map((function(e,t){return!e||e.includes("OTHER STATE LAWS")&&e.includes("(")?null:a.a.createElement("p",{key:t},a.a.createElement("label",null,a.a.createElement("input",{name:"my-checkbox",type:"checkbox",onClick:function(){return t=e,void(j.includes(t)?w(j.filter((function(e){return e!==t}))):w([].concat(Object(l.a)(j),[t])));var t}}),e.split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()})).join(" ").split("/").map((function(e){return e[0].toUpperCase()+e.slice(1,e.indexOf(" ")).toLowerCase()+e.slice(e.indexOf(" "))})).join("/")))})))),a.a.createElement(h.a,{trigger:a.a.createElement("div",{className:"nav_item"},a.a.createElement("p",{className:"filter_identifier"},"Filter By Age Group"),a.a.createElement(b.e,{fill:"rgb(0, 109, 129)"})),onTriggerOpening:function(){return ee("age")},onTriggerClosing:function(){return ee("")},open:"age"===$,className:"nav_item"},a.a.createElement("div",{className:"nav_item_content_container"},o.map((function(e,t){return a.a.createElement("p",{key:t},a.a.createElement("label",null,a.a.createElement("input",{name:"my-checkbox",type:"checkbox",onClick:function(){return function(e){x.includes(e)?B(x.filter((function(t){return t!==e}))):B([].concat(Object(l.a)(x),[e]))}(e)}}),"65"===e?"65+":e))})))),a.a.createElement(h.a,{trigger:a.a.createElement("div",{className:"nav_item"},a.a.createElement("p",{className:"filter_identifier"},"Filter By Race"),a.a.createElement(b.e,{fill:"rgb(0, 109, 129)"})),onTriggerOpening:function(){return ee("race")},onTriggerClosing:function(){return ee("")},open:"race"===$,className:"nav_item"},a.a.createElement("div",{className:"nav_item_content_container"},n.map((function(e,t){return e?a.a.createElement("p",{key:t},a.a.createElement("label",null,a.a.createElement("input",{name:"my-checkbox",type:"checkbox",onClick:function(){return function(e){k.includes(e)?L(k.filter((function(t){return t!==e}))):L([].concat(Object(l.a)(k),[e]))}(e)}}),e&&e.split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()})).join(" ").split("/").map((function(e){return e[0].toUpperCase()+e.slice(1,e.indexOf(" ")).toLowerCase()+e.slice(e.indexOf(" "))})).join("/"))):null})))),a.a.createElement(h.a,{trigger:a.a.createElement("div",{className:"nav_item"},a.a.createElement("p",{className:"filter_identifier"},"Filter By Sex"),a.a.createElement(b.e,{fill:"rgb(0, 109, 129)"})),onTriggerOpening:function(){return ee("sex")},onTriggerClosing:function(){return ee("")},open:"sex"===$,className:"nav_item"},a.a.createElement("div",{className:"nav_item_content_container"},a.a.createElement("p",null,a.a.createElement("label",null,a.a.createElement("input",{name:"my-checkbox",type:"checkbox",onClick:function(){return ne("F")}}),"Female")),a.a.createElement("p",null,a.a.createElement("label",null,a.a.createElement("input",{name:"my-checkbox",type:"checkbox",onClick:function(){return ne("M")}}),"Male")))),a.a.createElement(h.a,{trigger:a.a.createElement("div",{className:"nav_item"},a.a.createElement("p",{className:"filter_identifier"},"Filter By Borough"),a.a.createElement(b.e,{fill:"rgb(0, 109, 129)"})),onTriggerOpening:function(){return ee("borough")},onTriggerClosing:function(){return ee("")},open:"borough"===$,className:"nav_item"},a.a.createElement("div",{className:"nav_item_content_container"},i.map((function(e,t){return a.a.createElement("p",{key:t},a.a.createElement("label",null,a.a.createElement("input",{name:"my-checkbox",type:"checkbox",onClick:function(){return function(e){P.includes(e)?U(P.filter((function(t){return t!==e}))):U([].concat(Object(l.a)(P),[e]))}(e)}}),"B"===e?"Bronx":"Q"===e?"Queens":"M"===e?"Manhattan":"K"===e?"Brooklyn":"S"===e?"Staten Island":"Unknown"))})))),a.a.createElement("span",{className:"spacer"}),a.a.createElement(O.a,{loading:y,className:"apply_filters_button",onClick:function(){E(!0),u(S,C,j,x,k,Y,P)},"data-color":"blue","data-size":v.XL,"data-style":v.EXPAND_LEFT,"data-spinner-size":30,"data-spinner-color":"#fff","data-spinner-lines":12},y?"APPLYING FILTERS":"APPLY FILTERS")))}),R=n(156),A=n.n(R),D=n(157),S=n.n(D),N=(n(234),n(235),n(236),n(31)),C=n(32),T=n.n(C),j=function(e){var t=e.filteredArrestCategory,n=e.graphOption;return a.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{visibility:"overview"===n?"visible":"hidden"}},a.a.createElement("p",{className:"bottom_info_section_title"},"Breakdown by Category"),a.a.createElement("div",{className:"bottom_info_pie_container"},a.a.createElement(N.a,{chartType:"PieChart",loader:a.a.createElement(T.a,{size:100,color:"rgb(93, 188, 210)"}),data:[["Category","Number of Arrests"],["Felony",t.filter((function(e){return"F"===e})).length],["Misdemeanor",t.filter((function(e){return"M"===e})).length],["Violation",t.filter((function(e){return"F"!==e&&"M"!==e})).length]],options:{backgroundColor:"transparent"}})))},w=function(e){var t=e.filteredAgeGroupData,n=e.filteredAgeGroup,r=e.graphOption;return a.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{visibility:"overview"===r?"visible":"hidden"}},a.a.createElement("p",{className:"bottom_info_section_title"},"Breakdown by Age Group"),a.a.createElement("div",{className:"bottom_info_pie_container"},a.a.createElement(N.a,{chartType:"PieChart",loader:a.a.createElement(T.a,{size:100,color:"rgb(93, 188, 210)"}),data:[["Age Group","Number of Arrests"]].concat(t.map((function(e){return["65"===e?"65+":e,n.filter((function(t){return t===e})).length]}))),options:{backgroundColor:"transparent"}})))},x=function(e){var t=e.filteredRaceUniqueValues,n=e.filteredRaceArr,r=e.graphOption;return a.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{visibility:"overview"===r?"visible":"hidden"}},a.a.createElement("p",{className:"bottom_info_section_title"},"Breakdown by Race"),a.a.createElement("div",{className:"bottom_info_pie_container"},a.a.createElement(N.a,{chartType:"PieChart",loader:a.a.createElement(T.a,{size:100,color:"rgb(93, 188, 210)"}),data:[["Race","Number of Arrests"]].concat(t.map((function(e){return[e?e.split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()})).join(" ").split("/").map((function(e){return e[0].toUpperCase()+e.slice(1,e.indexOf(" ")).toLowerCase()+e.slice(e.indexOf(" "))})).join("/"):null,n.filter((function(t){return t===e})).length]}))),options:{backgroundColor:"transparent"}})))},B=function(e){var t=e.filteredSexUniqueValues,n=e.filteredSexArr,r=e.graphOption;return a.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{visibility:"overview"===r?"visible":"hidden"}},a.a.createElement("p",{className:"bottom_info_section_title"},"Breakdown by Sex"),a.a.createElement("div",{className:"bottom_info_pie_container"},a.a.createElement(N.a,{chartType:"PieChart",loader:a.a.createElement(T.a,{size:100,color:"rgb(93, 188, 210)"}),data:[["Sex","Number of Arrests"]].concat(t.map((function(e){return["M"===e?"Male":"Female",n.filter((function(t){return t===e})).length]}))),options:{backgroundColor:"transparent"}})))},k=function(e){var t=e.filteredBoroughUniqueValues,n=e.filteredBoroughArr,r=e.graphOption;return a.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{visibility:"overview"===r?"visible":"hidden"}},a.a.createElement("p",{className:"bottom_info_section_title"},"Breakdown by Borough"),a.a.createElement("div",{className:"bottom_info_pie_container"},a.a.createElement(N.a,{chartType:"PieChart",loader:a.a.createElement(T.a,{size:100,color:"rgb(93, 188, 210)"}),data:[["Borough","Number of Arrests"]].concat(t.map((function(e){return["B"===e?"Bronx":"Q"===e?"Queens":"M"===e?"Manhattan":"K"===e?"Brooklyn":"S"===e?"Staten Island":"Unknown",n.filter((function(t){return t===e})).length]}))),options:{backgroundColor:"transparent"}})))},L=function(e){var t=e.filteredOffenseDescriptionArr,n=e.filteredOffenseDescriptionUniqueValues,r=e.graphOption,i=t.length>0&&n.length>0?n.map((function(e){return[e,t.filter((function(t){return t===e})).length]})).sort((function(e,t){return e[1]>t[1]?1:-1})):null;return a.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{visibility:"overview"===r?"visible":"hidden"}},i?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:"bottom_info_section_title"},"Top 5 Offenses"),a.a.createElement("div",{className:"bottom_info_pie_container"},a.a.createElement(N.a,{chartType:"BarChart",loader:a.a.createElement(T.a,{size:100,color:"rgb(93, 188, 210)"}),data:[["Offense Description","Number of Arrests"]].concat(i?i.slice(i.length-5,i.length).sort((function(e,t){return e[1]>t[1]?-1:1})):["UNKNOWN",1]),options:{backgroundColor:"transparent",bar:{groupWidth:"95%"},legend:{position:"none"},width:600,chartArea:{width:"50%",height:"50%"}}}))):null)},Y=n(35),F=n.n(Y),P=function(e){var t=e.filteredUniqueDates,n=e.filteredTimelineAgeGroupData,r=e.filteredAgeGroupData,i=e.graphOption;return a.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{visibility:"trends"===i?"visible":"hidden"}},a.a.createElement("p",{className:"bottom_info_section_title"},"Age Group Trends"),a.a.createElement("div",{className:"bottom_info_pie_container"},a.a.createElement(N.a,{chartType:"LineChart",loader:a.a.createElement(T.a,{size:100,color:"rgb(93, 188, 210)"}),data:[[{type:"date",label:"Date"}].concat(r.map((function(e){return"65"===e?"65+":e})))].concat(t.length>0&&r.length>0?t[0].sort((function(e,t){return F()(e,"MM/DD/YYYY").isBefore(F()(t,"MM/DD/YYYY"))?-1:1})).map((function(e){var t=e?e.split("/"):null;return[t.length>0?new Date(t[2],t[0]-1,t[1]):null,r.map((function(t){return n[0].filter((function(n){return n.date===e&&n.age_group===t})).length}))].flat()})):[]),options:{backgroundColor:"transparent",width:650,chartArea:{width:"50%",height:"50%"}}})))},U=function(e){var t=e.filteredUniqueDates,n=e.filteredTimelineBoroughData,r=e.filteredBoroughUniqueValues,i=e.graphOption;return a.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{visibility:"trends"===i?"visible":"hidden"}},a.a.createElement("p",{className:"bottom_info_section_title"},"Borough Trends"),a.a.createElement("div",{className:"bottom_info_pie_container"},a.a.createElement(N.a,{chartType:"LineChart",loader:a.a.createElement(T.a,{size:100,color:"rgb(93, 188, 210)"}),data:[[{type:"date",label:"Date"}].concat(r.map((function(e){return"B"===e?"Bronx":"Q"===e?"Queens":"M"===e?"Manhattan":"K"===e?"Brooklyn":"S"===e?"Staten Island":"Unknown"})))].concat(t.length>0&&r.length>0?t[0].sort((function(e,t){return F()(e,"MM/DD/YYYY").isBefore(F()(t,"MM/DD/YYYY"))?-1:1})).map((function(e){var t=e?e.split("/"):null;return[t.length>0?new Date(t[2],t[0]-1,t[1]):null,r.map((function(t){return n[0].filter((function(n){return n.date===e&&n.borough===t})).length}))].flat()})):[]),options:{backgroundColor:"transparent",width:650,chartArea:{width:"50%",height:"50%"}}})))},M=function(e){var t=e.filteredUniqueDates,n=e.filteredTimelineCategoryData,r=e.filteredUniqueCategory,i=e.graphOption,o=e.uniqueValues,l=r[0]?r[0].map((function(e){return"F"===e?"Felony":"M"===e?"Misdemeanor":"Violation"})).filter(o):[];return a.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{visibility:"trends"===i?"visible":"hidden"}},a.a.createElement("p",{className:"bottom_info_section_title"},"Category Trends"),a.a.createElement("div",{className:"bottom_info_pie_container"},a.a.createElement(N.a,{chartType:"LineChart",loader:a.a.createElement(T.a,{size:100,color:"rgb(93, 188, 210)"}),data:[[{type:"date",label:"Date"}].concat(l)].concat(t.length>0?t[0].sort((function(e,t){return F()(e,"MM/DD/YYYY").isBefore(F()(t,"MM/DD/YYYY"))?-1:1})).map((function(e){var t=e?e.split("/"):null;return[t.length>0?new Date(t[2],t[0]-1,t[1]):null,l.map((function(t){return n[0].filter((function(n){return n.date===e&&n.category===t})).length}))].flat()})):[]),options:{backgroundColor:"transparent",width:650,chartArea:{width:"50%",height:"50%"}}})))},q=function(e){var t=e.filteredUniqueDates,n=e.filteredTimelineSexData,r=e.filteredSexUniqueValues,i=e.graphOption,o=r.map((function(e){return"F"===e?"Female":"Male"}));return a.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{visibility:"trends"===i?"visible":"hidden"}},a.a.createElement("p",{className:"bottom_info_section_title"},"Gender Trends"),a.a.createElement("div",{className:"bottom_info_pie_container"},a.a.createElement(N.a,{chartType:"LineChart",loader:a.a.createElement(T.a,{size:100,color:"rgb(93, 188, 210)"}),data:[[{type:"date",label:"Date"}].concat(o)].concat(t.length>0?t[0].sort((function(e,t){return F()(e,"MM/DD/YYYY").isBefore(F()(t,"MM/DD/YYYY"))?-1:1})).map((function(e){var t=e?e.split("/"):null;return[t.length>0?new Date(t[2],t[0]-1,t[1]):null,o.map((function(t){return n[0].filter((function(n){return n.date===e&&n.sex===t})).length}))].flat()})):[]),options:{backgroundColor:"transparent",width:650,chartArea:{width:"50%",height:"50%"}}})))},V=function(e){var t=e.filteredUniqueDates,n=e.filteredTimelineRaceData,r=e.filteredRaceUniqueValues,i=e.graphOption,o=r.map((function(e){return e.split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()})).join(" ").split("/").map((function(e){return e[0].toUpperCase()+e.slice(1,e.indexOf(" ")).toLowerCase()+e.slice(e.indexOf(" "))})).join("/")}));return a.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{visibility:"trends"===i?"visible":"hidden"}},a.a.createElement("p",{className:"bottom_info_section_title"},"Race Trends"),a.a.createElement("div",{className:"bottom_info_pie_container"},a.a.createElement(N.a,{chartType:"LineChart",loader:a.a.createElement(T.a,{size:100,color:"rgb(93, 188, 210)"}),data:[[{type:"date",label:"Date"}].concat(o)].concat(t.length>0?t[0].sort((function(e,t){return F()(e,"MM/DD/YYYY").isBefore(F()(t,"MM/DD/YYYY"))?-1:1})).map((function(e){var t=e?e.split("/"):null;return[t.length>0?new Date(t[2],t[0]-1,t[1]):null,o.map((function(t){return n[0].filter((function(n){return n.date===e&&n.race.split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()})).join(" ").split("/").map((function(e){return e[0].toUpperCase()+e.slice(1,e.indexOf(" ")).toLowerCase()+e.slice(e.indexOf(" "))})).join("/")===t})).length}))].flat()})):[]),options:{backgroundColor:"transparent",width:650,chartArea:{width:"50%",height:"50%"}}})))},G=n(112),W=function(e){var t=e.tooltipVisible,n=e.filteredAgeGroup,i=e.filteredRaceArr,o=e.filteredSexArr,l=e.filteredBoroughArr,c=e.filteredOffenseDescriptionArr,u=e.filteredArrestCategory,f=e.filteredUniqueCategory,m=e.uniqueValues,d=e.filteredAgeGroupData,p=e.filteredRaceUniqueValues,g=e.filteredSexUniqueValues,E=e.filteredBoroughUniqueValues,h=e.filteredOffenseDescriptionUniqueValues,_=e.currentFilters,v=e.loadedYears,O=e.filteredUniqueDates,y=e.filteredTimelineAgeGroupData,R=e.filteredTimelineBoroughData,A=e.filteredTimelineCategoryData,D=e.filteredTimelineSexData,N=e.filteredTimelineRaceData,C=Object(r.useRef)(null),T=Object(r.useState)("overview"),Y=Object(s.a)(T,2),F=Y[0],W=Y[1];return a.a.createElement("div",{className:"bottom_info_panel_container",style:{zIndex:t?-1:0}},a.a.createElement("div",{className:"bottom_info_main_info_box"},a.a.createElement("div",{className:"filters_applied"},a.a.createElement("h2",null,"Filters Applied"),0===_.year.length&&0===_.category.length&&0===_.offense.length&&0===_.age.length&&0===_.race.length&&0===_.sex.length&&0===_.borough.length?a.a.createElement("p",{className:"no_filters_applied_statement"},"No filters currently applied"):a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,a.a.createElement("strong",null,0===_.year.length||_.year.length===v.length?null:1===_.year.length?"Year: ":"Years: "),0===_.year.length||_.year.length===v.length?null:_.year.join(", ")),a.a.createElement("p",null,a.a.createElement("strong",null,0===_.category.length?null:"Categor"+(_.category.length>1?"ies: ":"y: ")),0===_.category.length?null:_.category.map((function(e){return"F"===e?"Felony":"M"===e?"Misdemeanor":"Violation"})).join(", ")),a.a.createElement("p",null,a.a.createElement("strong",null,0===_.offense.length?null:"Offense"+(1===_.offense.length?": ":"s: ")),0===_.offense.length?null:_.offense.join(", ")),a.a.createElement("p",null,a.a.createElement("strong",null,0===_.age.length?null:"Age"+(1===_.age.length?": ":"s: ")),0===_.age.length?null:_.age.map((function(e){return"65"===e?"65+":e})).join(", ")),a.a.createElement("p",null,a.a.createElement("strong",null,0===_.race.length?null:"Race"+(1===_.race.length?": ":"s: ")),0===_.race.length?null:_.race.join(", ")),a.a.createElement("p",null,a.a.createElement("strong",null,0===_.sex.length?null:"Sex: "),0===_.sex.length?null:_.sex.map((function(e){return"M"===e?"Male":"Female"})).join(", ")),a.a.createElement("p",null,a.a.createElement("strong",null,0===_.borough.length?null:"Borough"+(1===_.borough.length?": ":"s: ")),0===_.borough.length?null:_.borough.map((function(e){return"B"===e?"Bronx":"Q"===e?"Queens":"M"===e?"Manhattan":"K"===e?"Brooklyn":"S"===e?"Staten Island":"Unknown"})).join(", ")))),a.a.createElement("div",{className:"graph_options_container"},a.a.createElement("p",null,"Graph Options"),a.a.createElement(G.RadioGroup,{onChange:function(e){return W(e)},horizontal:!0,value:F},a.a.createElement(G.RadioButton,{rootColor:"rgb(190, 190, 190)",pointColor:"rgb(0, 0, 128)",value:"overview"},"Overview"),a.a.createElement(G.RadioButton,{rootColor:"rgb(190, 190, 190)",pointColor:"rgb(0, 0, 128)",value:"trends"},"Trends Over Time")))),a.a.createElement("div",{className:"carousel_container"},a.a.createElement(b.a,{color:"rgb(0, 0, 0)",className:"carousel_left_arrow",onClick:function(){return C.slidePrev()}}),a.a.createElement(S.a,{ref:function(e){return C=e},autoPlayInterval:5e3,autoPlay:!0,fadeOutAnimation:!0,dotsDisabled:!0,mouseTrackingEnabled:!0,playButtonEnabled:!1,disableAutoPlayOnAction:!1,responsive:{0:{items:4}},preservePosition:!0,items:"overview"===F?[a.a.createElement(j,{filteredArrestCategory:u,graphOption:F}),a.a.createElement(w,{filteredAgeGroup:n,filteredAgeGroupData:d,graphOption:F}),a.a.createElement(x,{filteredRaceUniqueValues:p,filteredRaceArr:i,graphOption:F}),a.a.createElement(B,{filteredUniqueDates:O,filteredSexUniqueValues:g,filteredSexArr:o,graphOption:F}),a.a.createElement(k,{filteredBoroughUniqueValues:E,filteredBoroughArr:l,graphOption:F}),a.a.createElement(L,{filteredOffenseDescriptionArr:c,filteredOffenseDescriptionUniqueValues:h,graphOption:F})]:[a.a.createElement(M,{filteredTimelineCategoryData:A,filteredUniqueDates:O,filteredArrestCategory:u,graphOption:F,filteredUniqueCategory:f,uniqueValues:m}),a.a.createElement(P,{filteredAgeGroupData:d,filteredUniqueDates:O,filteredTimelineAgeGroupData:y,graphOption:F}),a.a.createElement(U,{filteredBoroughUniqueValues:E,filteredUniqueDates:O,filteredTimelineBoroughData:R,graphOption:F}),a.a.createElement(V,{filteredRaceUniqueValues:p,filteredUniqueDates:O,filteredTimelineRaceData:N,graphOption:F}),a.a.createElement(q,{filteredUniqueDates:O,filteredSexUniqueValues:g,filteredTimelineSexData:D,graphOption:F})]}),a.a.createElement(b.b,{color:"rgb(0, 0, 0)",className:"carousel_right_arrow",onClick:function(){return C.slideNext()}})))},z=n(120),I=n(160),Q=n.n(I),K=n(161),H=n.n(K),X=n(76),J=(n(288),{2006:371932,2007:403229,2008:401526,2009:421314,2010:422320,2011:412856,2012:396278,2013:393807,2014:387725,2015:339468,2016:314862,2017:286223,2018:246772,2019:214616,2020:74783}),Z=n(121),$=n.n(Z);function ee(){var e=Object(u.a)(["\n    display: block;\n    margin: 0 auto;\n  "]);return ee=function(){return e},e}var te=new WebSocket("ws://localhost:4000");F.a.extend(H.a);var ne=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)(""),u=Object(s.a)(o,2),p=u[0],g=u[1],b=Object(r.useState)(!1),E=Object(s.a)(b,2),h=E[0],_=E[1],v=Object(r.useState)("rgb(93, 188, 210)"),O=Object(s.a)(v,2),R=O[0],D=O[1],S=Object(r.useState)(!1),N=Object(s.a)(S,2),C=N[0],T=N[1],j=Object(r.useState)([]),w=Object(s.a)(j,2),x=w[0],B=w[1],k=Object(r.useState)([]),L=Object(s.a)(k,2),Y=L[0],P=L[1],U=Object(r.useState)(!1),M=Object(s.a)(U,2),q=M[0],V=M[1],G=Object(r.useState)([]),I=Object(s.a)(G,2),K=I[0],H=I[1],Z=Object(r.useState)(0),ne=Object(s.a)(Z,2),re=ne[0],ae=ne[1],ie=Object(r.useState)(!1),oe=Object(s.a)(ie,2),le=oe[0],ce=oe[1],ue=Object(r.useState)([2020]),se=Object(s.a)(ue,2),fe=se[0],me=se[1],de=Object(r.useState)([]),pe=Object(s.a)(de,2),ge=pe[0],be=pe[1],Ee=Object(r.useState)([]),he=Object(s.a)(Ee,2),_e=he[0],ve=he[1],Oe=Object(r.useState)([]),ye=Object(s.a)(Oe,2),Re=ye[0],Ae=ye[1],De=Object(r.useState)([]),Se=Object(s.a)(De,2),Ne=Se[0],Ce=Se[1],Te=Object(r.useState)([]),je=Object(s.a)(Te,2),we=je[0],xe=je[1],Be=Object(r.useState)([]),ke=Object(s.a)(Be,2),Le=ke[0],Ye=ke[1],Fe=Object(r.useState)({year:[],category:[],offense:[],age:[],race:[],sex:[],borough:[]}),Pe=Object(s.a)(Fe,2),Ue=Pe[0],Me=Pe[1],qe=Object(r.useState)(window.innerWidth),Ve=Object(s.a)(qe,1)[0],Ge=Object(r.useState)(""),We=Object(s.a)(Ge,2),ze=We[0],Ie=We[1],Qe=Object(r.useRef)([]),Ke=Object(r.useRef)([{}]),He=Object(r.useRef)([]),Xe=Object(r.useRef)(null);Object(r.useLayoutEffect)((function(){var e=function(){window.innerWidth!==ze&&Ie(window.innerWidth)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[ze]);var Je=Object(z.css)(ee()),Ze=function(e,t,n){return n.indexOf(e)===t},$e=p?p.flat():[""],et=He.current.flat(),tt=function(e){return/\d/.test(e)},nt=$e.length>0&&$e.map((function(e){return e.AGE_GROUP})).filter((function(e){return"AGE_GROUP"!==e})),rt=$e.length>0&&$e.map((function(e){return e.PERP_RACE})).filter((function(e){return"PERP_RACE"!==e})),at=$e.length>0&&$e.map((function(e){return"K"===e.ARREST_BORO&&Number(e.Latitude)>40.73912?"B":"M"===e.ARREST_BORO&&Number(e.Longitude)>-73.920961&&Number(e.Latitude)<40.800709?"Q":"B"===e.ARREST_BORO&&Number(e.Latitude)<40.697465?"K":"Q"===e.ARREST_BORO&&Number(e.Longitude)<-73.962745?"M":"Q"===e.ARREST_BORO&&Number(e.Longitude)<-73.878559&&Number(e.Latitude)>40.787907?"B":e.ARREST_BORO})).filter((function(e){return"ARREST_BORO"!==e})),it=$e.length>0&&$e.map((function(e){return"OFNS_DESC"!==e.OFNS_DESC&&e.OFNS_DESC})),ot=et.map((function(e){return e.LAW_CAT_CD})).filter((function(e){return"LAW_CAT_CD"!==e})),lt=et.map((function(e){return e.AGE_GROUP})).filter((function(e){return"AGE_GROUP"!==e})),ct=et.map((function(e){return e.PERP_SEX})).filter((function(e){return"PERP_SEX"!==e})),ut=et.map((function(e){return e.PERP_RACE})).filter((function(e){return"PERP_RACE"!==e})),st=et.map((function(e){return"K"===e.ARREST_BORO&&Number(e.Latitude)>40.77?"B":"M"===e.ARREST_BORO&&Number(e.Longitude)>-73.920961&&Number(e.Latitude)<40.800709?"Q":"B"===e.ARREST_BORO&&Number(e.Latitude)<40.697465?"K":"B"===e.ARREST_BORO&&Number(e.Latitude)>40.796669&&Number(e.Longitude)<-73.932786||"B"===e.ARREST_BORO&&Number(e.Latitude)<40.796669&&Number(e.Longitude)<-73.98||"Q"===e.ARREST_BORO&&Number(e.Longitude)<-73.962745?"M":"Q"===e.ARREST_BORO&&Number(e.Longitude)<-73.878559&&Number(e.Latitude)>40.787907?"B":e.ARREST_BORO})).filter((function(e){return"ARREST_BORO"!==e})),ft=et.map((function(e){return"OFNS_DESC"!==e.OFNS_DESC&&e.OFNS_DESC})),mt=He.current.map((function(e){return e.map((function(e){return e.LAW_CAT_CD})).filter((function(e){return"LAW_CAT_CD"!==e})).filter(Ze)})),dt=He.current.map((function(e){return e.map((function(e){return e.ARREST_DATE})).filter((function(e){return"ARREST_DATE"!==e})).filter(Ze)})),pt=He.current.map((function(e){return e.map((function(e){return{date:e.ARREST_DATE,age_group:e.AGE_GROUP}})).filter((function(e){return"ARREST_DATE"!==e.date&&"AGE_GROUP"!==e.age_group}))})),gt=He.current.map((function(e){return e.map((function(e){return{date:e.ARREST_DATE,borough:e.ARREST_BORO}})).filter((function(e){return"ARREST_DATE"!==e.date&&"ARREST_BORO"!==e.borough}))})),bt=He.current.map((function(e){return e.map((function(e){return{date:e.ARREST_DATE,category:"F"===e.LAW_CAT_CD?"Felony":"M"===e.LAW_CAT_CD?"Misdemeanor":"Violation"}})).filter((function(e){return"ARREST_DATE"!==e.date&&"LAW_CAT_CD"!==e.category}))})),Et=He.current.map((function(e){return e.map((function(e){return{date:e.ARREST_DATE,sex:"F"===e.PERP_SEX?"Female":"Male"}})).filter((function(e){return"ARREST_DATE"!==e.date&&"PERP_SEX"!==e.sex}))})),ht=He.current.map((function(e){return e.map((function(e){return{date:e.ARREST_DATE,race:e.PERP_RACE}})).filter((function(e){return"ARREST_DATE"!==e.date&&"PERP_RACE"!==e.race}))})),_t=lt.filter(Ze).sort((function(e,t){return(tt(e)?Number(e.split("<"===e[0]?"<":"-")["<"===e[0]?1:0]):null)-(tt(t)?Number(t.split("<"===t[0]?"<":"-")["<"===t[0]?1:0]):null)})),vt=ut.filter(Ze).sort(),Ot=ct.filter(Ze).sort(),yt=st.filter(Ze).sort(),Rt=ft.filter(Ze).sort(),At=nt.filter(Ze).sort((function(e,t){return(tt(e)?Number(e.split("<"===e[0]?"<":"-")["<"===e[0]?1:0]):null)-(tt(t)?Number(t.split("<"===t[0]?"<":"-")["<"===t[0]?1:0]):null)})),Dt=rt.filter(Ze).sort(),St=at.filter(Ze).sort(),Nt=it.filter(Ze).sort();Object(r.useEffect)((function(){if(C)D("rgb(255, 0, 0)");else for(var e=function(){var e=setInterval((function(){D("rgb(93, 188, 210)"===R?"rgb(255, 255, 255)":"rgb(255, 255, 255)"===R?"#f9c124":"rgb(93, 188, 210)")}),500);return{v:function(){clearInterval(e)}}};""===p;){var t=e();if("object"===typeof t)return t.v}}),[p,R,C]),Object(r.useEffect)((function(){A.a.enable()}),[]);var Ct=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_MAPBOX_TOKEN,Tt=Object(r.useCallback)((function(){var e,t,n=He.current.map((function(e){return e.map((function(e){return e.ARREST_DATE})).filter((function(e){return"ARREST_DATE"!==e})).map((function(e){return Number(F()(e,"MM/DD/YYYY").format("YYYY"))})).filter(Ze)}));x.length!==He.length&&(Qe.current=He.current.map((function(e,t){var r=e.map((function(e){return e.ARREST_DATE})).filter((function(e){return"ARREST_DATE"!==e})).map((function(e){return F()(e,"MM/DD/YYYY").format("YYYY")})).filter(Ze);return new d.a({id:"chunk-".concat(t),data:e,visible:n.flat().includes(Number(r[0])),filled:!0,radiusMinPixels:3,getPosition:function(e){return[Number(e.Longitude),Number(e.Latitude)]},getFillColor:function(e){return"F"===e.LAW_CAT_CD?[255,0,0]:"M"===e.LAW_CAT_CD?[255,116,0]:[255,193,0]},pickable:!0,parameters:{depthTest:!1}})})),e=x,t=Qe.current,e.length===t.length&&e.every((function(e,n){return e===t[n]}))||B(Qe.current))}),[He,x]),jt=Object(r.useCallback)((function(e){var t=e.year;Ke.current[0][t]?Ke.current[0][t].push(e.data):Object.assign(Ke.current[0],Object(c.a)({},t,[e.data]));var n=Object.keys(Ke.current[0]).map((function(e,t){return Object(c.a)({},e,Ke.current[0][e])})).map((function(e){for(var t=Object.keys(e)[0],n=[],r=0;r<e[t].length;r++)for(var a=e[t][r],i=0;i<a.length;i++)n.push(a[i]);return n}));He.current=n,g(n),0!==x.length&&x.length===n.length||Tt()}),[Ke,Tt,x.length]);Object(r.useEffect)((function(){var e=Ke.current,t=K[0]?K[0].toString().slice():null;if(K[0])var n=setInterval((function(){if(e[0][t.toString()]){var r=(e[0][t.toString()].map((function(e){return e.length})).reduce((function(e,t){return e+t}),0)/J[t.toString()]).toFixed(1);Xe.current&&re!==r&&ae(Number(r))}return function(){clearInterval(n)}}),500)}),[re,K]),Object(r.useEffect)((function(){if(re<1&&Xe.current)X.b.update(Xe.current,{progress:re});else if(1===re){X.b.update(Xe.current,{render:"Data for ".concat(K[0].toString()," successfully loaded"),type:X.b.TYPE.SUCCESS,autoClose:!1,progress:1,closeButton:!0});var e=setTimeout((function(){X.b.dismiss()}),1e4);return function(){clearTimeout(e)}}}),[re,K]),Object(r.useEffect)((function(){if(K.length>0){var e=K[0];Xe.current||(Xe.current=X.b.info("Loading ".concat(e," data"),{position:"top-center",autoClose:!1,hideProgressBar:!1,progress:0}))}}),[K,re]);var wt=Object.keys(Ke.current[0]).map((function(e,t){return Object(c.a)({},e,Ke.current[0][e])})).map((function(e,t){var n=Object.keys(Ke.current[0])[t],r=[];if(e[n])for(var a=0;a<e[n].length;a++)for(var i=e[n][a],o=0;o<i.length;o++)r.push(i[o]);return r})),xt=Object(r.useCallback)((function(e){Y.includes(2020)?(te.send(e),te.onmessage=function(t){var n=$.a.decompressFromEncodedURIComponent(t.data);jt({year:e,data:JSON.parse(n)}),Y.includes(e)||P([].concat(Object(l.a)(Y),[e])),1===re&&(ae(0),Y.includes(e)||P([].concat(Object(l.a)(Y),[e])),K.length>0&&H([]),q&&V(!1))}):te.onopen=function(t){te.send(e),setInterval((function(){te.send(".")}),55e3),te.onmessage=function(t){var n=$.a.decompressFromEncodedURIComponent(t.data);console.log(JSON.parse(n)),jt({year:e,data:JSON.parse(n)}),Y.includes(e)||P([].concat(Object(l.a)(Y),[e])),1===re&&(Y.includes(e)&&P([].concat(Object(l.a)(Y),[e])),K.length>0&&H([]),q&&V(!1))}}}),[Y,jt,q,K.length,re]);Object(r.useEffect)((function(){Y.includes(2020)?K.length>0&&!Ke.current[0][K[0]]&&xt(K[0]):xt(2020)}),[jt,p,Y,xt,K]);var Bt=function(e,t,n){var r=document.getElementsByClassName("deck-tooltip")[0];if(e){h||_(!0);var a=e.ARREST_DATE,i=e.LAW_CAT_CD,o=e.OFNS_DESC,l=e.PD_DESC,c=e.AGE_GROUP,u=e.PERP_SEX,s=e.PERP_RACE;r.innerHTML="\n      <p><strong>Date of Arrest:</strong> ".concat(a,"</p>\n      <p><strong>Category:</strong> ").concat("F"===i?"Felony":"M"===i?"Misdemeanor":"Violation","</p>\n      <p><strong>Offense:</strong> ").concat(o,"</p>\n      <p><strong>Offense Description:</strong> ").concat(l,"</p>\n      <p><strong>Perpetrator's Age Group:</strong> ").concat(c,"</p>\n      <p><strong>Perpetrator's Sex:</strong> ").concat("M"===u?"Male":"Female","</p>\n      <p><strong>Perpetrator's Race:</strong> ").concat(s.toLowerCase().split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" "),"</p>\n  "),r.style.display="inline-block",r.style.background="#000",r.style.color="rgb(235, 235, 235)",r.style.fontSize="1rem",r.style.overflowWrap="break-word",r.style.lineHeight="1rem",r.style.maxWidth="10rem",r.style.opacity=.9,r.style.left=t+"px",r.style.top=n+"px"}else h&&_(!1),r.style.opacity=0};return Object(r.useEffect)((function(){if("object"===typeof p&&p.flat().length>7e4){var e=setTimeout((function(){return ce(!0)}),3e3);return function(){clearTimeout(e)}}}),[p]),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"loading_container",style:{display:""===p||"object"===typeof p&&p.flat().length<7e4?"flex":"none"}},a.a.createElement(Q.a,{css:Je,size:50,color:R,style:{transition:"all 0.5s ease"},loading:""===p||"object"===typeof p&&p.flat().length<7e4}),a.a.createElement("p",null,C?"Error Initializing NYPD Arrest Map":"Initializing NYPD Arrest Map")),a.a.createElement("div",{className:"nypd_arrest_map_container",style:{opacity:""===p||"object"===typeof p&&p.flat().length<7e4?0:1}},a.a.createElement(X.a,{position:"bottom-center",autoClose:!1,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,pauseOnHover:!1}),a.a.createElement(y,{loadData:p?p.flat():[""],raceUniqueValues:Dt,boroughUniqueValues:St,offenseDescriptionUniqueValues:Nt,ageGroupData:At,setFilters:function(e,t,n,r,a,i,o){var l=e.filter((function(e){return!Y.includes(e)}));Me({year:e,category:t,offense:n,age:r,race:a,sex:i,borough:o}),He.current=wt.map((function(l){return l.filter((function(l){return!(!e.includes(Number(F()(l.ARREST_DATE,"MM/DD/YYYY").format("YYYY")))&&0!==e.length||!t.includes(l.LAW_CAT_CD)&&0!==t.length||!n.includes(l.OFNS_DESC)&&0!==n.length||!r.includes(l.AGE_GROUP)&&0!==r.length||!a.includes(l.PERP_RACE)&&0!==a.length||!i.includes(l.PERP_SEX)&&0!==i.length||!a.includes(l.PERP_RACE)&&0!==a.length||!o.includes("K"===l.ARREST_BORO&&Number(l.Latitude)>40.77?"B":"M"===l.ARREST_BORO&&Number(l.Longitude)>-73.920961&&Number(l.Latitude)<40.800709?"Q":"B"===l.ARREST_BORO&&Number(l.Latitude)<40.697465?"K":"B"===l.ARREST_BORO&&Number(l.Latitude)>40.796669&&Number(l.Longitude)<-73.932786||"B"===l.ARREST_BORO&&Number(l.Latitude)<40.796669&&Number(l.Longitude)<-73.98||"Q"===l.ARREST_BORO&&Number(l.Longitude)<-73.962745?"M":"Q"===l.ARREST_BORO&&Number(l.Longitude)<-73.878559&&Number(l.Latitude)>40.787907?"B":l.ARREST_BORO)&&0!==o.length)}))})),!l.length>0&&setTimeout((function(){return V(!1)}),2e3),Tt()},initialScreenWidth:Ve,currentScreenWidth:ze,loadedYears:Y,pointClicked:h,changeLaddaLoading:V,laddaLoading:q,filteredData:He.current,handleDownloadYear:function(e){H([e])},yearFilter:fe,changeYearFilter:me,categoryFilter:ge,changeCategoryFilter:be,offenseFilter:_e,changeOffenseFilter:ve,ageFilter:Re,changeAgeFilter:Ae,raceFilter:Ne,changeRaceFilter:Ce,sexFilter:we,changeSexFilter:xe,boroughFilter:Le,changeBoroughFilter:Ye}),a.a.createElement(f.a,{initialViewState:{longitude:-73.935242,latitude:40.73061,zoom:window.innerWidth<1200?9:11,minZoom:9,pitch:0,bearing:0},controller:!0,layers:Qe.current,onHover:function(e){var t=e.object,n=e.x,r=e.y;return Bt(t,n,r)},onClick:function(e){var t=e.object,n=e.x,r=e.y;return Bt(t,n,r)},pickingRadius:10,onLoad:function(){return i(!0)},onError:function(e){return T(!0)}},a.a.createElement(m.a,{mapStyle:"mapbox://styles/mapbox/dark-v9",mapboxApiAccessToken:Ct})),n?a.a.createElement(W,{mapVisible:le,loadData:$e,loadDataChunks:Ke.current,tooltipVisible:h,filteredArrestCategory:ot,filteredAgeGroupData:_t,filteredRaceUniqueValues:vt,filteredSexUniqueValues:Ot,filteredBoroughUniqueValues:yt,filteredOffenseDescriptionUniqueValues:Rt,filteredUniqueCategory:mt,filteredAgeGroup:lt,filteredRaceArr:ut,filteredSexArr:ct,filteredBoroughArr:st,filteredOffenseDescriptionArr:ft,loadedYears:Y,currentFilters:Ue,filteredUniqueDates:dt,filteredTimelineAgeGroupData:pt,filteredTimelineBoroughData:gt,filteredTimelineCategoryData:bt,filteredTimelineSexData:Et,filteredTimelineRaceData:ht,uniqueValues:Ze}):null))};n(294).config(),o.a.render(a.a.createElement(ne,null),document.getElementById("root"))}},[[178,1,2]]]);
//# sourceMappingURL=main.2b6b46b1.chunk.js.map