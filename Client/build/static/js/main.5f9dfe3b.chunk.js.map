{"version":3,"sources":["NavigationBar/InfoPopUp/InfoPopUp.js","actions/filters/category/ACTION_CHANGE_CATEGORY_FILTER.js","actions/filters/offense/ACTION_CHANGE_OFFENSE_FILTER.js","actions/filters/age/ACTION_CHANGE_AGE_FILTER.js","actions/filters/race/ACTION_CHANGE_RACE_FILTER.js","actions/filters/sex/ACTION_CHANGE_SEX_FILTER.js","actions/filters/borough/ACTION_CHANGE_BOROUGH_FILTER.js","NavigationBar/NavigationBar.js","BottomInfoPanel/CarouselItems/Category/Category.js","BottomInfoPanel/CarouselItems/AgeGroup/AgeGroup.js","BottomInfoPanel/CarouselItems/Race/Race.js","BottomInfoPanel/CarouselItems/Gender/Gender.js","BottomInfoPanel/CarouselItems/Borough/Borough.js","BottomInfoPanel/CarouselItems/TopOffenses/TopOffenses.js","BottomInfoPanel/CarouselItems/AgeGroup/AgeGroupTimeline.js","BottomInfoPanel/CarouselItems/Borough/BoroughTimeline.js","BottomInfoPanel/CarouselItems/Category/CategoryTimeline.js","BottomInfoPanel/CarouselItems/Gender/GenderTimeline.js","BottomInfoPanel/CarouselItems/Race/RaceTimeline.js","BottomInfoPanel/BottomInfoPanel.js","YearlyTotals.js","InitialLoader.js","SubsequentLoader.js","actions/loadDataChunks/ACTION_LOAD_DATA_CHUNKS_ADD_TO_YEAR.js","actions/loadDataChunks/ACTION_LOAD_DATA_CHUNKS_ADD_YEAR.js","actions/filteredDataChunks/ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR.js","actions/filteredDataChunks/ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR.js","actions/filteredDataChunks/ACTION_ASSIGN_FILTERED_DATA_CHUNKS.js","actions/totalCount/ACTION_INCREMENT_TOTAL_COUNT.js","actions/loadData/ACTION_ASSIGN_LOAD_DATA.js","actions/filteredData/ACTION_ASSIGN_FILTERED_DATA.js","actions/filteredData/ACTION_FILTERED_DATA_CHANGED.js","actions/filteredData/ACTION_FILTERED_DATA_CHANGED_RESET.js","actions/timelineGraphData/ageGroup/ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA.js","actions/timelineGraphData/borough/ACTION_TIMELINE_BOROUGH_GRAPH_DATA.js","actions/timelineGraphData/category/ACTION_TIMELINE_CATEGORY_GRAPH_DATA.js","actions/timelineGraphData/gender/ACTION_TIMELINE_GENDER_GRAPH_DATA.js","actions/timelineGraphData/race/ACTION_TIMELINE_RACE_GRAPH_DATA.js","setFilterAndTimelineGraphWorkers.js","actions/timelineColumns/age/ACTION_AGE_TIMELINE_COLUMNS.js","actions/timelineColumns/borough/ACTION_BOROUGH_TIMELINE_COLUMNS.js","actions/timelineColumns/category/ACTION_CATEGORY_TIMELINE_COLUMNS.js","actions/timelineColumns/sex/ACTION_SEX_TIMELINE_COLUMNS.js","actions/timelineColumns/race/ACTION_RACE_TIMELINE_COLUMNS.js","actions/filters/year/ACTION_CHANGE_YEAR_FILTER.js","actions/applyingFilters/ACTION_APPLYING_FILTERS.js","actions/applyingFilters/ACTION_APPLYING_FILTERS_RESET.js","ApplyingFiltersPopUp/ApplyingFiltersPopUp.js","actions/newYearFinishedLoading/ACTION_NEW_YEAR_FINISHED_LOADING_RESET.js","actions/newYearFinishedLoading/ACTION_NEW_YEAR_FINISHED_LOADING.js","actions/trendsAvailable/ACTION_TRENDS_AVAILABLE.js","actions/trendsAvailable/ACTION_TRENDS_NOT_AVAILABLE.js","App.js","index.js","store.worker.js"],"names":["InfoPopUp","props","footerMenuActive","isMobileOrTablet","trigger","className","style","pointerEvents","color","opacity","transition","modal","close","onClick","href","target","rel","ACTION_CHANGE_CATEGORY_FILTER","category","type","ACTION_CHANGE_OFFENSE_FILTER","offense","ACTION_CHANGE_AGE_FILTER","age","ACTION_CHANGE_RACE_FILTER","race","ACTION_CHANGE_SEX_FILTER","sex","ACTION_CHANGE_BOROUGH_FILTER","borough","NavigationBar","loadData","raceUniqueValues","boroughUniqueValues","ageGroupData","offenseDescriptionUniqueValues","setFilters","changeLaddaLoading","laddaLoading","loadedYears","menuClicked","changeMenuClicked","collapseOpen","changeCollapseOpen","layersRef","isTablet","dispatch","useDispatch","filteredDataChunks","useSelector","state","filteredDataChunksReducer","data","totalCount","totalCountReducer","total","categoryFilter","categoryFilterReducer","ageFilter","ageFilterReducer","yearFilter","yearFilterReducer","year","boroughFilter","boroughFilterReducer","sexFilter","sexFilterReducer","offenseFilter","offenseFilterReducer","raceFilter","raceFilterReducer","ageTimelineColumns","ageTimelineColumnsReducer","columns","boroughTimelineColumns","boroughTimelineColumnsReducer","categoryTimelineColumns","categoryTimelineColumnsReducer","raceTimelineColumns","raceTimelineColumnsReducer","sexTimelineColumns","sexTimelineColumnsReducer","logoContainerRef","useRef","burgerMenu","document","getElementsByClassName","mapboxAttribRef","footerMenuTrigger","overviewTip","mapDetailsTip","mapLegend","useState","tooltipVisible","changeTooltipVisible","handleCategoryFilters","includes","filter","item","copyArr","slice","push","handleSexFilters","useEffect","setProperty","length","tooltipHideDelay","setTimeout","clearTimeout","content","minWidth","current","clientWidth","maxWidth","sort","join","flat","toLocaleString","visible","allowHTML","reference","placement","ref","textAlign","duration","arrow","onClickOutside","right","customBurgerIcon","onOpen","onClose","isOpen","fill","onTriggerOpening","onTriggerClosing","open","name","checked","onChange","map","desc","i","key","handleOffenseFilters","split","x","toUpperCase","toLowerCase","indexOf","handleAgeFilters","handleRaceFilters","handleBoroughFilters","loading","data-color","data-size","XL","data-style","EXPAND_LEFT","data-spinner-size","data-spinner-color","data-spinner-lines","Category","filteredArrestCategory","graphOption","onDragStart","e","preventDefault","display","chartEvents","eventName","callback","chartWrapper","getChart","setSelection","chartType","loader","size","options","backgroundColor","AgeGroup","filteredAgeGroupData","filteredAgeGroup","concat","Race","filteredRaceUniqueValues","filteredRaceArr","Gender","filteredSexUniqueValues","filteredSexArr","Borough","filteredBoroughUniqueValues","filteredBoroughArr","TopOffenses","filteredOffenseDescriptionArr","filteredOffenseDescriptionUniqueValues","isSame","usePrevious","isMediumLaptop","sortedArr","changeSortedArr","prevFilteredOffenseDescriptionArr","prevFilteredOffenseDescriptionUniqueValues","offenseData","a","b","legend","position","width","bar","groupWidth","chartArea","height","AgeGroupTimeline","legendToggle","hAxis","title","vAxis","explorer","axis","keepInBounds","maxZoomIn","BoroughTimeline","CategoryTimeline","GenderTimeline","RaceTimeline","BottomInfoPanel","filteredUniqueCategory","currentFilters","changeGraphOption","changeFooterMenuActive","filteredTimelineAgeGroupData","filteredTimelineBoroughData","filteredTimelineCategoryData","filteredTimelineSexData","filteredTimelineRaceData","loadDataChunks","loadDataChunksReducer","trendsAvailable","trendsAvailableReducer","available","firstTimeFooterActive","changeFirstTimeFooterActive","arrowTooltipVisible","changeArrowTooltipVisible","timelineTooltipVisible","changeTimelineTooltipVisible","CarouselRef","CarouselTimelineRef","rightArrow","aliceCarouselContainer","overviewCarouselContainer","trendsCarouselContainer","categoryTimelineContainer","googleTooltipContainer","checkForTooltip","setInterval","tooltip","circles","getElementsByTagName","activePanelContainer","activePaths","activeText","valuesLength","getAttribute","textContent","lastChild","firstChild","j","clearInterval","trendsRadioButton","zIndex","transform","Object","keys","value","horizontal","rootColor","pointColor","disabled","disabledColor","onTouchStart","slidePrev","el","autoPlay","fadeOutAnimation","dotsDisabled","buttonsDisabled","mouseTrackingEnabled","playButtonEnabled","disableAutoPlayOnAction","responsive","0","items","760","1600","preservePosition","offset","touchMoveDefaultEvents","slideNext","yearlyTotals","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","InitialLoader","countUp","loaderColor","mapError","applyingFiltersProgressRef","override","css","styles","buildStyles","strokeLinecap","trailColor","fontSize","marginTop","SubsequentLoader","modalActive","changeModalActive","newProgress","changeNewProgress","toString","progress","Number","reduce","toFixed","active","backdropFilter","WebkitBackdropFilter","paddingBottom","borderRadius","top","left","bottom","border","flexDirection","alignItems","justifyContent","background","ACTION_LOAD_DATA_CHUNKS_ADD_TO_YEAR","ACTION_LOAD_DATA_CHUNKS_ADD_YEAR","ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR","dataIndex","ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR","ACTION_ASSIGN_FILTERED_DATA_CHUNKS","ACTION_INCREMENT_TOTAL_COUNT","dataLength","ACTION_ASSIGN_LOAD_DATA","ACTION_ASSIGN_FILTERED_DATA","ACTION_FILTERED_DATA_CHANGED","ACTION_FILTERED_DATA_CHANGED_RESET","ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA","ACTION_TIMELINE_BOROUGH_GRAPH_DATA","ACTION_TIMELINE_CATEGORY_GRAPH_DATA","ACTION_TIMELINE_GENDER_GRAPH_DATA","ACTION_TIMELINE_RACE_GRAPH_DATA","Worker","ACTION_AGE_TIMELINE_COLUMNS","ACTION_BOROUGH_TIMELINE_COLUMNS","ACTION_CATEGORY_TIMELINE_COLUMNS","ACTION_SEX_TIMELINE_COLUMNS","ACTION_RACE_TIMELINE_COLUMNS","ACTION_CHANGE_YEAR_FILTER","ACTION_APPLYING_FILTERS","ACTION_APPLYING_FILTERS_RESET","ApplyingFiltersPopUp","applyingFiltersRef","applyingFilters","applyingFiltersReducer","filters","closeOnDocumentClick","closeOnEscape","ACTION_NEW_YEAR_FINISHED_LOADING_RESET","ACTION_NEW_YEAR_FINISHED_LOADING","ACTION_TRENDS_AVAILABLE","ACTION_TRENDS_NOT_AVAILABLE","dayjs","extend","customParseFormat","App","loadDataReducer","filteredData","filteredDataReducer","filteredDataChanged","changed","newYearFinishedLoading","newYearFinishedLoadingReducer","finished","ageGroupTimelineGraphData","ageGroupTimelineGraphDataReducer","boroughTimelineGraphData","boroughTimelineGraphDataReducer","categoryTimelineGraphData","categoryTimelineGraphDataReducer","genderTimelineGraphData","genderTimelineGraphDataReducer","raceTimelineGraphData","raceTimelineGraphDataReducer","mapLoaded","changeMapLoaded","changeLoaderColor","changeMapError","mapPostsCompleted","changeMapPostsCompleted","readyForTimelineColumnPosts","changeReadyForTimelineColumnPosts","changeCurrentFilters","useMediaQuery","isPortrait","orientation","loadingYears","changeLoadingYears","workerInstance","changeWorkerInstance","mapFilterWorkerInstance","changeMapFilterWorkerInstance","filterWorkerInstance","changeFilterWorkerInstance","timelineWorkerInstance","changeTimelineWorkerInstance","setFilterAndTimelineGraphWorkersInstance","changeSetFilterAndTimelineGraphWorkersInstance","mapVisible","changeMapVisible","deckGLRef","Modal","setAppElement","prevFilters","useCountUp","start","end","delay","update","arr1","arr2","every","ageGroup","changeAgeGroup","raceArr","changeRaceArr","boroughArr","changeBoroughArr","offenseDescriptionArr","changeOffenseDescriptionArr","changeFilteredArrestCategory","changeFilteredAgeGroup","changeFilteredSexArr","changeFilteredRaceArr","changeFilteredBoroughArr","changeFilteredOffenseDescriptionArr","changeFilteredUniqueCategory","changeFilteredTimelineAgeGroupData","changeFilteredTimelineBoroughData","changeFilteredTimelineCategoryData","changeFilteredTimelineSexData","changeFilteredTimelineRaceData","postToTimelineGraphWorker","useCallback","ageObj","raceObj","categoryObj","sexObj","boroughObj","postMessage","onmessage","receivedData","postToFilteredWorker","parsedData","JSON","parse","changeFilteredAgeGroupData","changeFilteredRaceUniqueValues","changeFilteredSexUniqueValues","changeFilteredBoroughUniqueValues","changeFilteredOffenseDescriptionUniqueValues","changeAgeGroupData","changeRaceUniqueValues","changeBoroughUniqueValues","changeOffenseDescriptionUniqueValues","postToMapFilterWorker","postToTimelineWorker","chunk","age_group","unique","renderLayers","yearsFiltered","format","chunkIndex","yearOfChunk","ScatterplotLayer","id","filled","radiusMinPixels","getPosition","d","Longitude","Latitude","getFillColor","LAW_CAT_CD","pickable","useDevicePixels","parameters","depthTest","depthRange","expectedTotal","prevAgeGroupTimelineGraphData","prevBoroughTimelineGraphData","prevCategoryTimelineGraphData","prevGenderTimelineGraphData","prevRaceTimelineGraphData","label","categoryArr","Set","genderArr","colorChangeInterval","showTooltip","object","y","addEventListener","ARREST_DATE","OFNS_DESC","PD_DESC","AGE_GROUP","PERP_SEX","PERP_RACE","innerHTML","overflowWrap","lineHeight","onNewDataArrive","firstMessage","lastMessage","chunkYear","dataFetch","chunkArr","suppliedData","downloadYear","assignFilteredData","assignFilteredDataFlat","values","blobURL","URL","createObjectURL","Blob","mapFilterWorker","timelineWorker","worker","setFilterAndTimelineGraphWorkers","filterWorker","ws","WebSocket","readyState","send","onopen","stringify","socketWorker","handleDownloadYear","newYearArr","initialViewState","longitude","latitude","zoom","window","innerWidth","minZoom","pitch","bearing","layers","pickingRadius","controller","onLoad","onError","onHover","mapStyle","preventStyleDiffing","mapboxApiAccessToken","process","require","config","store","wrapStore","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.5f9dfe3b.chunk.js","sourcesContent":["import React from \"react\";\nimport { BsInfoCircle } from \"react-icons/bs\";\nimport { SiGithub, SiLinkedin } from \"react-icons/si\";\nimport { ImMail } from \"react-icons/im\";\nimport Popup from \"reactjs-popup\";\nimport \"./info_pop_up.css\";\nimport \"reactjs-popup/dist/index.css\";\n\nconst InfoPopUp = (props) => {\n  const { footerMenuActive, isMobileOrTablet } = props;\n\n  return (\n    <Popup\n      trigger={\n        <div\n          className=\"info_circle_container\"\n          style={{\n            pointerEvents: isMobileOrTablet\n              ? footerMenuActive\n                ? \"none\"\n                : \"all\"\n              : \"all\",\n          }}\n        >\n          <BsInfoCircle\n            color=\"rgb(255, 255, 255)\"\n            style={{\n              opacity: isMobileOrTablet ? (footerMenuActive ? 0.2 : 1) : 1,\n              transition: \"opacity 1s ease\",\n            }}\n            className=\"info_button\"\n          />\n        </div>\n      }\n      modal\n    >\n      {(close) => (\n        <div className=\"modal\">\n          <button className=\"close\" onClick={close}>\n            &times;\n          </button>\n          <div className=\"header\">About NYPD Arrest Map</div>\n          <div className=\"content\">\n            NYPD Arrest Map is a data visualization and analysis tool that\n            utilizes the{\" \"}\n            <a\n              href=\"https://data.cityofnewyork.us/Public-Safety/NYPD-Arrest-Data-Year-to-Date-/uip8-fykc\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              NYPD Arrest Data (Year to Date)\n            </a>{\" \"}\n            NYC Open Data dataset. This dataset is updated quarterly and\n            reviewed by the Office of Management Analysis and Planning before\n            being posted on the New York Police Department website. The data\n            reflected here will be updated shortly after such changes.\n            <br />\n            <br />\n            Occasionally, arrests in the NYPD datasets will be erroneously\n            attributed to one borough, while having the longitude and latitude\n            of another. These have been corrected in the NYPD Arrest Map in\n            favor of the arrest's geocoordinates.\n            <br />\n            <br />\n            As stated by the NYPD, \"each record represents an arrest effected in\n            NYC by the NYPD and includes information about the type of crime,\n            the location and time of enforcement. In addition, information\n            related to suspect demographics is also included. This data can be\n            used by the public to explore the nature of police enforcement\n            activity.\"\n            <br />\n            <br />\n            <p>\n              Have any questions? Comments? Contact me via e-mail or LinkedIn\n            </p>\n            <div className=\"pop_up_icons_container\">\n              <a\n                href=\"https://github.com/amamenko/nypd-arrest-map-full-stack\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <SiGithub color=\"#000\" />\n              </a>\n              <a\n                href=\"https://www.linkedin.com/in/avraham-mamenko-0599831b8/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <SiLinkedin color=\"#000\" />\n              </a>\n              <a href=\"mailto:amamenko@hotmail.com?subject=Comment/Question About NYPD Arrest Map\">\n                <ImMail color=\"#000\" />\n              </a>\n            </div>\n          </div>\n        </div>\n      )}\n    </Popup>\n  );\n};\n\nexport default InfoPopUp;\n","const CHANGE_CATEGORY_FILTER = \"CHANGE_CATEGORY_FILTER\";\n\nconst ACTION_CHANGE_CATEGORY_FILTER = (category) => {\n  return {\n    type: CHANGE_CATEGORY_FILTER,\n    category,\n  };\n};\n\nexport default ACTION_CHANGE_CATEGORY_FILTER;\n","const CHANGE_OFFENSE_FILTER = \"CHANGE_OFFENSE_FILTER\";\n\nconst ACTION_CHANGE_OFFENSE_FILTER = (offense) => {\n  return {\n    type: CHANGE_OFFENSE_FILTER,\n    offense,\n  };\n};\n\nexport default ACTION_CHANGE_OFFENSE_FILTER;\n","const CHANGE_AGE_FILTER = \"CHANGE_AGE_FILTER\";\n\nconst ACTION_CHANGE_AGE_FILTER = (age) => {\n  return {\n    type: CHANGE_AGE_FILTER,\n    age,\n  };\n};\n\nexport default ACTION_CHANGE_AGE_FILTER;\n","const CHANGE_RACE_FILTER = \"CHANGE_RACE_FILTER\";\n\nconst ACTION_CHANGE_RACE_FILTER = (race) => {\n  return {\n    type: CHANGE_RACE_FILTER,\n    race,\n  };\n};\n\nexport default ACTION_CHANGE_RACE_FILTER;\n","const CHANGE_SEX_FILTER = \"CHANGE_SEX_FILTER\";\n\nconst ACTION_CHANGE_SEX_FILTER = (sex) => {\n  return {\n    type: CHANGE_SEX_FILTER,\n    sex,\n  };\n};\n\nexport default ACTION_CHANGE_SEX_FILTER;\n","const CHANGE_BOROUGH_FILTER = \"CHANGE_BOROUGH_FILTER\";\n\nconst ACTION_CHANGE_BOROUGH_FILTER = (borough) => {\n  return {\n    type: CHANGE_BOROUGH_FILTER,\n    borough,\n  };\n};\n\nexport default ACTION_CHANGE_BOROUGH_FILTER;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { slide as Menu } from \"react-burger-menu\";\nimport { BsFilterRight } from \"react-icons/bs\";\nimport { FaCircle, FaPlus } from \"react-icons/fa\";\nimport Collapsible from \"react-collapsible\";\nimport Tippy from \"@tippyjs/react\";\nimport LaddaButton, { XL, EXPAND_LEFT } from \"react-ladda\";\nimport \"tippy.js/dist/tippy.css\";\nimport \"./NavigationBar.css\";\nimport \"./burgermenu.css\";\nimport InfoPopUp from \"./InfoPopUp/InfoPopUp\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport ACTION_CHANGE_CATEGORY_FILTER from \"../actions/filters/category/ACTION_CHANGE_CATEGORY_FILTER\";\nimport ACTION_CHANGE_OFFENSE_FILTER from \"../actions/filters/offense/ACTION_CHANGE_OFFENSE_FILTER\";\nimport ACTION_CHANGE_AGE_FILTER from \"../actions/filters/age/ACTION_CHANGE_AGE_FILTER\";\nimport ACTION_CHANGE_RACE_FILTER from \"../actions/filters/race/ACTION_CHANGE_RACE_FILTER\";\nimport ACTION_CHANGE_SEX_FILTER from \"../actions/filters/sex/ACTION_CHANGE_SEX_FILTER\";\nimport ACTION_CHANGE_BOROUGH_FILTER from \"../actions/filters/borough/ACTION_CHANGE_BOROUGH_FILTER\";\n\nconst NavigationBar = (props) => {\n  const {\n    loadData,\n    raceUniqueValues,\n    boroughUniqueValues,\n    ageGroupData,\n    offenseDescriptionUniqueValues,\n    setFilters,\n    changeLaddaLoading,\n    laddaLoading,\n    loadedYears,\n    menuClicked,\n    changeMenuClicked,\n    collapseOpen,\n    changeCollapseOpen,\n    layersRef,\n    isMobileOrTablet,\n    footerMenuActive,\n    isTablet,\n  } = props;\n\n  const dispatch = useDispatch();\n\n  const filteredDataChunks = useSelector(\n    (state) => state.filteredDataChunksReducer.data\n  );\n  const totalCount = useSelector((state) => state.totalCountReducer.total);\n\n  // Filter states\n  const categoryFilter = useSelector(\n    (state) => state.categoryFilterReducer.category\n  );\n  const ageFilter = useSelector((state) => state.ageFilterReducer.age);\n  const yearFilter = useSelector((state) => state.yearFilterReducer.year);\n  const boroughFilter = useSelector(\n    (state) => state.boroughFilterReducer.borough\n  );\n  const sexFilter = useSelector((state) => state.sexFilterReducer.sex);\n  const offenseFilter = useSelector(\n    (state) => state.offenseFilterReducer.offense\n  );\n  const raceFilter = useSelector((state) => state.raceFilterReducer.race);\n\n  // Timeline Column Data\n  const ageTimelineColumns = useSelector(\n    (state) => state.ageTimelineColumnsReducer.columns\n  );\n  const boroughTimelineColumns = useSelector(\n    (state) => state.boroughTimelineColumnsReducer.columns\n  );\n  const categoryTimelineColumns = useSelector(\n    (state) => state.categoryTimelineColumnsReducer.columns\n  );\n  const raceTimelineColumns = useSelector(\n    (state) => state.raceTimelineColumnsReducer.columns\n  );\n  const sexTimelineColumns = useSelector(\n    (state) => state.sexTimelineColumnsReducer.columns\n  );\n\n  const logoContainerRef = useRef(null);\n\n  const burgerMenu = document.getElementsByClassName(\"bm-burger-button\");\n  const mapboxAttribRef = document.getElementsByClassName(\n    \"mapboxgl-ctrl-bottom-left\"\n  );\n  const footerMenuTrigger = document.getElementsByClassName(\n    \"footer_menu_trigger\"\n  );\n  const overviewTip = document.getElementsByClassName(\"overview_tooltip\");\n  const mapDetailsTip = document.getElementsByClassName(\n    \"map_details_tooltip_container\"\n  );\n  const mapLegend = document.getElementsByClassName(\n    \"overview_tooltip legend_tooltip\"\n  );\n\n  const [tooltipVisible, changeTooltipVisible] = useState(true);\n\n  const filterByCategory = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Category</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByOffense = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Offense</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByAge = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Age Group</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByRace = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Race</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterBySex = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Sex</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByBorough = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Borough</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const handleBurgerMenuClick = () => {\n    if (menuClicked) {\n      changeMenuClicked(false);\n    } else {\n      changeMenuClicked(true);\n      if (tooltipVisible) {\n        changeTooltipVisible(false);\n      }\n    }\n  };\n\n  const handleCategoryFilters = (category) => {\n    if (categoryFilter.includes(category)) {\n      dispatch(\n        ACTION_CHANGE_CATEGORY_FILTER(\n          categoryFilter.filter((item) => item !== category)\n        )\n      );\n    } else {\n      const copyArr = categoryFilter.slice();\n      copyArr.push(category);\n\n      dispatch(ACTION_CHANGE_CATEGORY_FILTER(copyArr));\n    }\n  };\n\n  const handleOffenseFilters = (offense) => {\n    if (offenseFilter.includes(offense)) {\n      dispatch(\n        ACTION_CHANGE_OFFENSE_FILTER(\n          offenseFilter.filter((item) => item !== offense)\n        )\n      );\n    } else {\n      const copyArr = offenseFilter.slice();\n      copyArr.push(offense);\n\n      dispatch(ACTION_CHANGE_OFFENSE_FILTER(copyArr));\n    }\n  };\n\n  const handleAgeFilters = (age) => {\n    if (ageFilter.includes(age)) {\n      dispatch(\n        ACTION_CHANGE_AGE_FILTER(ageFilter.filter((item) => item !== age))\n      );\n    } else {\n      const copyArr = ageFilter.slice();\n      copyArr.push(age);\n\n      dispatch(ACTION_CHANGE_AGE_FILTER(copyArr));\n    }\n  };\n\n  const handleRaceFilters = (race) => {\n    if (raceFilter.includes(race)) {\n      dispatch(\n        ACTION_CHANGE_RACE_FILTER(raceFilter.filter((item) => item !== race))\n      );\n    } else {\n      const copyArr = raceFilter.slice();\n      copyArr.push(race);\n\n      dispatch(ACTION_CHANGE_RACE_FILTER(copyArr));\n    }\n  };\n\n  const handleSexFilters = (sex) => {\n    if (sexFilter.includes(sex)) {\n      dispatch(\n        ACTION_CHANGE_SEX_FILTER(sexFilter.filter((item) => item !== sex))\n      );\n    } else {\n      const copyArr = sexFilter.slice();\n      copyArr.push(sex);\n\n      dispatch(ACTION_CHANGE_SEX_FILTER(copyArr));\n    }\n  };\n\n  const handleBoroughFilters = (borough) => {\n    if (boroughFilter.includes(borough)) {\n      dispatch(\n        ACTION_CHANGE_BOROUGH_FILTER(\n          boroughFilter.filter((item) => item !== borough)\n        )\n      );\n    } else {\n      const copyArr = boroughFilter.slice();\n      copyArr.push(borough);\n\n      dispatch(ACTION_CHANGE_BOROUGH_FILTER(copyArr));\n    }\n  };\n\n  useEffect(() => {\n    if (isMobileOrTablet) {\n      if (footerMenuActive) {\n        burgerMenu[0].style.opacity = 0.2;\n        burgerMenu[0].style.pointerEvents = \"none\";\n        burgerMenu[0].style.transition = \"opacity 0.5s ease\";\n\n        if (overviewTip[0] && mapDetailsTip[0]) {\n          overviewTip[0].style.setProperty(\"opacity\", 0.4, \"important\");\n          overviewTip[0].style.setProperty(\"pointerEvents\", \"none\");\n          overviewTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n\n          mapDetailsTip[0].style.setProperty(\"opacity\", 0.4, \"important\");\n          mapDetailsTip[0].style.setProperty(\"pointerEvents\", \"none\");\n          mapDetailsTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n        }\n      } else {\n        burgerMenu[0].style.opacity = 1;\n        burgerMenu[0].style.pointerEvents = \"all\";\n        burgerMenu[0].style.transition = \"opacity 0.5s ease\";\n\n        if (overviewTip[0] && mapDetailsTip[0]) {\n          overviewTip[0].style.setProperty(\"opacity\", 1, \"important\");\n          overviewTip[0].style.setProperty(\"pointerEvents\", \"all\");\n          overviewTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n\n          mapDetailsTip[0].style.setProperty(\"opacity\", 1, \"important\");\n          mapDetailsTip[0].style.setProperty(\"pointerEvents\", \"all\");\n          mapDetailsTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n        }\n      }\n    } else {\n      burgerMenu[0].style.opacity = 1;\n      burgerMenu[0].style.pointerEvents = \"all\";\n      burgerMenu[0].style.transition = \"opacity 0.5s ease\";\n\n      if (overviewTip[0] && mapDetailsTip[0]) {\n        overviewTip[0].style.setProperty(\"opacity\", 1, \"important\");\n        overviewTip[0].style.setProperty(\"pointerEvents\", \"all\");\n        overviewTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n\n        mapDetailsTip[0].style.setProperty(\"opacity\", 1, \"important\");\n        mapDetailsTip[0].style.setProperty(\"pointerEvents\", \"all\");\n        mapDetailsTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n      }\n    }\n  }, [\n    footerMenuActive,\n    burgerMenu,\n    isMobileOrTablet,\n    mapDetailsTip,\n    overviewTip,\n  ]);\n\n  useEffect(() => {\n    if (isMobileOrTablet) {\n      if (\n        (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n        (boroughTimelineColumns ? boroughTimelineColumns.length > 0 : false) &&\n        (categoryTimelineColumns\n          ? categoryTimelineColumns.length > 0\n          : false) &&\n        (raceTimelineColumns ? raceTimelineColumns.length > 0 : false) &&\n        (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n      ) {\n        const tooltipHideDelay = setTimeout(() => {\n          if (tooltipVisible) {\n            changeTooltipVisible(false);\n          }\n        }, 4000);\n\n        return () => {\n          clearTimeout(tooltipHideDelay);\n        };\n      }\n    }\n  }, [\n    isMobileOrTablet,\n    tooltipVisible,\n    ageTimelineColumns,\n    boroughTimelineColumns,\n    categoryTimelineColumns,\n    raceTimelineColumns,\n    sexTimelineColumns,\n  ]);\n\n  useEffect(() => {\n    if (!tooltipVisible) {\n      if (overviewTip[0] && mapDetailsTip[0]) {\n        overviewTip[0].style.setProperty(\"opacity\", 1, \"important\");\n        mapDetailsTip[0].style.setProperty(\"opacity\", 1, \"important\");\n      }\n\n      if (mapLegend[0]) {\n        mapLegend[0].style.setProperty(\"opacity\", 1, \"important\");\n      }\n    }\n  }, [tooltipVisible, overviewTip, mapDetailsTip, mapLegend]);\n\n  useEffect(() => {\n    if (!isMobileOrTablet) {\n      if (menuClicked) {\n        if (overviewTip[0] && mapDetailsTip[0]) {\n          overviewTip[0].style.setProperty(\"opacity\", 0.3, \"important\");\n          mapDetailsTip[0].style.setProperty(\"opacity\", 0.3, \"important\");\n        }\n\n        if (mapLegend[0]) {\n          mapLegend[0].style.setProperty(\"opacity\", 0.3, \"important\");\n        }\n      } else {\n        if (overviewTip[0] && mapDetailsTip[0]) {\n          overviewTip[0].style.setProperty(\"opacity\", 1, \"important\");\n          mapDetailsTip[0].style.setProperty(\"opacity\", 1, \"important\");\n        }\n\n        if (mapLegend[0]) {\n          mapLegend[0].style.setProperty(\"opacity\", 1, \"important\");\n        }\n      }\n    }\n  }, [isMobileOrTablet, mapLegend, menuClicked, mapDetailsTip, overviewTip]);\n\n  return (\n    <div className=\"navigation_bar_container\">\n      <Tippy\n        content={\n          <div className=\"map_details_tooltip_container\">\n            <div\n              className=\"overview_tooltip_content\"\n              style={{\n                minWidth:\n                  logoContainerRef.current &&\n                  logoContainerRef.current.clientWidth,\n                maxWidth:\n                  logoContainerRef.current &&\n                  logoContainerRef.current.clientWidth,\n              }}\n            >\n              <p style={{ color: \"rgb(166, 166, 166)\" }}>\n                Data Last Updated: November 5, 2020\n              </p>\n              <p>\n                Showing Arrest Data for{\" \"}\n                <strong>{loadedYears.sort().join(\", \")}</strong>\n              </p>\n              <p>\n                Total Number of Arrests Shown: <br />\n                <strong>\n                  {filteredDataChunks.flat().length.toLocaleString()}\n                </strong>{\" \"}\n                of <strong>{totalCount.toLocaleString()}</strong>\n              </p>\n            </div>\n            {isMobileOrTablet ? (\n              isTablet ? null : (\n                <div\n                  className=\"map_legend_container\"\n                  style={{\n                    minWidth:\n                      logoContainerRef.current &&\n                      logoContainerRef.current.clientWidth,\n                    maxWidth:\n                      logoContainerRef.current &&\n                      logoContainerRef.current.clientWidth,\n                  }}\n                >\n                  <p>Map Legend</p>\n                  <div className=\"map_legend_items_container\">\n                    <div className=\"map_legend_element\">\n                      <FaCircle color=\"rgb(255, 0, 0)\" />\n                      <p>Felony</p>\n                    </div>\n                    <div className=\"map_legend_element\">\n                      <FaCircle color=\"rgb(255, 116, 0)\" />\n                      <p>Misdemeanor</p>\n                    </div>\n                    <div className=\"map_legend_element\">\n                      <FaCircle color=\"rgb(255, 193, 0)\" />\n                      <p>Violation</p>\n                    </div>\n                  </div>\n                </div>\n              )\n            ) : null}\n          </div>\n        }\n        visible={\n          layersRef.current.length > 0 &&\n          (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n          (boroughTimelineColumns\n            ? boroughTimelineColumns.length > 0\n            : false) &&\n          (categoryTimelineColumns\n            ? categoryTimelineColumns.length > 0\n            : false) &&\n          (raceTimelineColumns ? raceTimelineColumns.length > 0 : false) &&\n          (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n        }\n        allowHTML={true}\n        reference={logoContainerRef.current}\n        className=\"overview_tooltip\"\n      />\n      <Tippy\n        content={\n          <div\n            className=\"map_legend_container\"\n            style={{\n              minWidth:\n                logoContainerRef.current &&\n                logoContainerRef.current.clientWidth,\n              maxWidth:\n                logoContainerRef.current &&\n                logoContainerRef.current.clientWidth,\n            }}\n          >\n            <p>Map Legend</p>\n            <div className=\"map_legend_items_container\">\n              <div className=\"map_legend_element\">\n                <FaCircle color=\"rgb(255, 0, 0)\" />\n                <p>Felony</p>\n              </div>\n              <div className=\"map_legend_element\">\n                <FaCircle color=\"rgb(255, 116, 0)\" />\n                <p>Misdemeanor</p>\n              </div>\n              <div className=\"map_legend_element\">\n                <FaCircle color=\"rgb(255, 193, 0)\" />\n                <p>Violation</p>\n              </div>\n            </div>\n          </div>\n        }\n        visible={\n          isMobileOrTablet\n            ? isTablet\n              ? layersRef.current.length > 0 &&\n                (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n                (boroughTimelineColumns\n                  ? boroughTimelineColumns.length > 0\n                  : false) &&\n                (categoryTimelineColumns\n                  ? categoryTimelineColumns.length > 0\n                  : false) &&\n                (raceTimelineColumns\n                  ? raceTimelineColumns.length > 0\n                  : false) &&\n                (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n              : false\n            : layersRef.current.length > 0 &&\n              (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n              (boroughTimelineColumns\n                ? boroughTimelineColumns.length > 0\n                : false) &&\n              (categoryTimelineColumns\n                ? categoryTimelineColumns.length > 0\n                : false) &&\n              (raceTimelineColumns ? raceTimelineColumns.length > 0 : false) &&\n              (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n        }\n        allowHTML={true}\n        reference={\n          isMobileOrTablet\n            ? isTablet\n              ? burgerMenu[0]\n              : footerMenuTrigger[0]\n            : mapboxAttribRef[0]\n        }\n        className=\"overview_tooltip legend_tooltip\"\n        placement=\"top-start\"\n      />\n      <div className=\"nypd_arrest_map_logo_container\" ref={logoContainerRef}>\n        <a href=\"/\">\n          <p>NYPD</p>\n          <p>Arrest</p>\n          <p>Map</p>\n        </a>\n      </div>\n      <Tippy\n        content={\n          isMobileOrTablet ? (\n            <p style={{ textAlign: \"center\" }}>\n              Click here <br />\n              to set <br />\n              data filters\n            </p>\n          ) : (\n            \"Click here to set data filters\"\n          )\n        }\n        duration={[null, 500]}\n        arrow={true}\n        visible={\n          tooltipVisible &&\n          (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n          (boroughTimelineColumns\n            ? boroughTimelineColumns.length > 0\n            : false) &&\n          (categoryTimelineColumns\n            ? categoryTimelineColumns.length > 0\n            : false) &&\n          (raceTimelineColumns ? raceTimelineColumns.length > 0 : false) &&\n          (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n        }\n        reference={burgerMenu[0]}\n        className=\"burger_tooltip\"\n        placement=\"bottom-end\"\n        onClickOutside={() => changeTooltipVisible(false)}\n      />\n      <InfoPopUp\n        footerMenuActive={footerMenuActive}\n        isMobileOrTablet={isMobileOrTablet}\n      />\n      <Menu\n        right\n        className=\"navbar_nav_menu\"\n        customBurgerIcon={<BsFilterRight color=\"rgb(93, 188, 210)\" />}\n        onOpen={handleBurgerMenuClick}\n        onClose={() => changeMenuClicked(false)}\n        isOpen={menuClicked}\n      >\n        <Collapsible\n          trigger={filterByCategory()}\n          onTriggerOpening={() => changeCollapseOpen(\"category\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"category\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  checked={categoryFilter.includes(\"F\")}\n                  onChange={() => handleCategoryFilters(\"F\")}\n                />\n                Felony\n              </label>\n            </p>\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  checked={categoryFilter.includes(\"M\")}\n                  onChange={() => handleCategoryFilters(\"M\")}\n                />\n                Misdemeanor\n              </label>\n            </p>\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  checked={categoryFilter.includes(\"V\")}\n                  onChange={() => handleCategoryFilters(\"V\")}\n                />\n                Violation\n              </label>\n            </p>\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByOffense()}\n          onTriggerOpening={() => changeCollapseOpen(\"description\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"description\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {!offenseDescriptionUniqueValues ||\n            offenseDescriptionUniqueValues.length === 0\n              ? null\n              : offenseDescriptionUniqueValues.map((desc, i) => {\n                  if (\n                    desc &&\n                    !(desc.includes(\"OTHER STATE LAWS\") && desc.includes(\"(\"))\n                  ) {\n                    return (\n                      <p key={i}>\n                        <label>\n                          <input\n                            name=\"my-checkbox\"\n                            type=\"checkbox\"\n                            checked={offenseFilter.includes(desc)}\n                            onChange={() => handleOffenseFilters(desc)}\n                          />\n                          {desc\n                            .split(\" \")\n                            .map(\n                              (x) =>\n                                x[0].toUpperCase() + x.slice(1).toLowerCase()\n                            )\n                            .join(\" \")\n                            .split(\"/\")\n                            .map(\n                              (x) =>\n                                x[0].toUpperCase() +\n                                x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                                x.slice(x.indexOf(\" \"))\n                            )\n                            .join(\"/\")}\n                        </label>\n                      </p>\n                    );\n                  } else {\n                    return null;\n                  }\n                })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByAge()}\n          onTriggerOpening={() => changeCollapseOpen(\"age\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"age\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {!ageGroupData\n              ? null\n              : ageGroupData.map((age, i) => {\n                  return (\n                    <p key={i}>\n                      <label>\n                        <input\n                          name=\"my-checkbox\"\n                          type=\"checkbox\"\n                          checked={ageFilter.includes(age)}\n                          onChange={() => handleAgeFilters(age)}\n                        />\n                        {age === \"65\" ? \"65+\" : age}\n                      </label>\n                    </p>\n                  );\n                })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByRace()}\n          onTriggerOpening={() => changeCollapseOpen(\"race\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"race\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {!raceUniqueValues\n              ? null\n              : raceUniqueValues.map((race, i) => {\n                  if (race) {\n                    return (\n                      <p key={i}>\n                        <label>\n                          <input\n                            name=\"my-checkbox\"\n                            type=\"checkbox\"\n                            checked={raceFilter.includes(race)}\n                            onChange={() => handleRaceFilters(race)}\n                          />\n                          {race &&\n                            race\n                              .split(\" \")\n                              .map(\n                                (x) =>\n                                  x[0].toUpperCase() + x.slice(1).toLowerCase()\n                              )\n                              .join(\" \")\n                              .split(\"/\")\n                              .map(\n                                (x) =>\n                                  x[0].toUpperCase() +\n                                  x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                                  x.slice(x.indexOf(\" \"))\n                              )\n                              .join(\"/\")}\n                        </label>\n                      </p>\n                    );\n                  } else {\n                    return null;\n                  }\n                })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterBySex()}\n          onTriggerOpening={() => changeCollapseOpen(\"sex\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"sex\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  checked={sexFilter.includes(\"F\")}\n                  onChange={() => handleSexFilters(\"F\")}\n                />\n                Female\n              </label>\n            </p>\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  checked={sexFilter.includes(\"M\")}\n                  onChange={() => handleSexFilters(\"M\")}\n                />\n                Male\n              </label>\n            </p>\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByBorough()}\n          onTriggerOpening={() => changeCollapseOpen(\"borough\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"borough\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {!boroughUniqueValues\n              ? null\n              : boroughUniqueValues.map((borough, i) => {\n                  return (\n                    <p key={i}>\n                      <label>\n                        <input\n                          name=\"my-checkbox\"\n                          type=\"checkbox\"\n                          checked={boroughFilter.includes(borough)}\n                          onChange={() => handleBoroughFilters(borough)}\n                        />\n                        {borough === \"B\"\n                          ? \"Bronx\"\n                          : borough === \"Q\"\n                          ? \"Queens\"\n                          : borough === \"M\"\n                          ? \"Manhattan\"\n                          : borough === \"K\"\n                          ? \"Brooklyn\"\n                          : borough === \"S\"\n                          ? \"Staten Island\"\n                          : \"Unknown\"}\n                      </label>\n                    </p>\n                  );\n                })}\n          </div>\n        </Collapsible>\n        <span className=\"spacer\" />\n        <LaddaButton\n          loading={laddaLoading}\n          className=\"apply_filters_button\"\n          onClick={() => {\n            changeLaddaLoading(true);\n            setFilters(\n              yearFilter,\n              categoryFilter,\n              offenseFilter,\n              ageFilter,\n              raceFilter,\n              sexFilter,\n              boroughFilter,\n              loadData,\n              false\n            );\n          }}\n          data-color={\"blue\"}\n          data-size={XL}\n          data-style={EXPAND_LEFT}\n          data-spinner-size={30}\n          data-spinner-color={\"#fff\"}\n          data-spinner-lines={12}\n        >\n          {laddaLoading ? \"APPLYING FILTERS\" : \"APPLY FILTERS\"}\n        </LaddaButton>\n      </Menu>\n    </div>\n  );\n};\n\nexport default NavigationBar;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst Category = (props) => {\n  const { filteredArrestCategory, graphOption } = props;\n\n  const chartEvents = [\n    {\n      eventName: \"select\",\n      callback({ chartWrapper }) {\n        return chartWrapper.getChart().setSelection([]);\n      },\n    },\n  ];\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Category</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartEvents={chartEvents}\n          chartType=\"PieChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            filteredArrestCategory\n              ? [\n                  [\"Category\", \"Number of Arrests\"],\n                  [\n                    \"Felony\",\n                    filteredArrestCategory.filter((x) => x === \"F\").length,\n                  ],\n                  [\n                    \"Misdemeanor\",\n                    filteredArrestCategory.filter((x) => x === \"M\").length,\n                  ],\n                  [\n                    \"Violation\",\n                    filteredArrestCategory.filter((x) => x !== \"F\" && x !== \"M\")\n                      .length,\n                  ],\n                ]\n              : []\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Category;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst AgeGroup = (props) => {\n  const { filteredAgeGroupData, filteredAgeGroup, graphOption } = props;\n\n  const chartEvents = [\n    {\n      eventName: \"select\",\n      callback({ chartWrapper }) {\n        return chartWrapper.getChart().setSelection([]);\n      },\n    },\n  ];\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Age Group</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          chartEvents={chartEvents}\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[\"Age Group\", \"Number of Arrests\"]].concat(\n                filteredAgeGroupData.map((item) => [\n                  item === \"65\" ? \"65+\" : item,\n                  filteredAgeGroup.filter((x) => x === item).length,\n                ])\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default AgeGroup;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst Race = (props) => {\n  const { filteredRaceUniqueValues, filteredRaceArr, graphOption } = props;\n\n  const chartEvents = [\n    {\n      eventName: \"select\",\n      callback({ chartWrapper }) {\n        return chartWrapper.getChart().setSelection([]);\n      },\n    },\n  ];\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Race</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartEvents={chartEvents}\n          chartType=\"PieChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[\"Race\", \"Number of Arrests\"]].concat(\n                filteredRaceUniqueValues.map((item) => [\n                  item\n                    ? item\n                        .split(\" \")\n                        .map(\n                          (x) => x[0].toUpperCase() + x.slice(1).toLowerCase()\n                        )\n                        .join(\" \")\n                        .split(\"/\")\n                        .map(\n                          (x) =>\n                            x[0].toUpperCase() +\n                            x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                            x.slice(x.indexOf(\" \"))\n                        )\n                        .join(\"/\")\n                    : null,\n                  filteredRaceArr.filter((x) => x === item).length,\n                ])\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Race;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst Gender = (props) => {\n  const { filteredSexUniqueValues, filteredSexArr, graphOption } = props;\n\n  const chartEvents = [\n    {\n      eventName: \"select\",\n      callback({ chartWrapper }) {\n        return chartWrapper.getChart().setSelection([]);\n      },\n    },\n  ];\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Sex</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          chartEvents={chartEvents}\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[\"Sex\", \"Number of Arrests\"]].concat(\n                filteredSexUniqueValues.map((item) => [\n                  item === \"M\" ? \"Male\" : \"Female\",\n                  filteredSexArr.filter((x) => x === item).length,\n                ])\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Gender;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst Borough = (props) => {\n  const {\n    filteredBoroughUniqueValues,\n    filteredBoroughArr,\n    graphOption,\n  } = props;\n\n  const chartEvents = [\n    {\n      eventName: \"select\",\n      callback({ chartWrapper }) {\n        return chartWrapper.getChart().setSelection([]);\n      },\n    },\n  ];\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Borough</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          chartEvents={chartEvents}\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[\"Borough\", \"Number of Arrests\"]].concat(\n                filteredBoroughUniqueValues.map((item) => [\n                  item === \"B\"\n                    ? \"Bronx\"\n                    : item === \"Q\"\n                    ? \"Queens\"\n                    : item === \"M\"\n                    ? \"Manhattan\"\n                    : item === \"K\"\n                    ? \"Brooklyn\"\n                    : item === \"S\"\n                    ? \"Staten Island\"\n                    : \"Unknown\",\n                  filteredBoroughArr.filter((x) => x === item).length,\n                ])\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Borough;\n","import React, { useEffect, useState } from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst TopOffenses = (props) => {\n  const {\n    filteredOffenseDescriptionArr,\n    filteredOffenseDescriptionUniqueValues,\n    graphOption,\n    isSame,\n    usePrevious,\n    isMobileOrTablet,\n    isMediumLaptop,\n  } = props;\n\n  const [sortedArr, changeSortedArr] = useState([]);\n\n  const prevFilteredOffenseDescriptionArr = usePrevious(\n    filteredOffenseDescriptionArr\n  );\n  const prevFilteredOffenseDescriptionUniqueValues = usePrevious(\n    filteredOffenseDescriptionUniqueValues\n  );\n\n  const chartEvents = [\n    {\n      eventName: \"select\",\n      callback({ chartWrapper }) {\n        return chartWrapper.getChart().setSelection([]);\n      },\n    },\n  ];\n\n  useEffect(() => {\n    if (\n      filteredOffenseDescriptionArr &&\n      filteredOffenseDescriptionArr.length > 0 &&\n      filteredOffenseDescriptionUniqueValues.length > 0\n    ) {\n      if (\n        filteredOffenseDescriptionArr !== prevFilteredOffenseDescriptionArr ||\n        filteredOffenseDescriptionUniqueValues !==\n          prevFilteredOffenseDescriptionUniqueValues\n      ) {\n        const offenseData = filteredOffenseDescriptionUniqueValues\n          .map((item) => [\n            item,\n            filteredOffenseDescriptionArr.filter((x) => x === item).length,\n          ])\n          .sort((a, b) => {\n            if (a[1] > b[1]) {\n              return 1;\n            } else {\n              return -1;\n            }\n          });\n\n        if (!isSame(offenseData, sortedArr)) {\n          changeSortedArr(offenseData);\n        }\n      }\n    }\n  }, [\n    isSame,\n    filteredOffenseDescriptionArr,\n    filteredOffenseDescriptionUniqueValues,\n    sortedArr,\n    prevFilteredOffenseDescriptionArr,\n    prevFilteredOffenseDescriptionUniqueValues,\n  ]);\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      {sortedArr.length > 0 ? (\n        <>\n          <p className=\"bottom_info_section_title\">Top 5 Offenses</p>\n          <div className=\"bottom_info_pie_container\">\n            <Chart\n              chartType=\"BarChart\"\n              loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n              chartEvents={chartEvents}\n              data={\n                [\n                  [[\"Offense Description\", \"Number of Arrests\"]].concat(\n                    sortedArr.length > 0\n                      ? sortedArr\n                          .slice(sortedArr.length - 5, sortedArr.length)\n                          .sort((a, b) => {\n                            if (a[1] > b[1]) {\n                              return -1;\n                            } else {\n                              return 1;\n                            }\n                          })\n                      : [\"UNKNOWN\", 1]\n                  ),\n                ][0]\n              }\n              options={{\n                backgroundColor: \"transparent\",\n                legend: { position: \"none\" },\n                width: isMobileOrTablet ? 300 : isMediumLaptop ? 400 : 600,\n                bar: isMobileOrTablet ? null : { groupWidth: \"95%\" },\n                chartArea: isMobileOrTablet\n                  ? null\n                  : { width: \"50%\", height: \"50%\" },\n              }}\n            />\n          </div>\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nexport default TopOffenses;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst AgeGroupTimeline = (props) => {\n  const { isMobileOrTablet, isMediumLaptop } = props;\n\n  const ageTimelineColumns = useSelector(\n    (state) => state.ageTimelineColumnsReducer.columns\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n    >\n      <p className=\"bottom_info_section_title\">Age Group Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          legendToggle\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={ageTimelineColumns}\n          options={{\n            backgroundColor: \"transparent\",\n            width: isMobileOrTablet ? 300 : isMediumLaptop ? 400 : 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n            hAxis: {\n              title: \"Dates\",\n            },\n            vAxis: {\n              title: \"# of Arrests\",\n            },\n            explorer: {\n              axis: \"horizontal\",\n              keepInBounds: true,\n              maxZoomIn: 0.2,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default AgeGroupTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst BoroughTimeline = (props) => {\n  const { isMobileOrTablet, isMediumLaptop } = props;\n\n  const boroughTimelineColumns = useSelector(\n    (state) => state.boroughTimelineColumnsReducer.columns\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n    >\n      <p className=\"bottom_info_section_title\">Borough Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          legendToggle\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={boroughTimelineColumns}\n          options={{\n            legendToggle: true,\n            backgroundColor: \"transparent\",\n            width: isMobileOrTablet ? 300 : isMediumLaptop ? 400 : 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n            hAxis: {\n              title: \"Dates\",\n            },\n            vAxis: {\n              title: \"# of Arrests\",\n            },\n            explorer: {\n              axis: \"horizontal\",\n              keepInBounds: true,\n              maxZoomIn: 0.2,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default BoroughTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst CategoryTimeline = (props) => {\n  const { isMobileOrTablet, isMediumLaptop } = props;\n\n  const categoryTimelineColumns = useSelector(\n    (state) => state.categoryTimelineColumnsReducer.columns\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n    >\n      <p className=\"bottom_info_section_title\">Category Trends</p>\n      <div className=\"bottom_info_pie_container category_timeline_container\">\n        <Chart\n          legendToggle\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={categoryTimelineColumns}\n          options={{\n            legendToggle: true,\n            backgroundColor: \"transparent\",\n            width: isMobileOrTablet ? 300 : isMediumLaptop ? 400 : 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n            hAxis: {\n              title: \"Dates\",\n            },\n            vAxis: {\n              title: \"# of Arrests\",\n            },\n            explorer: {\n              axis: \"horizontal\",\n              keepInBounds: true,\n              maxZoomIn: 0.2,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst GenderTimeline = (props) => {\n  const { isMobileOrTablet, isMediumLaptop } = props;\n\n  const sexTimelineColumns = useSelector(\n    (state) => state.sexTimelineColumnsReducer.columns\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n    >\n      <p className=\"bottom_info_section_title\">Gender Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          legendToggle\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={sexTimelineColumns}\n          options={{\n            legendToggle: true,\n            backgroundColor: \"transparent\",\n            width: isMobileOrTablet ? 300 : isMediumLaptop ? 400 : 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n            hAxis: {\n              title: \"Dates\",\n            },\n            vAxis: {\n              title: \"# of Arrests\",\n            },\n            explorer: {\n              axis: \"horizontal\",\n              keepInBounds: true,\n              maxZoomIn: 0.2,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default GenderTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst RaceTimeline = (props) => {\n  const { isMobileOrTablet, isMediumLaptop } = props;\n\n  const raceTimelineColumns = useSelector(\n    (state) => state.raceTimelineColumnsReducer.columns\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n    >\n      <p className=\"bottom_info_section_title\">Race Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          legendToggle\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={raceTimelineColumns}\n          options={{\n            legendToggle: true,\n            backgroundColor: \"transparent\",\n            width: isMobileOrTablet ? 300 : isMediumLaptop ? 400 : 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n            hAxis: {\n              title: \"Dates\",\n            },\n            vAxis: {\n              title: \"# of Arrests\",\n            },\n            explorer: {\n              axis: \"horizontal\",\n              keepInBounds: true,\n              maxZoomIn: 0.2,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default RaceTimeline;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { FaChevronLeft, FaChevronRight } from \"react-icons/fa\";\nimport { GoGraph } from \"react-icons/go\";\nimport { FiMinimize2 } from \"react-icons/fi\";\nimport AliceCarousel from \"react-alice-carousel\";\nimport \"react-alice-carousel/lib/alice-carousel.css\";\nimport \"./BottomInfoPanel.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Category from \"./CarouselItems/Category/Category\";\nimport AgeGroup from \"./CarouselItems/AgeGroup/AgeGroup\";\nimport Race from \"./CarouselItems/Race/Race\";\nimport Gender from \"./CarouselItems/Gender/Gender\";\nimport Borough from \"./CarouselItems/Borough/Borough\";\nimport TopOffenses from \"./CarouselItems/TopOffenses/TopOffenses\";\nimport AgeGroupTimeline from \"./CarouselItems/AgeGroup/AgeGroupTimeline\";\nimport BoroughTimeline from \"./CarouselItems/Borough/BoroughTimeline\";\nimport CategoryTimeline from \"./CarouselItems/Category/CategoryTimeline\";\nimport GenderTimeline from \"./CarouselItems/Gender/GenderTimeline\";\nimport RaceTimeline from \"./CarouselItems/Race/RaceTimeline\";\nimport { RadioGroup, RadioButton } from \"react-radio-buttons\";\nimport { useSelector } from \"react-redux\";\nimport Tippy from \"@tippyjs/react\";\n\nconst BottomInfoPanel = (props) => {\n  const {\n    tooltipVisible,\n    filteredAgeGroup,\n    filteredRaceArr,\n    filteredSexArr,\n    filteredBoroughArr,\n    filteredOffenseDescriptionArr,\n    filteredArrestCategory,\n    filteredUniqueCategory,\n\n    filteredAgeGroupData,\n    filteredRaceUniqueValues,\n    filteredSexUniqueValues,\n    filteredBoroughUniqueValues,\n    filteredOffenseDescriptionUniqueValues,\n\n    currentFilters,\n    loadedYears,\n    isSame,\n    usePrevious,\n    graphOption,\n    changeGraphOption,\n    layersRef,\n    isMobileOrTablet,\n    isMediumLaptop,\n    footerMenuActive,\n    changeFooterMenuActive,\n\n    filteredTimelineAgeGroupData,\n    filteredTimelineBoroughData,\n    filteredTimelineCategoryData,\n    filteredTimelineSexData,\n    filteredTimelineRaceData,\n  } = props;\n\n  const loadDataChunks = useSelector(\n    (state) => state.loadDataChunksReducer.data\n  );\n  const trendsAvailable = useSelector(\n    (state) => state.trendsAvailableReducer.available\n  );\n\n  // Timeline Column Data\n  const ageTimelineColumns = useSelector(\n    (state) => state.ageTimelineColumnsReducer.columns\n  );\n  const boroughTimelineColumns = useSelector(\n    (state) => state.boroughTimelineColumnsReducer.columns\n  );\n  const categoryTimelineColumns = useSelector(\n    (state) => state.categoryTimelineColumnsReducer.columns\n  );\n  const raceTimelineColumns = useSelector(\n    (state) => state.raceTimelineColumnsReducer.columns\n  );\n  const sexTimelineColumns = useSelector(\n    (state) => state.sexTimelineColumnsReducer.columns\n  );\n\n  const [firstTimeFooterActive, changeFirstTimeFooterActive] = useState(false);\n  const [arrowTooltipVisible, changeArrowTooltipVisible] = useState(\n    isMobileOrTablet ? false : true\n  );\n  const [timelineTooltipVisible, changeTimelineTooltipVisible] = useState(true);\n\n  let CarouselRef = useRef(null);\n  let CarouselTimelineRef = useRef(null);\n\n  const rightArrow = document.getElementsByClassName(\"carousel_right_arrow\");\n  const aliceCarouselContainer = document.getElementsByClassName(\n    \"alice-carousel\"\n  );\n  const overviewCarouselContainer = document.getElementsByClassName(\n    \"overview_carousel\"\n  );\n  const trendsCarouselContainer = document.getElementsByClassName(\n    \"trends_carousel\"\n  );\n  const categoryTimelineContainer = document.getElementsByClassName(\n    \"category_timeline_container\"\n  );\n  const googleTooltipContainer = document.getElementsByClassName(\n    \"google-visualization-tooltip\"\n  );\n\n  // Hide tooltip when trend dataset is untoggled\n  useEffect(() => {\n    if (graphOption === \"trends\") {\n      const checkForTooltip = setInterval(() => {\n        const tooltip = googleTooltipContainer[0];\n        const circles = document.getElementsByTagName(\"circle\");\n\n        if (tooltip) {\n          const activePanelContainer = document.getElementsByClassName(\n            \"alice-carousel__stage-item __active\"\n          );\n          const activePaths = activePanelContainer[1].getElementsByTagName(\n            \"path\"\n          );\n          const activeText = activePanelContainer[1].getElementsByTagName(\n            \"text\"\n          );\n\n          const valuesLength = (activePaths.length - 2) / 2;\n\n          for (let i = 0; i < valuesLength; i++) {\n            if (activePaths.item(i).getAttribute(\"stroke\") === \"none\") {\n              if (\n                activeText.item(i).textContent.slice(0, 4) ===\n                tooltip.lastChild.firstChild.textContent\n                  .split(\":\")[0]\n                  .slice(0, 4)\n              ) {\n                tooltip.style.display = \"none\";\n\n                for (let j = 0; j < circles.length; j++) {\n                  circles[j].style.display = \"none\";\n                }\n              }\n            }\n          }\n        } else {\n          for (let j = 0; j < circles.length; j++) {\n            circles[j].style.display = \"block\";\n          }\n        }\n      }, 10);\n\n      return () => {\n        clearInterval(checkForTooltip);\n      };\n    }\n  }, [googleTooltipContainer, graphOption]);\n\n  useEffect(() => {\n    if (graphOption === \"overview\") {\n      if (CarouselTimelineRef.current) {\n        CarouselTimelineRef.current.style.display = \"none\";\n      }\n    } else {\n      if (CarouselRef.current) {\n        CarouselRef.current.style.display = \"none\";\n      }\n    }\n  }, [graphOption]);\n\n  useEffect(() => {\n    const graphOptionsContainer = document.getElementsByClassName(\n      \"graph_options_container\"\n    )[0];\n\n    const trendsRadioButton = graphOptionsContainer.lastChild.lastChild;\n\n    if (!trendsAvailable) {\n      trendsRadioButton.style.opacity = 0.7;\n    } else {\n      trendsRadioButton.style.opacity = 1;\n    }\n  }, [trendsAvailable]);\n\n  useEffect(() => {\n    for (let i = 0; i < aliceCarouselContainer.length; i++) {\n      if (i === 0) {\n        if (\n          !aliceCarouselContainer[i].className.includes(\"overview_carousel\")\n        ) {\n          aliceCarouselContainer[i].className += \" overview_carousel\";\n        }\n      } else {\n        if (!aliceCarouselContainer[i].className.includes(\"trends_carousel\")) {\n          aliceCarouselContainer[i].className += \" trends_carousel\";\n        }\n      }\n    }\n  }, [aliceCarouselContainer]);\n\n  useEffect(() => {\n    if (graphOption === \"overview\") {\n      overviewCarouselContainer[0].style.opacity = 1;\n      overviewCarouselContainer[0].style.zIndex = 1;\n\n      trendsCarouselContainer[0].style.opacity = 0;\n      trendsCarouselContainer[0].style.zIndex = -1;\n    } else {\n      overviewCarouselContainer[0].style.opacity = 0;\n      overviewCarouselContainer[0].style.opacity = -1;\n\n      trendsCarouselContainer[0].style.opacity = 1;\n      trendsCarouselContainer[0].style.zIndex = 1;\n    }\n  }, [graphOption, overviewCarouselContainer, trendsCarouselContainer]);\n\n  const handleFooterMenuActive = () => {\n    if (footerMenuActive) {\n      changeFooterMenuActive(false);\n    } else {\n      changeFooterMenuActive(true);\n\n      if (!firstTimeFooterActive) {\n        setTimeout(() => {\n          changeArrowTooltipVisible(true);\n        }, 1800);\n\n        changeFirstTimeFooterActive(true);\n      }\n    }\n  };\n\n  const handleDismissTooltips = () => {\n    if (graphOption === \"trends\") {\n      if (timelineTooltipVisible) {\n        changeTimelineTooltipVisible(false);\n      }\n\n      if (arrowTooltipVisible) {\n        changeArrowTooltipVisible(false);\n      }\n    }\n  };\n\n  return (\n    <div\n      className=\"bottom_info_panel_container\"\n      style={{\n        zIndex: isMobileOrTablet\n          ? tooltipVisible\n            ? -1\n            : 10\n          : tooltipVisible\n          ? -1\n          : 0,\n        transform: isMobileOrTablet\n          ? footerMenuActive\n            ? \"translate3d(0, 0, 0)\"\n            : \"translate3d(0, 100%, 0)\"\n          : \"none\",\n      }}\n    >\n      <div\n        className=\"shadow_overlay\"\n        onClick={() => changeFooterMenuActive(false)}\n        style={{\n          opacity: footerMenuActive ? 1 : 0,\n          display: footerMenuActive ? \"block\" : \"none\",\n        }}\n      >\n        {\" \"}\n      </div>\n      <div className=\"footer_menu_trigger\" onClick={handleFooterMenuActive}>\n        {!footerMenuActive ? (\n          <>\n            <GoGraph /> VIEW GRAPHS AND TRENDS\n          </>\n        ) : (\n          <>\n            <FiMinimize2 /> BACK TO ARREST MAP\n          </>\n        )}\n      </div>\n      <div className=\"bottom_info_main_info_box\">\n        <div className=\"filters_applied\">\n          <h2>Filters Applied</h2>\n          {(currentFilters.year.length === 0 ||\n            isSame(loadedYears, Object.keys(loadDataChunks[0]))) &&\n          currentFilters.category.length === 0 &&\n          currentFilters.offense.length === 0 &&\n          currentFilters.age.length === 0 &&\n          currentFilters.race.length === 0 &&\n          currentFilters.sex.length === 0 &&\n          currentFilters.borough.length === 0 ? (\n            <p className=\"no_filters_applied_statement\">\n              No filters currently applied\n            </p>\n          ) : (\n            <>\n              <p>\n                <strong>\n                  {currentFilters.year.length === 0 ||\n                  currentFilters.year.length === loadedYears.length\n                    ? null\n                    : currentFilters.year.length === 1\n                    ? \"Year: \"\n                    : \"Years: \"}\n                </strong>\n                {currentFilters.year.length === 0 ||\n                currentFilters.year.length === loadedYears.length\n                  ? null\n                  : currentFilters.year.join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.category.length === 0\n                    ? null\n                    : \"Categor\" +\n                      (currentFilters.category.length > 1 ? \"ies: \" : \"y: \")}\n                </strong>\n                {currentFilters.category.length === 0\n                  ? null\n                  : currentFilters.category\n                      .map((x) =>\n                        x === \"F\"\n                          ? \"Felony\"\n                          : x === \"M\"\n                          ? \"Misdemeanor\"\n                          : \"Violation\"\n                      )\n                      .join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.offense.length === 0\n                    ? null\n                    : \"Offense\" +\n                      (currentFilters.offense.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.offense.length === 0\n                  ? null\n                  : currentFilters.offense.join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.age.length === 0\n                    ? null\n                    : \"Age\" + (currentFilters.age.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.age.length === 0\n                  ? null\n                  : currentFilters.age\n                      .map((x) => (x === \"65\" ? \"65+\" : x))\n                      .join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.race.length === 0\n                    ? null\n                    : \"Race\" +\n                      (currentFilters.race.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.race.length === 0\n                  ? null\n                  : currentFilters.race.join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.sex.length === 0 ? null : \"Sex: \"}\n                </strong>\n                {currentFilters.sex.length === 0\n                  ? null\n                  : currentFilters.sex\n                      .map((x) => (x === \"M\" ? \"Male\" : \"Female\"))\n                      .join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.borough.length === 0\n                    ? null\n                    : \"Borough\" +\n                      (currentFilters.borough.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.borough.length === 0\n                  ? null\n                  : currentFilters.borough\n                      .map((item) =>\n                        item === \"B\"\n                          ? \"Bronx\"\n                          : item === \"Q\"\n                          ? \"Queens\"\n                          : item === \"M\"\n                          ? \"Manhattan\"\n                          : item === \"K\"\n                          ? \"Brooklyn\"\n                          : item === \"S\"\n                          ? \"Staten Island\"\n                          : \"Unknown\"\n                      )\n                      .join(\", \")}\n              </p>\n            </>\n          )}\n        </div>\n        <div className=\"graph_options_container\">\n          <p>Graph Options</p>\n          <RadioGroup\n            onChange={(value) => changeGraphOption(value)}\n            horizontal\n            value={graphOption}\n          >\n            <RadioButton\n              rootColor=\"rgb(140, 140, 140)\"\n              pointColor=\"rgb(0, 0, 128)\"\n              value=\"overview\"\n            >\n              Overview\n            </RadioButton>\n            <RadioButton\n              rootColor=\"rgb(140, 140, 140)\"\n              pointColor=\"rgb(0, 0, 128)\"\n              value=\"trends\"\n              disabled={!trendsAvailable}\n              disabledColor=\"rgb(211, 211, 211)\"\n            >\n              Trends\n            </RadioButton>\n          </RadioGroup>\n        </div>\n      </div>\n      <div className=\"carousel_container\" onTouchStart={handleDismissTooltips}>\n        <Tippy\n          content=\"Click the left and right arrows to view more graphs\"\n          visible={\n            isMobileOrTablet\n              ? footerMenuActive &&\n                arrowTooltipVisible &&\n                layersRef.current.length > 0 &&\n                (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n                (boroughTimelineColumns\n                  ? boroughTimelineColumns.length > 0\n                  : false) &&\n                (categoryTimelineColumns\n                  ? categoryTimelineColumns.length > 0\n                  : false) &&\n                (raceTimelineColumns\n                  ? raceTimelineColumns.length > 0\n                  : false) &&\n                (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n              : arrowTooltipVisible &&\n                layersRef.current.length > 0 &&\n                (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n                (boroughTimelineColumns\n                  ? boroughTimelineColumns.length > 0\n                  : false) &&\n                (categoryTimelineColumns\n                  ? categoryTimelineColumns.length > 0\n                  : false) &&\n                (raceTimelineColumns\n                  ? raceTimelineColumns.length > 0\n                  : false) &&\n                (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n          }\n          reference={rightArrow[0]}\n          className=\"burger_tooltip\"\n          placement=\"left\"\n          onClickOutside={() => changeArrowTooltipVisible(false)}\n        />\n        <FaChevronLeft\n          color=\"rgb(0, 0, 0)\"\n          className=\"carousel_left_arrow\"\n          onClick={() => {\n            CarouselRef.slidePrev();\n            CarouselTimelineRef.slidePrev();\n\n            if (arrowTooltipVisible) {\n              changeArrowTooltipVisible(false);\n            }\n          }}\n        />\n        <AliceCarousel\n          ref={(el) => (CarouselRef = el)}\n          autoPlay={false}\n          fadeOutAnimation={true}\n          dotsDisabled={true}\n          buttonsDisabled={true}\n          mouseTrackingEnabled={true}\n          playButtonEnabled={false}\n          disableAutoPlayOnAction={false}\n          responsive={{\n            0: { items: 1 },\n            760: { items: 2 },\n            1600: { items: 3 },\n          }}\n          preservePosition={true}\n          items={[\n            <Category\n              key=\"overview\"\n              filteredArrestCategory={filteredArrestCategory}\n              graphOption={graphOption}\n            />,\n            <AgeGroup\n              key=\"overview\"\n              filteredAgeGroup={filteredAgeGroup}\n              filteredAgeGroupData={filteredAgeGroupData}\n              graphOption={graphOption}\n            />,\n            <Race\n              key=\"overview\"\n              filteredRaceUniqueValues={filteredRaceUniqueValues}\n              filteredRaceArr={filteredRaceArr}\n              graphOption={graphOption}\n            />,\n            <Gender\n              key=\"overview\"\n              filteredSexUniqueValues={filteredSexUniqueValues}\n              filteredSexArr={filteredSexArr}\n              graphOption={graphOption}\n            />,\n            <Borough\n              key=\"overview\"\n              filteredBoroughUniqueValues={filteredBoroughUniqueValues}\n              filteredBoroughArr={filteredBoroughArr}\n              graphOption={graphOption}\n            />,\n            <TopOffenses\n              key=\"overview\"\n              filteredOffenseDescriptionArr={filteredOffenseDescriptionArr}\n              filteredOffenseDescriptionUniqueValues={\n                filteredOffenseDescriptionUniqueValues\n              }\n              graphOption={graphOption}\n              isSame={isSame}\n              usePrevious={usePrevious}\n              isMobileOrTablet={isMobileOrTablet}\n              isMediumLaptop={isMediumLaptop}\n            />,\n          ]}\n        />\n        <Tippy\n          content={\n            isMobileOrTablet\n              ? null\n              : \"Scroll to zoom in and out of trend graphs\"\n          }\n          visible={\n            isMobileOrTablet\n              ? false\n              : graphOption === \"trends\" && timelineTooltipVisible\n          }\n          reference={\n            categoryTimelineContainer.length > 2\n              ? categoryTimelineContainer[1]\n              : categoryTimelineContainer[0]\n          }\n          className=\"burger_tooltip trend_tooltip\"\n          placement=\"top\"\n          onClickOutside={() => changeTimelineTooltipVisible(false)}\n        />\n        <Tippy\n          content=\"Toggle data lines by selecting legend items\"\n          visible={graphOption === \"trends\" && timelineTooltipVisible}\n          reference={\n            categoryTimelineContainer.length > 2\n              ? categoryTimelineContainer[1]\n              : categoryTimelineContainer[0]\n          }\n          className=\"burger_tooltip trend_tooltip\"\n          placement={isMobileOrTablet ? \"left\" : \"right\"}\n          offset={isMobileOrTablet ? [-30, -180] : [0, 50]}\n          onClickOutside={() => changeTimelineTooltipVisible(false)}\n        />\n        <AliceCarousel\n          ref={(el) => (CarouselTimelineRef = el)}\n          autoPlay={false}\n          dotsDisabled={true}\n          buttonsDisabled={true}\n          mouseTrackingEnabled={false}\n          playButtonEnabled={false}\n          disableAutoPlayOnAction={false}\n          touchMoveDefaultEvents={false}\n          responsive={{\n            0: { items: 1 },\n            760: { items: 2 },\n            1600: { items: 3 },\n          }}\n          preservePosition={true}\n          items={[\n            <CategoryTimeline\n              key=\"trends\"\n              filteredTimelineCategoryData={filteredTimelineCategoryData}\n              filteredArrestCategory={filteredArrestCategory}\n              filteredUniqueCategory={filteredUniqueCategory}\n              isMobileOrTablet={isMobileOrTablet}\n              isMediumLaptop={isMediumLaptop}\n            />,\n            <AgeGroupTimeline\n              key=\"trends\"\n              filteredAgeGroupData={filteredAgeGroupData}\n              filteredTimelineAgeGroupData={filteredTimelineAgeGroupData}\n              isMobileOrTablet={isMobileOrTablet}\n              isMediumLaptop={isMediumLaptop}\n            />,\n            <BoroughTimeline\n              key=\"trends\"\n              filteredBoroughUniqueValues={filteredBoroughUniqueValues}\n              filteredTimelineBoroughData={filteredTimelineBoroughData}\n              isMobileOrTablet={isMobileOrTablet}\n              isMediumLaptop={isMediumLaptop}\n            />,\n            <RaceTimeline\n              key=\"trends\"\n              filteredRaceUniqueValues={filteredRaceUniqueValues}\n              filteredTimelineRaceData={filteredTimelineRaceData}\n              isMobileOrTablet={isMobileOrTablet}\n              isMediumLaptop={isMediumLaptop}\n            />,\n            <GenderTimeline\n              key=\"trends\"\n              filteredSexUniqueValues={filteredSexUniqueValues}\n              filteredTimelineSexData={filteredTimelineSexData}\n              isMobileOrTablet={isMobileOrTablet}\n              isMediumLaptop={isMediumLaptop}\n            />,\n          ]}\n        />\n        <FaChevronRight\n          color=\"rgb(0, 0, 0)\"\n          className=\"carousel_right_arrow\"\n          onClick={() => {\n            CarouselRef.slideNext();\n            CarouselTimelineRef.slideNext();\n\n            if (arrowTooltipVisible) {\n              changeArrowTooltipVisible(false);\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default BottomInfoPanel;\n","const yearlyTotals = {\n  2006: 371932,\n  2007: 403229,\n  2008: 401526,\n  2009: 421314,\n  2010: 422320,\n  2011: 412856,\n  2012: 396278,\n  2013: 393807,\n  2014: 387725,\n  2015: 339468,\n  2016: 314862,\n  2017: 286223,\n  2018: 246772,\n  2019: 214616,\n  2020: 103375,\n};\n\nexport default yearlyTotals;\n","import React from \"react\";\nimport {\n  CircularProgressbarWithChildren,\n  buildStyles,\n} from \"react-circular-progressbar\";\nimport { GiHandcuffs } from \"react-icons/gi\";\nimport GridLoader from \"react-spinners/GridLoader\";\nimport BounceLoader from \"react-spinners/BounceLoader\";\nimport { css } from \"@emotion/core\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport { useSelector } from \"react-redux\";\nimport Div100vh from \"react-div-100vh\";\n\nconst InitialLoader = (props) => {\n  const { countUp, loaderColor, mapError, applyingFiltersProgressRef } = props;\n\n  const override = css`\n    display: block;\n    margin: 0 auto;\n  `;\n\n  const filteredDataChunks = useSelector(\n    (state) => state.filteredDataChunksReducer.data\n  );\n\n  const totalCount = useSelector((state) => state.totalCountReducer.total);\n\n  return (\n    <Div100vh className=\"loading_container\">\n      {totalCount === 0 ? (\n        <GridLoader\n          css={override}\n          size={50}\n          color={loaderColor}\n          style={{ transition: \"all 0.5s ease\" }}\n          loading={\n            filteredDataChunks === \"\" ||\n            (typeof filteredDataChunks === \"object\" &&\n              filteredDataChunks.flat().length < 90000)\n          }\n        />\n      ) : countUp > 95 ? (\n        <BounceLoader\n          css={override}\n          size={200}\n          color={\"rgb(93, 188, 210)\"}\n          style={{ transition: \"all 0.5s ease\" }}\n          loading={countUp > 95}\n        />\n      ) : (\n        <CircularProgressbarWithChildren\n          value={countUp}\n          styles={buildStyles({\n            strokeLinecap: \"butt\",\n            trailColor: \"#eee\",\n          })}\n        >\n          <GiHandcuffs color=\"#fff\" size=\"4rem\" />\n          <div style={{ fontSize: 30, marginTop: 20, color: \"#fff\" }}>\n            <strong>{countUp}%</strong>\n          </div>\n        </CircularProgressbarWithChildren>\n      )}\n      <p>\n        {mapError\n          ? \"Error Initializing NYPD Arrest Map\"\n          : totalCount === 0\n          ? \"Initializing NYPD Arrest Map\"\n          : countUp > 95\n          ? `Analyzing Arrest Data (${applyingFiltersProgressRef.current}% Done)`\n          : \"Loading Most Recent Arrest Data\"}\n      </p>\n    </Div100vh>\n  );\n};\n\nexport default InitialLoader;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  CircularProgressbarWithChildren,\n  buildStyles,\n} from \"react-circular-progressbar\";\nimport { GiHandcuffs } from \"react-icons/gi\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport Modal from \"react-modal\";\nimport yearlyTotals from \"./YearlyTotals\";\nimport { useSelector } from \"react-redux\";\n\nconst SubsequentLoader = (props) => {\n  const { modalActive, changeModalActive, loadedYears } = props;\n\n  const loadDataChunks = useSelector(\n    (state) => state.loadDataChunksReducer.data\n  );\n  const filteredDataChunks = useSelector(\n    (state) => state.filteredDataChunksReducer.data\n  );\n\n  const [newProgress, changeNewProgress] = useState(0);\n\n  useEffect(() => {\n    if (loadDataChunks[0][modalActive.year.toString()]) {\n      const progress =\n        Number(\n          loadDataChunks[0][modalActive.year.toString()]\n            .map((x) => x.length)\n            .reduce((a, b) => a + b, 0) /\n            yearlyTotals[modalActive.year.toString()]\n        ).toFixed(1) * 100;\n\n      if (\n        newProgress === 100 &&\n        filteredDataChunks.length === loadedYears.length\n      ) {\n        changeModalActive({ active: false, year: null });\n      } else {\n        if (progress && progress !== newProgress) {\n          changeNewProgress(progress);\n        }\n      }\n    }\n  }, [\n    loadDataChunks,\n    modalActive.year,\n    changeModalActive,\n    newProgress,\n    filteredDataChunks.length,\n    loadedYears.length,\n  ]);\n\n  return (\n    <Modal\n      isOpen={modalActive.active}\n      style={{\n        content: {\n          position: \"fixed\",\n          zIndex: 10000,\n          opacity: 0.99,\n          height: \"100%\",\n          backdropFilter: \"blur(5px)\",\n          WebkitBackdropFilter: \"blur(5px)\",\n          paddingBottom: \"10%\",\n          borderRadius: \"none\",\n          width: \"100vw\",\n          top: \"0\",\n          left: \"0\",\n          right: \"0\",\n          bottom: \"0\",\n          border: \"none\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          background: \"rgba(0, 0, 0, 0.5)\",\n        },\n      }}\n    >\n      <CircularProgressbarWithChildren\n        value={newProgress}\n        styles={buildStyles({\n          strokeLinecap: \"butt\",\n          trailColor: \"#eee\",\n        })}\n      >\n        <GiHandcuffs color=\"#fff\" size=\"4rem\" />\n        <div style={{ fontSize: 30, marginTop: 20, color: \"#fff\" }}>\n          <strong>{newProgress}%</strong>\n        </div>\n      </CircularProgressbarWithChildren>\n      <p>Loading {modalActive.year} Arrest Data</p>\n    </Modal>\n  );\n};\n\nexport default SubsequentLoader;\n","const LOAD_DATA_CHUNKS_ADD_TO_YEAR = \"LOAD_DATA_CHUNKS_ADD_TO_YEAR\";\n\nconst ACTION_LOAD_DATA_CHUNKS_ADD_TO_YEAR = (data, year) => {\n  return {\n    type: LOAD_DATA_CHUNKS_ADD_TO_YEAR,\n    data,\n    year,\n  };\n};\n\nexport default ACTION_LOAD_DATA_CHUNKS_ADD_TO_YEAR;\n","const LOAD_DATA_CHUNKS_ADD_YEAR = \"LOAD_DATA_CHUNKS_ADD_YEAR\";\n\nconst ACTION_LOAD_DATA_CHUNKS_ADD_YEAR = (data, year) => {\n  return {\n    type: LOAD_DATA_CHUNKS_ADD_YEAR,\n    data,\n    year,\n  };\n};\n\nexport default ACTION_LOAD_DATA_CHUNKS_ADD_YEAR;\n","const FILTERED_DATA_CHUNKS_ADD_TO_YEAR = \"FILTERED_DATA_CHUNKS_ADD_TO_YEAR\";\n\nconst ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR = (data, dataIndex) => {\n  return {\n    type: FILTERED_DATA_CHUNKS_ADD_TO_YEAR,\n    data,\n    dataIndex,\n  };\n};\n\nexport default ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR;\n","const FILTERED_DATA_CHUNKS_ADD_YEAR = \"FILTERED_DATA_CHUNKS_ADD_YEAR\";\n\nconst ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR = (data) => {\n  return {\n    type: FILTERED_DATA_CHUNKS_ADD_YEAR,\n    data,\n  };\n};\n\nexport default ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR;\n","const ASSIGN_FILTERED_DATA_CHUNKS = \"ASSIGN_FILTERED_DATA_CHUNKS\";\n\nconst ACTION_ASSIGN_FILTERED_DATA_CHUNKS = (data) => {\n  return {\n    type: ASSIGN_FILTERED_DATA_CHUNKS,\n    data,\n  };\n};\n\nexport default ACTION_ASSIGN_FILTERED_DATA_CHUNKS;\n","const INCREMENT_TOTAL_COUNT = \"INCREMENT_TOTAL_COUNT\";\n\nconst ACTION_INCREMENT_TOTAL_COUNT = (dataLength) => {\n  return {\n    type: INCREMENT_TOTAL_COUNT,\n    dataLength,\n  };\n};\n\nexport default ACTION_INCREMENT_TOTAL_COUNT;\n","const ASSIGN_LOAD_DATA = \"ASSIGN_LOAD_DATA\";\n\nconst ACTION_ASSIGN_LOAD_DATA = (data) => {\n  return {\n    type: ASSIGN_LOAD_DATA,\n    data,\n  };\n};\n\nexport default ACTION_ASSIGN_LOAD_DATA;\n","const ASSIGN_FILTERED_DATA = \"ASSIGN_FILTERED_DATA\";\n\nconst ACTION_ASSIGN_FILTERED_DATA = (data) => {\n  return {\n    type: ASSIGN_FILTERED_DATA,\n    data,\n  };\n};\n\nexport default ACTION_ASSIGN_FILTERED_DATA;\n","const FILTERED_DATA_CHANGED = \"FILTERED_DATA_CHANGED\";\n\nconst ACTION_FILTERED_DATA_CHANGED = () => {\n  return {\n    type: FILTERED_DATA_CHANGED,\n  };\n};\n\nexport default ACTION_FILTERED_DATA_CHANGED;\n","const FILTERED_DATA_CHANGED_RESET = \"FILTERED_DATA_CHANGED_RESET\";\n\nconst ACTION_FILTERED_DATA_CHANGED_RESET = () => {\n  return {\n    type: FILTERED_DATA_CHANGED_RESET,\n  };\n};\n\nexport default ACTION_FILTERED_DATA_CHANGED_RESET;\n","const TIMELINE_AGE_GROUP_GRAPH_DATA = \"TIMELINE_AGE_GROUP_GRAPH_DATA\";\n\nconst ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA = (data) => {\n  return {\n    type: TIMELINE_AGE_GROUP_GRAPH_DATA,\n    data,\n  };\n};\n\nexport default ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA;\n","const TIMELINE_BOROUGH_GRAPH_DATA = \"TIMELINE_BOROUGH_GRAPH_DATA\";\n\nconst ACTION_TIMELINE_BOROUGH_GRAPH_DATA = (data) => {\n  return {\n    type: TIMELINE_BOROUGH_GRAPH_DATA,\n    data,\n  };\n};\n\nexport default ACTION_TIMELINE_BOROUGH_GRAPH_DATA;\n","const TIMELINE_CATEGORY_GRAPH_DATA = \"TIMELINE_CATEGORY_GRAPH_DATA\";\n\nconst ACTION_TIMELINE_CATEGORY_GRAPH_DATA = (data) => {\n  return {\n    type: TIMELINE_CATEGORY_GRAPH_DATA,\n    data,\n  };\n};\n\nexport default ACTION_TIMELINE_CATEGORY_GRAPH_DATA;\n","const TIMELINE_GENDER_GRAPH_DATA = \"TIMELINE_GENDER_GRAPH_DATA\";\n\nconst ACTION_TIMELINE_GENDER_GRAPH_DATA = (data) => {\n  return {\n    type: TIMELINE_GENDER_GRAPH_DATA,\n    data,\n  };\n};\n\nexport default ACTION_TIMELINE_GENDER_GRAPH_DATA;\n","const TIMELINE_RACE_GRAPH_DATA = \"TIMELINE_RACE_GRAPH_DATA\";\n\nconst ACTION_TIMELINE_RACE_GRAPH_DATA = (data) => {\n  return {\n    type: TIMELINE_RACE_GRAPH_DATA,\n    data,\n  };\n};\n\nexport default ACTION_TIMELINE_RACE_GRAPH_DATA;\n","export default function() {\n  return new Worker(__webpack_public_path__ + \"static/js/setFilterAndTimelineGraphWorkers.ef31545b.worker.js\");\n}\n","const AGE_TIMELINE_COLUMNS = \"AGE_TIMELINE_COLUMNS\";\n\nconst ACTION_AGE_TIMELINE_COLUMNS = (columns) => {\n  return {\n    type: AGE_TIMELINE_COLUMNS,\n    columns,\n  };\n};\n\nexport default ACTION_AGE_TIMELINE_COLUMNS;\n","const BOROUGH_TIMELINE_COLUMNS = \"BOROUGH_TIMELINE_COLUMNS\";\n\nconst ACTION_BOROUGH_TIMELINE_COLUMNS = (columns) => {\n  return {\n    type: BOROUGH_TIMELINE_COLUMNS,\n    columns,\n  };\n};\n\nexport default ACTION_BOROUGH_TIMELINE_COLUMNS;\n","const CATEGORY_TIMELINE_COLUMNS = \"CATEGORY_TIMELINE_COLUMNS\";\n\nconst ACTION_CATEGORY_TIMELINE_COLUMNS = (columns) => {\n  return {\n    type: CATEGORY_TIMELINE_COLUMNS,\n    columns,\n  };\n};\n\nexport default ACTION_CATEGORY_TIMELINE_COLUMNS;\n","const SEX_TIMELINE_COLUMNS = \"SEX_TIMELINE_COLUMNS\";\n\nconst ACTION_SEX_TIMELINE_COLUMNS = (columns) => {\n  return {\n    type: SEX_TIMELINE_COLUMNS,\n    columns,\n  };\n};\n\nexport default ACTION_SEX_TIMELINE_COLUMNS;\n","const RACE_TIMELINE_COLUMNS = \"RACE_TIMELINE_COLUMNS\";\n\nconst ACTION_RACE_TIMELINE_COLUMNS = (columns) => {\n  return {\n    type: RACE_TIMELINE_COLUMNS,\n    columns,\n  };\n};\n\nexport default ACTION_RACE_TIMELINE_COLUMNS;\n","const CHANGE_YEAR_FILTER = \"CHANGE_YEAR_FILTER\";\n\nconst ACTION_CHANGE_YEAR_FILTER = (year) => {\n  return {\n    type: CHANGE_YEAR_FILTER,\n    year,\n  };\n};\n\nexport default ACTION_CHANGE_YEAR_FILTER;\n","const APPLYING_FILTERS = \"APPLYING_FILTERS\";\n\nconst ACTION_APPLYING_FILTERS = () => {\n  return {\n    type: APPLYING_FILTERS,\n  };\n};\n\nexport default ACTION_APPLYING_FILTERS;\n","const APPLYING_FILTERS_RESET = \"APPLYING_FILTERS_RESET\";\n\nconst ACTION_APPLYING_FILTERS_RESET = () => {\n  return {\n    type: APPLYING_FILTERS_RESET,\n  };\n};\n\nexport default ACTION_APPLYING_FILTERS_RESET;\n","import React, { useEffect, useRef } from \"react\";\nimport Popup from \"reactjs-popup\";\nimport GridLoader from \"react-spinners/GridLoader\";\nimport { css } from \"@emotion/core\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport \"./ApplyingFiltersPopUp.css\";\nimport \"reactjs-popup/dist/index.css\";\nimport { useSelector } from \"react-redux\";\n\nconst ApplyingFiltersPopUp = (props) => {\n  const { applyingFiltersProgressRef } = props;\n\n  const applyingFiltersRef = useRef(null);\n\n  const override = css`\n    display: block;\n    margin: 0 auto;\n  `;\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n\n  useEffect(() => {\n    if (applyingFiltersRef) {\n      if (applyingFiltersRef.current) {\n        if (applyingFilters) {\n          applyingFiltersRef.current.open();\n        } else {\n          applyingFiltersRef.current.close();\n        }\n      }\n    }\n  }, [applyingFilters]);\n\n  return (\n    <Popup\n      className=\"applying_filters\"\n      ref={applyingFiltersRef}\n      modal\n      closeOnDocumentClick={false}\n      closeOnEscape={false}\n    >\n      <div className=\"applying_filters_modal\">\n        <GridLoader\n          css={override}\n          size={40}\n          color={\"rgb(0, 109, 129)\"}\n          style={{ transition: \"all 0.5s ease\" }}\n          loading={true}\n        />\n        <p>Applying Filters ({applyingFiltersProgressRef.current}% Done)</p>\n      </div>\n    </Popup>\n  );\n};\n\nexport default ApplyingFiltersPopUp;\n","const NEW_YEAR_FINISHED_LOADING_RESET = \"NEW_YEAR_FINISHED_LOADING_RESET\";\n\nconst ACTION_NEW_YEAR_FINISHED_LOADING_RESET = () => {\n  return {\n    type: NEW_YEAR_FINISHED_LOADING_RESET,\n  };\n};\n\nexport default ACTION_NEW_YEAR_FINISHED_LOADING_RESET;\n","const NEW_YEAR_FINISHED_LOADING = \"NEW_YEAR_FINISHED_LOADING\";\n\nconst ACTION_NEW_YEAR_FINISHED_LOADING = () => {\n  return {\n    type: NEW_YEAR_FINISHED_LOADING,\n  };\n};\n\nexport default ACTION_NEW_YEAR_FINISHED_LOADING;\n","const TRENDS_AVAILABLE = \"TRENDS_AVAILABLE\";\n\nconst ACTION_TRENDS_AVAILABLE = () => {\n  return {\n    type: TRENDS_AVAILABLE,\n  };\n};\n\nexport default ACTION_TRENDS_AVAILABLE;\n","const TRENDS_NOT_AVAILABLE = \"TRENDS_NOT_AVAILABLE\";\n\nconst ACTION_TRENDS_NOT_AVAILABLE = () => {\n  return {\n    type: TRENDS_NOT_AVAILABLE,\n  };\n};\n\nexport default ACTION_TRENDS_NOT_AVAILABLE;\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport DeckGL from \"@deck.gl/react\";\nimport { StaticMap } from \"react-map-gl\";\nimport { ScatterplotLayer } from \"@deck.gl/layers\";\nimport \"./App.css\";\nimport \"./mapbox.css\";\nimport NavigationBar from \"./NavigationBar/NavigationBar\";\nimport BottomInfoPanel from \"./BottomInfoPanel/BottomInfoPanel\";\nimport dayjs from \"dayjs\";\nimport customParseFormat from \"dayjs/plugin/customParseFormat\";\nimport yearlyTotals from \"./YearlyTotals\";\nimport { useCountUp } from \"react-countup\";\nimport InitialLoader from \"./InitialLoader\";\nimport SubsequentLoader from \"./SubsequentLoader\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ACTION_LOAD_DATA_CHUNKS_ADD_TO_YEAR from \"./actions/loadDataChunks/ACTION_LOAD_DATA_CHUNKS_ADD_TO_YEAR\";\nimport ACTION_LOAD_DATA_CHUNKS_ADD_YEAR from \"./actions/loadDataChunks/ACTION_LOAD_DATA_CHUNKS_ADD_YEAR\";\nimport ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR from \"./actions/filteredDataChunks/ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR\";\nimport ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR from \"./actions/filteredDataChunks/ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR\";\nimport ACTION_ASSIGN_FILTERED_DATA_CHUNKS from \"./actions/filteredDataChunks/ACTION_ASSIGN_FILTERED_DATA_CHUNKS\";\nimport ACTION_INCREMENT_TOTAL_COUNT from \"./actions/totalCount/ACTION_INCREMENT_TOTAL_COUNT\";\nimport ACTION_ASSIGN_LOAD_DATA from \"./actions/loadData/ACTION_ASSIGN_LOAD_DATA\";\nimport ACTION_ASSIGN_FILTERED_DATA from \"./actions/filteredData/ACTION_ASSIGN_FILTERED_DATA\";\nimport ACTION_FILTERED_DATA_CHANGED from \"./actions/filteredData/ACTION_FILTERED_DATA_CHANGED\";\nimport ACTION_FILTERED_DATA_CHANGED_RESET from \"./actions/filteredData/ACTION_FILTERED_DATA_CHANGED_RESET\";\nimport ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA from \"./actions/timelineGraphData/ageGroup/ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA\";\nimport ACTION_TIMELINE_BOROUGH_GRAPH_DATA from \"./actions/timelineGraphData/borough/ACTION_TIMELINE_BOROUGH_GRAPH_DATA\";\nimport ACTION_TIMELINE_CATEGORY_GRAPH_DATA from \"./actions/timelineGraphData/category/ACTION_TIMELINE_CATEGORY_GRAPH_DATA\";\nimport ACTION_TIMELINE_GENDER_GRAPH_DATA from \"./actions/timelineGraphData/gender/ACTION_TIMELINE_GENDER_GRAPH_DATA\";\nimport ACTION_TIMELINE_RACE_GRAPH_DATA from \"./actions/timelineGraphData/race/ACTION_TIMELINE_RACE_GRAPH_DATA\";\nimport setFilterAndTimelineGraphWorkers from \"worker-loader!./setFilterAndTimelineGraphWorkers.js\"; // eslint-disable-line import/no-webpack-loader-syntax\nimport ACTION_AGE_TIMELINE_COLUMNS from \"./actions/timelineColumns/age/ACTION_AGE_TIMELINE_COLUMNS\";\nimport ACTION_BOROUGH_TIMELINE_COLUMNS from \"./actions/timelineColumns/borough/ACTION_BOROUGH_TIMELINE_COLUMNS\";\nimport ACTION_CATEGORY_TIMELINE_COLUMNS from \"./actions/timelineColumns/category/ACTION_CATEGORY_TIMELINE_COLUMNS\";\nimport ACTION_SEX_TIMELINE_COLUMNS from \"./actions/timelineColumns/sex/ACTION_SEX_TIMELINE_COLUMNS\";\nimport ACTION_RACE_TIMELINE_COLUMNS from \"./actions/timelineColumns/race/ACTION_RACE_TIMELINE_COLUMNS\";\nimport ACTION_CHANGE_YEAR_FILTER from \"./actions/filters/year/ACTION_CHANGE_YEAR_FILTER\";\nimport ACTION_CHANGE_CATEGORY_FILTER from \"./actions/filters/category/ACTION_CHANGE_CATEGORY_FILTER\";\nimport ACTION_CHANGE_OFFENSE_FILTER from \"./actions/filters/offense/ACTION_CHANGE_OFFENSE_FILTER\";\nimport ACTION_CHANGE_RACE_FILTER from \"./actions/filters/race/ACTION_CHANGE_RACE_FILTER\";\nimport ACTION_CHANGE_AGE_FILTER from \"./actions/filters/age/ACTION_CHANGE_AGE_FILTER\";\nimport ACTION_CHANGE_SEX_FILTER from \"./actions/filters/sex/ACTION_CHANGE_SEX_FILTER\";\nimport ACTION_CHANGE_BOROUGH_FILTER from \"./actions/filters/borough/ACTION_CHANGE_BOROUGH_FILTER\";\nimport ACTION_APPLYING_FILTERS from \"./actions/applyingFilters/ACTION_APPLYING_FILTERS\";\nimport ACTION_APPLYING_FILTERS_RESET from \"./actions/applyingFilters/ACTION_APPLYING_FILTERS_RESET\";\nimport ApplyingFiltersPopUp from \"./ApplyingFiltersPopUp/ApplyingFiltersPopUp\";\nimport ACTION_NEW_YEAR_FINISHED_LOADING_RESET from \"./actions/newYearFinishedLoading/ACTION_NEW_YEAR_FINISHED_LOADING_RESET\";\nimport ACTION_NEW_YEAR_FINISHED_LOADING from \"./actions/newYearFinishedLoading/ACTION_NEW_YEAR_FINISHED_LOADING\";\nimport ACTION_TRENDS_AVAILABLE from \"./actions/trendsAvailable/ACTION_TRENDS_AVAILABLE\";\nimport ACTION_TRENDS_NOT_AVAILABLE from \"./actions/trendsAvailable/ACTION_TRENDS_NOT_AVAILABLE\";\nimport Div100vh from \"react-div-100vh\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { FcRotateToLandscape } from \"react-icons/fc\";\n\ndayjs.extend(customParseFormat);\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  const loadData = useSelector((state) => state.loadDataReducer.data);\n  const filteredData = useSelector((state) => state.filteredDataReducer.data);\n  const filteredDataChanged = useSelector(\n    (state) => state.filteredDataReducer.changed\n  );\n  const filteredDataChunks = useSelector(\n    (state) => state.filteredDataChunksReducer.data\n  );\n  const newYearFinishedLoading = useSelector(\n    (state) => state.newYearFinishedLoadingReducer.finished\n  );\n\n  const loadDataChunks = useSelector(\n    (state) => state.loadDataChunksReducer.data\n  );\n  const totalCount = useSelector((state) => state.totalCountReducer.total);\n\n  const ageGroupTimelineGraphData = useSelector(\n    (state) => state.ageGroupTimelineGraphDataReducer.data\n  );\n  const boroughTimelineGraphData = useSelector(\n    (state) => state.boroughTimelineGraphDataReducer.data\n  );\n  const categoryTimelineGraphData = useSelector(\n    (state) => state.categoryTimelineGraphDataReducer.data\n  );\n  const genderTimelineGraphData = useSelector(\n    (state) => state.genderTimelineGraphDataReducer.data\n  );\n  const raceTimelineGraphData = useSelector(\n    (state) => state.raceTimelineGraphDataReducer.data\n  );\n\n  // Timeline Column Data\n  const ageTimelineColumns = useSelector(\n    (state) => state.ageTimelineColumnsReducer.columns\n  );\n  const boroughTimelineColumns = useSelector(\n    (state) => state.boroughTimelineColumnsReducer.columns\n  );\n  const categoryTimelineColumns = useSelector(\n    (state) => state.categoryTimelineColumnsReducer.columns\n  );\n  const raceTimelineColumns = useSelector(\n    (state) => state.raceTimelineColumnsReducer.columns\n  );\n  const sexTimelineColumns = useSelector(\n    (state) => state.sexTimelineColumnsReducer.columns\n  );\n\n  const [mapLoaded, changeMapLoaded] = useState(false);\n  const [tooltipVisible, changeTooltipVisible] = useState(false);\n  const [loaderColor, changeLoaderColor] = useState(\"rgb(93, 188, 210)\");\n  const [mapError, changeMapError] = useState(false);\n  const [modalActive, changeModalActive] = useState({\n    active: false,\n    year: null,\n  });\n  const [mapPostsCompleted, changeMapPostsCompleted] = useState(false);\n  const [\n    readyForTimelineColumnPosts,\n    changeReadyForTimelineColumnPosts,\n  ] = useState(false);\n  const [graphOption, changeGraphOption] = useState(\"overview\");\n  const [footerMenuActive, changeFooterMenuActive] = useState(false);\n\n  const [currentFilters, changeCurrentFilters] = useState({\n    year: [],\n    category: [],\n    offense: [],\n    age: [],\n    race: [],\n    sex: [],\n    borough: [],\n  });\n\n  const isMobileOrTablet = useMediaQuery({ maxWidth: 1224 });\n  const isTablet = useMediaQuery({ minWidth: 768 });\n  const isMediumLaptop = useMediaQuery({ maxWidth: 1440 });\n  const isPortrait = useMediaQuery({ orientation: \"portrait\" });\n\n  const [laddaLoading, changeLaddaLoading] = useState(false);\n  const [loadingYears, changeLoadingYears] = useState([]);\n\n  // Web Worker Instances\n  const [workerInstance, changeWorkerInstance] = useState(\"\");\n  const [mapFilterWorkerInstance, changeMapFilterWorkerInstance] = useState(\"\");\n  const [filterWorkerInstance, changeFilterWorkerInstance] = useState(\"\");\n  const [timelineWorkerInstance, changeTimelineWorkerInstance] = useState(\"\");\n  const [\n    setFilterAndTimelineGraphWorkersInstance,\n    changeSetFilterAndTimelineGraphWorkersInstance,\n  ] = useState(\"\");\n\n  const [mapVisible, changeMapVisible] = useState(false);\n\n  // Side Menu Bar States\n  const [menuClicked, changeMenuClicked] = useState(false);\n  const [collapseOpen, changeCollapseOpen] = useState(\"\");\n\n  let layersRef = useRef([]);\n  let applyingFiltersProgressRef = useRef(0);\n  const deckGLRef = useRef(null);\n\n  // Needed for screen-readers\n  useEffect(() => {\n    Modal.setAppElement(\"body\");\n  }, []);\n\n  // Custom Hook to check for previous state\n  const usePrevious = (value) => {\n    const ref = useRef();\n    useEffect(() => {\n      ref.current = value;\n    });\n    return ref.current;\n  };\n\n  const prevFilters = usePrevious(currentFilters);\n\n  const loadedYears = loadDataChunks[0]\n    ? Object.keys(loadDataChunks[0]).map((x) => Number(x))\n    : [];\n\n  const { countUp, update } = useCountUp({\n    start: 0,\n    end: loadDataChunks[0]\n      ? loadDataChunks[0][\"2020\"]\n        ? Number(\n            (\n              loadDataChunks[0][\"2020\"]\n                .map((x) => x.length)\n                .reduce((a, b) => a + b, 0) / yearlyTotals[\"2020\"]\n            ).toFixed(1)\n          ) * 100\n        : 0\n      : 0,\n    delay: 0,\n    duration: 1,\n  });\n\n  useEffect(() => {\n    if (loadDataChunks[0]) {\n      if (loadDataChunks[0][\"2020\"]) {\n        const newProgress =\n          Number(\n            (\n              loadDataChunks[0][\"2020\"]\n                .map((x) => x.length)\n                .reduce((a, b) => a + b, 0) / yearlyTotals[\"2020\"]\n            ).toFixed(1)\n          ) * 100;\n\n        if (newProgress >= 60) {\n          update(100);\n        } else {\n          update(newProgress);\n        }\n      }\n    }\n  }, [update, countUp, loadDataChunks]);\n\n  const isSame = (arr1, arr2) =>\n    arr1.length === arr2.length &&\n    arr1.every((item, i) => {\n      return item === arr2[i];\n    });\n\n  const [ageGroup, changeAgeGroup] = useState([]);\n  const [raceArr, changeRaceArr] = useState([]);\n  const [boroughArr, changeBoroughArr] = useState([]);\n  const [offenseDescriptionArr, changeOffenseDescriptionArr] = useState([]);\n  const [filteredArrestCategory, changeFilteredArrestCategory] = useState([]);\n  const [filteredAgeGroup, changeFilteredAgeGroup] = useState([]);\n  const [filteredSexArr, changeFilteredSexArr] = useState([]);\n  const [filteredRaceArr, changeFilteredRaceArr] = useState([]);\n  const [filteredBoroughArr, changeFilteredBoroughArr] = useState([]);\n  const [\n    filteredOffenseDescriptionArr,\n    changeFilteredOffenseDescriptionArr,\n  ] = useState([]);\n  const [filteredUniqueCategory, changeFilteredUniqueCategory] = useState([]);\n  const [\n    filteredTimelineAgeGroupData,\n    changeFilteredTimelineAgeGroupData,\n  ] = useState([]);\n  const [\n    filteredTimelineBoroughData,\n    changeFilteredTimelineBoroughData,\n  ] = useState([]);\n  const [\n    filteredTimelineCategoryData,\n    changeFilteredTimelineCategoryData,\n  ] = useState([]);\n  const [filteredTimelineSexData, changeFilteredTimelineSexData] = useState([]);\n  const [filteredTimelineRaceData, changeFilteredTimelineRaceData] = useState(\n    []\n  );\n\n  const postToTimelineGraphWorker = useCallback(\n    (ageObj, raceObj, categoryObj, sexObj, boroughObj) => {\n      if (setFilterAndTimelineGraphWorkersInstance) {\n        // Send from main thread to web worker\n        setFilterAndTimelineGraphWorkersInstance.postMessage({\n          ageObj,\n          raceObj,\n          categoryObj,\n          sexObj,\n          boroughObj,\n        });\n\n        setFilterAndTimelineGraphWorkersInstance.onmessage = (receivedData) => {\n          applyingFiltersProgressRef.current += 25;\n\n          const ageGroupTimelineGraphData =\n            receivedData.data.ageGroupTimelineGraphData;\n          const raceTimelineGraphData = receivedData.data.raceTimelineGraphData;\n          const categoryTimelineGraphData =\n            receivedData.data.categoryTimelineGraphData;\n          const genderTimelineGraphData =\n            receivedData.data.genderTimelineGraphData;\n          const boroughTimelineGraphData =\n            receivedData.data.boroughTimelineGraphData;\n\n          dispatch(\n            ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA(ageGroupTimelineGraphData)\n          );\n          dispatch(\n            ACTION_TIMELINE_BOROUGH_GRAPH_DATA(boroughTimelineGraphData)\n          );\n          dispatch(\n            ACTION_TIMELINE_CATEGORY_GRAPH_DATA(categoryTimelineGraphData)\n          );\n          dispatch(ACTION_TIMELINE_GENDER_GRAPH_DATA(genderTimelineGraphData));\n          dispatch(ACTION_TIMELINE_RACE_GRAPH_DATA(raceTimelineGraphData));\n          dispatch(ACTION_APPLYING_FILTERS_RESET());\n        };\n      }\n    },\n    [setFilterAndTimelineGraphWorkersInstance, dispatch]\n  );\n\n  const postToFilteredWorker = useCallback(\n    (\n      ageGroup,\n      raceArr,\n      boroughArr,\n      offenseDescriptionArr,\n      filteredAgeGroup,\n      filteredSexArr,\n      filteredRaceArr,\n      filteredBoroughArr,\n      filteredOffenseDescriptionArr\n    ) => {\n      if (filterWorkerInstance) {\n        // Send from main thread to web worker\n        filterWorkerInstance.postMessage({\n          ageGroup,\n          raceArr,\n          boroughArr,\n          offenseDescriptionArr,\n          filteredAgeGroup,\n          filteredSexArr,\n          filteredRaceArr,\n          filteredBoroughArr,\n          filteredOffenseDescriptionArr,\n        });\n\n        filterWorkerInstance.onmessage = (receivedData) => {\n          applyingFiltersProgressRef.current += 25;\n\n          const parsedData = JSON.parse(receivedData.data);\n\n          const ageGroupData = parsedData.ageGroupData;\n          const raceUniqueValues = parsedData.raceUniqueValues;\n          const boroughUniqueValues = parsedData.boroughUniqueValues;\n          const offenseDescriptionArr = parsedData.offenseDescriptionArr;\n          const filteredAgeGroupData = parsedData.filteredAgeGroupData;\n          const filteredSexUniqueValues = parsedData.filteredSexUniqueValues;\n          const filteredRaceUniqueValues = parsedData.filteredRaceUniqueValues;\n          const filteredBoroughUniqueValues =\n            parsedData.filteredBoroughUniqueValues;\n          const filteredOffenseDescriptionUniqueValues =\n            parsedData.filteredOffenseDescriptionUniqueValues;\n\n          changeFilteredAgeGroupData(filteredAgeGroupData);\n          changeFilteredRaceUniqueValues(filteredRaceUniqueValues);\n          changeFilteredSexUniqueValues(filteredSexUniqueValues);\n          changeFilteredBoroughUniqueValues(filteredBoroughUniqueValues);\n          changeFilteredOffenseDescriptionUniqueValues(\n            filteredOffenseDescriptionUniqueValues\n          );\n          changeAgeGroupData(ageGroupData);\n          changeRaceUniqueValues(raceUniqueValues);\n          changeBoroughUniqueValues(boroughUniqueValues);\n          changeOffenseDescriptionUniqueValues(offenseDescriptionArr);\n          changeReadyForTimelineColumnPosts(true);\n        };\n      }\n    },\n    [filterWorkerInstance]\n  );\n\n  const postToMapFilterWorker = useCallback(\n    (loadData, filteredData, filteredDataChunks, currentFilters) => {\n      if (mapFilterWorkerInstance) {\n        // Send from main thread to web worker\n        mapFilterWorkerInstance.postMessage({\n          loadData,\n          filteredData,\n          filteredDataChunks,\n          currentFilters,\n        });\n\n        mapFilterWorkerInstance.onmessage = (receivedData) => {\n          applyingFiltersProgressRef.current += 25;\n\n          const parsedData = JSON.parse(receivedData.data);\n\n          const ageGroup = parsedData.ageGroup;\n          const raceArr = parsedData.raceArr;\n          const boroughArr = parsedData.boroughArr;\n          const offenseDescriptionArr = parsedData.offenseDescriptionArr;\n          const filteredArrestCategory = parsedData.filteredArrestCategory;\n          const filteredAgeGroup = parsedData.filteredAgeGroup;\n          const filteredSexArr = parsedData.filteredSexArr;\n          const filteredRaceArr = parsedData.filteredRaceArr;\n          const filteredBoroughArr = parsedData.filteredBoroughArr;\n          const filteredOffenseDescriptionArr =\n            parsedData.filteredOffenseDescriptionArr;\n          const filteredUniqueCategory = parsedData.filteredUniqueCategory;\n\n          postToFilteredWorker(\n            ageGroup,\n            raceArr,\n            boroughArr,\n            offenseDescriptionArr,\n            filteredAgeGroup,\n            filteredSexArr,\n            filteredRaceArr,\n            filteredBoroughArr,\n            filteredOffenseDescriptionArr\n          );\n\n          changeAgeGroup(ageGroup);\n          changeRaceArr(raceArr);\n          changeBoroughArr(boroughArr);\n          changeOffenseDescriptionArr(offenseDescriptionArr);\n          changeFilteredArrestCategory(filteredArrestCategory);\n          changeFilteredAgeGroup(filteredAgeGroup);\n          changeFilteredSexArr(filteredSexArr);\n          changeFilteredRaceArr(filteredRaceArr);\n          changeFilteredBoroughArr(filteredBoroughArr);\n          changeFilteredOffenseDescriptionArr(filteredOffenseDescriptionArr);\n          changeFilteredUniqueCategory(filteredUniqueCategory);\n        };\n      }\n    },\n    [mapFilterWorkerInstance, postToFilteredWorker]\n  );\n\n  const postToTimelineWorker = useCallback(\n    (chunk) => {\n      if (timelineWorkerInstance) {\n        // Send from main thread to web worker\n        timelineWorkerInstance.postMessage({ chunk });\n\n        timelineWorkerInstance.onmessage = (receivedData) => {\n          applyingFiltersProgressRef.current += 25;\n\n          const parsedData = JSON.parse(receivedData.data);\n\n          const age_group = parsedData.age_group;\n          const borough = parsedData.borough;\n          const category = parsedData.category;\n          const sex = parsedData.sex;\n          const race = parsedData.race;\n\n          changeFilteredTimelineAgeGroupData(age_group);\n          changeFilteredTimelineBoroughData(borough);\n          changeFilteredTimelineCategoryData(category);\n          changeFilteredTimelineSexData(sex);\n          changeFilteredTimelineRaceData(race);\n        };\n      }\n    },\n    [timelineWorkerInstance]\n  );\n\n  const [filteredAgeGroupData, changeFilteredAgeGroupData] = useState([]);\n  const [filteredRaceUniqueValues, changeFilteredRaceUniqueValues] = useState(\n    []\n  );\n  const [filteredSexUniqueValues, changeFilteredSexUniqueValues] = useState([]);\n  const [\n    filteredBoroughUniqueValues,\n    changeFilteredBoroughUniqueValues,\n  ] = useState([]);\n  const [\n    filteredOffenseDescriptionUniqueValues,\n    changeFilteredOffenseDescriptionUniqueValues,\n  ] = useState([]);\n  const [ageGroupData, changeAgeGroupData] = useState([]);\n  const [raceUniqueValues, changeRaceUniqueValues] = useState([]);\n  const [boroughUniqueValues, changeBoroughUniqueValues] = useState([]);\n  const [\n    offenseDescriptionUniqueValues,\n    changeOffenseDescriptionUniqueValues,\n  ] = useState([]);\n\n  useEffect(() => {\n    if (readyForTimelineColumnPosts) {\n      changeReadyForTimelineColumnPosts(false);\n\n      postToTimelineGraphWorker(\n        { unique: filteredAgeGroupData, data: filteredTimelineAgeGroupData },\n        { unique: filteredRaceUniqueValues, data: filteredTimelineRaceData },\n        { unique: filteredUniqueCategory, data: filteredTimelineCategoryData },\n        { unique: filteredSexUniqueValues, data: filteredTimelineSexData },\n        {\n          unique: filteredBoroughUniqueValues,\n          data: filteredTimelineBoroughData,\n        }\n      );\n    }\n  }, [\n    categoryTimelineGraphData.length,\n    filteredAgeGroupData,\n    filteredBoroughUniqueValues,\n    filteredRaceUniqueValues,\n    filteredSexUniqueValues,\n    filteredTimelineAgeGroupData,\n    filteredTimelineBoroughData,\n    filteredTimelineCategoryData,\n    filteredTimelineRaceData,\n    filteredTimelineSexData,\n    filteredUniqueCategory,\n    postToTimelineGraphWorker,\n    readyForTimelineColumnPosts,\n  ]);\n\n  const renderLayers = useCallback(() => {\n    if (applyingFiltersProgressRef.current !== 0) {\n      applyingFiltersProgressRef.current = 0;\n    }\n\n    const yearsFiltered = filteredDataChunks.map((item) =>\n      Number(dayjs(item[5][\"ARREST_DATE\"], \"MM/DD/YYYY\").format(\"YYYY\"))\n    );\n\n    layersRef.current = filteredDataChunks.map((chunk, chunkIndex) => {\n      const yearOfChunk = dayjs(chunk[5][\"ARREST_DATE\"], \"MM/DD/YYYY\").format(\n        \"YYYY\"\n      );\n\n      return new ScatterplotLayer({\n        id: `chunk-${chunkIndex}`,\n        data: chunk,\n        visible: yearsFiltered.flat().includes(Number(yearOfChunk)),\n        filled: true,\n        radiusMinPixels: 2,\n        getPosition: (d) => [Number(d.Longitude), Number(d.Latitude)],\n        getFillColor: (d) =>\n          d.LAW_CAT_CD === \"F\"\n            ? [255, 0, 0]\n            : d.LAW_CAT_CD === \"M\"\n            ? [255, 116, 0]\n            : [255, 193, 0],\n        pickable: true,\n        useDevicePixels: false,\n\n        parameters: {\n          depthTest: false,\n          depthRange: [0, 1],\n        },\n      });\n    });\n  }, [filteredDataChunks]);\n\n  useEffect(() => {\n    const expectedTotal = loadedYears\n      .map((x) => yearlyTotals[x])\n      .reduce((a, b) => a + b, 0);\n\n    if (newYearFinishedLoading) {\n      dispatch(ACTION_NEW_YEAR_FINISHED_LOADING_RESET());\n      if (totalCount === expectedTotal && loadData.length === expectedTotal) {\n        if (loadedYears.length === 1) {\n          dispatch(ACTION_ASSIGN_FILTERED_DATA(loadData));\n        } else {\n          dispatch(ACTION_ASSIGN_FILTERED_DATA(\"loadData\"));\n        }\n\n        dispatch(ACTION_FILTERED_DATA_CHANGED());\n      }\n    }\n  }, [newYearFinishedLoading, loadData, dispatch, loadedYears, totalCount]);\n\n  useEffect(() => {\n    if (!filteredDataChanged) {\n      if (mapPostsCompleted) {\n        changeMapPostsCompleted(false);\n      }\n    }\n  }, [filteredDataChanged, mapPostsCompleted]);\n\n  useEffect(() => {\n    const expectedTotal = loadedYears\n      .map((x) => yearlyTotals[x])\n      .reduce((a, b) => a + b, 0);\n\n    if (totalCount > 0 && totalCount === expectedTotal) {\n      if (filteredDataChanged) {\n        if (!mapPostsCompleted) {\n          renderLayers();\n\n          postToMapFilterWorker(\n            loadData,\n            filteredData,\n            filteredDataChunks,\n            currentFilters\n          );\n          postToTimelineWorker(filteredDataChunks);\n\n          dispatch(ACTION_FILTERED_DATA_CHANGED_RESET());\n        }\n\n        changeMapPostsCompleted(true);\n      }\n    }\n  }, [\n    loadData,\n    mapPostsCompleted,\n    currentFilters,\n    filteredDataChanged,\n    renderLayers,\n    ageGroup,\n    boroughArr,\n    filteredAgeGroup,\n    filteredBoroughArr,\n    filteredData,\n    filteredOffenseDescriptionArr,\n    filteredRaceArr,\n    filteredSexArr,\n    offenseDescriptionArr,\n    postToMapFilterWorker,\n    raceArr,\n    dispatch,\n    filteredDataChunks,\n    postToTimelineWorker,\n    filteredUniqueCategory,\n    filteredTimelineCategoryData,\n    loadedYears,\n    totalCount,\n  ]);\n\n  const prevAgeGroupTimelineGraphData = usePrevious(ageGroupTimelineGraphData);\n  const prevBoroughTimelineGraphData = usePrevious(boroughTimelineGraphData);\n  const prevCategoryTimelineGraphData = usePrevious(categoryTimelineGraphData);\n  const prevGenderTimelineGraphData = usePrevious(genderTimelineGraphData);\n  const prevRaceTimelineGraphData = usePrevious(raceTimelineGraphData);\n\n  useEffect(() => {\n    if (ageGroupTimelineGraphData !== prevAgeGroupTimelineGraphData) {\n      if (ageGroupTimelineGraphData.length > 0) {\n        if (\n          filteredAgeGroupData.length ===\n          ageGroupTimelineGraphData[0].length - 1\n        ) {\n          dispatch(\n            ACTION_AGE_TIMELINE_COLUMNS(\n              [\n                [{ type: \"date\", label: \"Date\" }].concat(\n                  filteredAgeGroupData.map((item) =>\n                    item === \"65\" ? \"65+\" : item\n                  )\n                ),\n              ].concat(ageGroupTimelineGraphData)\n            )\n          );\n        }\n      }\n    }\n\n    if (boroughTimelineGraphData !== prevBoroughTimelineGraphData) {\n      if (boroughTimelineGraphData.length > 0) {\n        if (\n          filteredBoroughUniqueValues.length ===\n          boroughTimelineGraphData[0].length - 1\n        ) {\n          dispatch(\n            ACTION_BOROUGH_TIMELINE_COLUMNS(\n              [\n                [{ type: \"date\", label: \"Date\" }].concat(\n                  filteredBoroughUniqueValues.map((borough) =>\n                    borough === \"B\"\n                      ? \"Bronx\"\n                      : borough === \"Q\"\n                      ? \"Queens\"\n                      : borough === \"M\"\n                      ? \"Manhattan\"\n                      : borough === \"K\"\n                      ? \"Brooklyn\"\n                      : borough === \"S\"\n                      ? \"Staten Island\"\n                      : \"Unknown\"\n                  )\n                ),\n              ].concat(boroughTimelineGraphData)\n            )\n          );\n        }\n      }\n    }\n\n    if (categoryTimelineGraphData !== prevCategoryTimelineGraphData) {\n      if (\n        categoryTimelineGraphData.length > 0 &&\n        filteredUniqueCategory.length > 0\n      ) {\n        const categoryArr = [\n          ...new Set(\n            filteredUniqueCategory.map((x) =>\n              x === \"F\" ? \"Felony\" : x === \"M\" ? \"Misdemeanor\" : \"Violation\"\n            )\n          ),\n        ];\n\n        if (categoryArr.length === categoryTimelineGraphData[0].length - 1) {\n          dispatch(\n            ACTION_CATEGORY_TIMELINE_COLUMNS(\n              [[{ type: \"date\", label: \"Date\" }].concat(categoryArr)].concat(\n                categoryTimelineGraphData\n              )\n            )\n          );\n        }\n      }\n    }\n\n    if (genderTimelineGraphData !== prevGenderTimelineGraphData) {\n      if (genderTimelineGraphData.length > 0) {\n        const genderArr = filteredSexUniqueValues.map((x) =>\n          x === \"F\" ? \"Female\" : \"Male\"\n        );\n\n        if (genderArr.length === genderTimelineGraphData[0].length - 1) {\n          dispatch(\n            ACTION_SEX_TIMELINE_COLUMNS(\n              [[{ type: \"date\", label: \"Date\" }].concat(genderArr)].concat(\n                genderTimelineGraphData\n              )\n            )\n          );\n        }\n      }\n    }\n\n    if (raceTimelineGraphData !== prevRaceTimelineGraphData) {\n      if (raceTimelineGraphData.length > 0) {\n        const raceArr = filteredRaceUniqueValues.map((race) =>\n          race\n            .split(\" \")\n            .map((x) => x[0].toUpperCase() + x.slice(1).toLowerCase())\n            .join(\" \")\n            .split(\"/\")\n            .map(\n              (x) =>\n                x[0].toUpperCase() +\n                x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                x.slice(x.indexOf(\" \"))\n            )\n            .join(\"/\")\n        );\n\n        if (raceArr.length === raceTimelineGraphData[0].length - 1) {\n          dispatch(\n            ACTION_RACE_TIMELINE_COLUMNS(\n              [[{ type: \"date\", label: \"Date\" }].concat(raceArr)].concat(\n                raceTimelineGraphData\n              )\n            )\n          );\n        }\n\n        dispatch(ACTION_TRENDS_AVAILABLE());\n      }\n    }\n  }, [\n    ageGroupTimelineGraphData,\n    boroughTimelineGraphData,\n    categoryTimelineGraphData,\n    dispatch,\n    filteredAgeGroupData,\n    genderTimelineGraphData,\n    prevAgeGroupTimelineGraphData,\n    prevBoroughTimelineGraphData,\n    prevCategoryTimelineGraphData,\n    prevGenderTimelineGraphData,\n    prevRaceTimelineGraphData,\n    raceTimelineGraphData,\n    filteredBoroughUniqueValues,\n    filteredUniqueCategory,\n    filteredRaceUniqueValues,\n    filteredSexUniqueValues,\n  ]);\n\n  useEffect(() => {\n    if (!mapError) {\n      while (totalCount === 0) {\n        const colorChangeInterval = setInterval(() => {\n          if (loaderColor === \"rgb(93, 188, 210)\") {\n            changeLoaderColor(\"rgb(255, 255, 255)\");\n          } else if (loaderColor === \"rgb(255, 255, 255)\") {\n            changeLoaderColor(\"#f9c124\");\n          } else {\n            changeLoaderColor(\"rgb(93, 188, 210)\");\n          }\n        }, 500);\n\n        return () => {\n          clearInterval(colorChangeInterval);\n        };\n      }\n    } else {\n      changeLoaderColor(\"rgb(255, 0, 0)\");\n    }\n  }, [totalCount, loaderColor, mapError]);\n\n  const token = process.env.REACT_APP_MAPBOX_TOKEN;\n\n  const showTooltip = useCallback(\n    (object, x, y) => {\n      const el = document.getElementsByClassName(\"deck-tooltip\")[0];\n\n      if (object) {\n        if (!tooltipVisible) {\n          changeTooltipVisible(true);\n          document.addEventListener(\"touchstart\", () => (el.style.opacity = 0));\n        }\n\n        const {\n          ARREST_DATE,\n          LAW_CAT_CD,\n          OFNS_DESC,\n          PD_DESC,\n          AGE_GROUP,\n          PERP_SEX,\n          PERP_RACE,\n        } = object;\n        el.innerHTML = `\n<p><strong>Date of Arrest:</strong> ${ARREST_DATE}</p>\n<p><strong>Category:</strong> ${\n          LAW_CAT_CD === \"F\"\n            ? \"Felony\"\n            : LAW_CAT_CD === \"M\"\n            ? \"Misdemeanor\"\n            : \"Violation\"\n        }</p>\n<p><strong>Offense:</strong> ${OFNS_DESC}</p>\n<p><strong>Offense Description:</strong> ${PD_DESC}</p>\n<p><strong>Perpetrator's Age Group:</strong> ${AGE_GROUP}</p>\n<p><strong>Perpetrator's Sex:</strong> ${\n          PERP_SEX === \"M\" ? \"Male\" : \"Female\"\n        }</p>\n<p><strong>Perpetrator's Race:</strong> ${PERP_RACE.toLowerCase()\n          .split(\" \")\n          .map((x) => x[0].toUpperCase() + x.slice(1))\n          .join(\" \")}</p>\n`;\n        el.style.display = \"inline-block\";\n        el.style.background = \"#000\";\n        el.style.color = \"rgb(235, 235, 235)\";\n        el.style.fontSize = \"1rem\";\n        el.style.overflowWrap = \"break-word\";\n        el.style.lineHeight = \"1rem\";\n        el.style.maxWidth = \"10rem\";\n        el.style.opacity = 0.9;\n        el.style.left = x + \"px\";\n        el.style.top = y + \"px\";\n      } else {\n        if (tooltipVisible) {\n          changeTooltipVisible(false);\n        }\n        el.style.opacity = 0;\n      }\n    },\n    [tooltipVisible]\n  );\n\n  const onNewDataArrive = useCallback(\n    (chunk, dataIndex, firstMessage, lastMessage) => {\n      const chunkYear = chunk.year;\n\n      // Year does not exist, create new year and add data\n      if (firstMessage) {\n        dispatch(ACTION_LOAD_DATA_CHUNKS_ADD_YEAR(chunk.data, chunkYear));\n\n        dispatch(ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR(chunk.data));\n\n        dispatch(ACTION_ASSIGN_LOAD_DATA(chunk.data));\n      } else {\n        if (lastMessage) {\n          dispatch(ACTION_NEW_YEAR_FINISHED_LOADING());\n        }\n\n        // Year exists, add additional data to it\n        dispatch(ACTION_LOAD_DATA_CHUNKS_ADD_TO_YEAR(chunk.data, chunkYear));\n\n        dispatch(\n          ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR(chunk.data, dataIndex)\n        );\n\n        dispatch(ACTION_ASSIGN_LOAD_DATA(chunk.data));\n      }\n    },\n    [dispatch]\n  );\n\n  const dataFetch = useCallback(\n    (year, dataIndex) => {\n      if (workerInstance) {\n        // Send from main thread to web worker\n        workerInstance.postMessage(year);\n\n        workerInstance.onmessage = (receivedData) => {\n          const data = JSON.parse(receivedData.data);\n          const parsedData = JSON.parse(data.data);\n          const chunkArr = parsedData.chunkArr;\n          const firstMessage = parsedData.firstMessage;\n          const lastMessage = parsedData.lastMessage;\n\n          dispatch(ACTION_INCREMENT_TOTAL_COUNT(chunkArr.length));\n\n          onNewDataArrive(\n            {\n              year: data.year,\n              data: chunkArr,\n            },\n            dataIndex,\n            firstMessage,\n            lastMessage\n          );\n        };\n      }\n    },\n    [onNewDataArrive, workerInstance, dispatch]\n  );\n\n  const setFilters = (\n    year,\n    category,\n    offense,\n    age,\n    race,\n    sex,\n    borough,\n    suppliedData,\n    downloadYear\n  ) => {\n    if (setFilterAndTimelineGraphWorkersInstance) {\n      if (applyingFiltersProgressRef.current !== 0) {\n        applyingFiltersProgressRef.current = 0;\n      }\n\n      if (graphOption === \"trends\") {\n        changeGraphOption(\"overview\");\n      }\n      changeCollapseOpen(\"\");\n      changeMenuClicked(false);\n      dispatch(ACTION_TRENDS_NOT_AVAILABLE());\n\n      // Send from main thread to web worker\n      setFilterAndTimelineGraphWorkersInstance.postMessage({\n        year: year,\n        category: category,\n        offense: offense,\n        age: age,\n        race: race,\n        sex: sex,\n        borough: borough,\n        suppliedData: suppliedData,\n      });\n\n      if (!downloadYear) {\n        dispatch(ACTION_APPLYING_FILTERS());\n      }\n\n      setFilterAndTimelineGraphWorkersInstance.onmessage = (receivedData) => {\n        const assignFilteredData = receivedData.data.assignFilteredData;\n        const assignFilteredDataFlat = receivedData.data.assignFilteredDataFlat;\n\n        if (assignFilteredData && assignFilteredDataFlat) {\n          dispatch(ACTION_ASSIGN_FILTERED_DATA_CHUNKS(assignFilteredData));\n\n          dispatch(ACTION_ASSIGN_FILTERED_DATA(assignFilteredDataFlat));\n\n          changeCurrentFilters({\n            year: year,\n            category: category,\n            offense: offense,\n            age: age,\n            race: race,\n            sex: sex,\n            borough: borough,\n          });\n\n          if (!downloadYear) {\n            dispatch(ACTION_FILTERED_DATA_CHANGED());\n          }\n        }\n      };\n\n      setTimeout(() => changeLaddaLoading(false), 1000);\n    }\n  };\n\n  useEffect(() => {\n    if (currentFilters && prevFilters) {\n      if (!isSame(Object.values(currentFilters), Object.values(prevFilters))) {\n        renderLayers();\n      }\n    }\n  }, [currentFilters, prevFilters, renderLayers, dispatch, filteredDataChunks]);\n\n  const handleDownloadYear = (year) => {\n    const newYearArr = [...loadedYears, year];\n\n    if (graphOption === \"trends\") {\n      changeGraphOption(\"overview\");\n    }\n\n    dispatch(ACTION_CHANGE_YEAR_FILTER(newYearArr));\n    dispatch(ACTION_CHANGE_CATEGORY_FILTER([]));\n    dispatch(ACTION_CHANGE_OFFENSE_FILTER([]));\n    dispatch(ACTION_CHANGE_RACE_FILTER([]));\n    dispatch(ACTION_CHANGE_AGE_FILTER([]));\n    dispatch(ACTION_CHANGE_SEX_FILTER([]));\n    dispatch(ACTION_CHANGE_BOROUGH_FILTER([]));\n    dispatch(ACTION_TRENDS_NOT_AVAILABLE());\n\n    setFilters(newYearArr, [], [], [], [], [], [], loadData, true);\n    changeModalActive({ active: true, year: year });\n    changeLoadingYears([year]);\n    changeCollapseOpen(\"\");\n    changeMenuClicked(false);\n  };\n\n  useEffect(() => {\n    if (!mapFilterWorkerInstance) {\n      const response = `self.onmessage = (e) => {\n        const dataSent = e.data;\n\n        const loadData = dataSent.loadData;\n        const filteredData = dataSent.filteredData;\n        const filteredDataChunks = dataSent.filteredDataChunks;\n        const currentFilters = dataSent.currentFilters;\n\n        const filterArrIncluded = (\n          x,\n          filterExactName,\n          filterGeneralName\n        ) => {\n          if (x !== filterExactName) {\n            if (currentFilters[filterGeneralName]) {\n              if (currentFilters[filterGeneralName].length > 0) {\n                return currentFilters[filterGeneralName].includes(x);\n              } else {\n                return true;\n              }\n            } else {\n              return true;\n            }\n          } else {\n            return false;\n          }\n        };\n\n        const dataReducerFunction = (\n          chunk,\n          filterExactName,\n          filterGeneralName\n        ) => {\n          return chunk.reduce((acc, curr) => {\n            const exactName = curr[filterExactName];\n\n            if (filterArrIncluded(exactName, filterGeneralName)) {\n              acc.push(exactName);\n            }\n\n            return acc;\n          }, []);\n        };\n\n        const boroughLoadDataReducerFunction = (\n          chunk,\n          filterExactName\n        ) => {\n          return chunk.reduce((acc, curr) => {\n            const currentName = (x) => {\n              if (\n                x[filterExactName] === \"K\" &&\n                Number(x.Latitude) > 40.73912\n              ) {\n                return \"B\";\n              } else if (\n                x[filterExactName] === \"M\" &&\n                Number(x.Longitude) > -73.920961 &&\n                Number(x.Latitude) < 40.800709\n              ) {\n                return \"Q\";\n              } else if (\n                x[filterExactName] === \"B\" &&\n                Number(x.Latitude) < 40.697465\n              ) {\n                return \"K\";\n              } else if (\n                x[filterExactName] === \"Q\" &&\n                Number(x.Longitude) < -73.962745\n              ) {\n                return \"M\";\n              } else if (\n                x[filterExactName] === \"Q\" &&\n                Number(x.Longitude) < -73.878559 &&\n                Number(x.Latitude) > 40.787907\n              ) {\n                return \"B\";\n              } else {\n                return x[filterExactName];\n              }\n            };\n\n            const currentPushItem = currentName(curr);\n\n            if (filterArrIncluded(currentPushItem)) {\n              acc.push(currentPushItem);\n            }\n\n            return acc;\n          }, []);\n        };\n\n        const filteredDataChunksReducerFunction = (\n          filterExactName,\n          filterGeneralName\n        ) => {\n          const yearsArr = filteredDataChunks.map((x) => {\n            const date = x[5][filterExactName];\n\n            return Number(date.substring(date.length - 4, date.length));\n          });\n\n          const dateFilterArrIncluded = (item, index, generalName) => {\n            if (item !== filterExactName) {\n              if (currentFilters[generalName]) {\n                if (currentFilters[generalName].length > 0) {\n                  if (\n                    currentFilters[generalName].includes(\n                      yearsArr[index]\n                    )\n                  ) {\n                    return true;\n                  } else {\n                    return false;\n                  }\n                } else {\n                  return true;\n                }\n              } else {\n                return false;\n              }\n            } else {\n              return false;\n            }\n          };\n\n          return filteredDataChunks\n            .map((x, i) => [\n              ...new Set(\n                x.reduce((acc, curr) => {\n                  const exactName = curr[filterExactName];\n\n                  if (filterGeneralName === \"category\") {\n                    if (\n                      filterArrIncluded(\n                        exactName,\n                        filterExactName,\n                        filterGeneralName\n                      )\n                    ) {\n                      acc.push(exactName);\n                    }\n                  } else {\n                    if (\n                      dateFilterArrIncluded(\n                        exactName,\n                        i,\n                        filterGeneralName\n                      )\n                    ) {\n                      acc.push(exactName);\n                    }\n                  }\n\n                  return acc;\n                }, [])\n              ),\n            ])\n            .flat();\n        };\n\n        postMessage(\n          JSON.stringify({\n            ageGroup: dataReducerFunction(loadData, \"AGE_GROUP\"),\n            raceArr: dataReducerFunction(loadData, \"PERP_RACE\"),\n            boroughArr: boroughLoadDataReducerFunction(\n              loadData,\n              \"ARREST_BORO\"\n            ),\n            offenseDescriptionArr: dataReducerFunction(\n              loadData,\n              \"OFNS_DESC\"\n            ),\n            filteredArrestCategory: dataReducerFunction(\n              filteredData,\n              \"LAW_CAT_CD\",\n              \"category\"\n            ),\n            filteredAgeGroup: dataReducerFunction(\n              filteredData,\n              \"AGE_GROUP\",\n              \"age\"\n            ),\n            filteredSexArr: dataReducerFunction(\n              filteredData,\n              \"PERP_SEX\",\n              \"sex\"\n            ),\n            filteredRaceArr: dataReducerFunction(\n              filteredData,\n              \"PERP_RACE\",\n              \"race\"\n            ),\n            filteredBoroughArr: boroughLoadDataReducerFunction(\n              filteredData,\n              \"ARREST_BORO\",\n              \"borough\"\n            ),\n            filteredOffenseDescriptionArr: dataReducerFunction(\n              filteredData,\n              \"OFNS_DESC\",\n              \"offense\"\n            ),\n            filteredUniqueCategory: filteredDataChunksReducerFunction(\n              \"LAW_CAT_CD\",\n              \"category\"\n            ),\n          })\n        );\n      };`;\n\n      // Creates inline web worker from anonymous function\n      const blobURL = URL.createObjectURL(\n        new Blob([response], { type: \"application/javascript\" })\n      );\n\n      const mapFilterWorker = new Worker(blobURL);\n\n      changeMapFilterWorkerInstance(mapFilterWorker);\n    }\n  }, [mapFilterWorkerInstance]);\n\n  useEffect(() => {\n    if (!timelineWorkerInstance) {\n      const response = `self.onmessage = (e) => {\n        const dataSent = e.data;\n\n        const chunk = dataSent.chunk;\n\n        const filteredDataChunksReducerFunction = (\n          filterGeneralName,\n          filterExactName\n        ) => {\n          return chunk.map((item) =>\n            item.reduce((acc, curr) => {\n              const formatName = (x) => {\n                return {\n                  date: x[\"ARREST_DATE\"],\n                  [filterGeneralName]:\n                    filterGeneralName === \"category\"\n                      ? x[filterExactName] === \"F\"\n                        ? \"Felony\"\n                        : x[filterExactName] === \"M\"\n                        ? \"Misdemeanor\"\n                        : \"Violation\"\n                      : filterGeneralName === \"sex\"\n                      ? x[filterExactName] === \"F\"\n                        ? \"Female\"\n                        : \"Male\"\n                      : x[filterExactName],\n                };\n              };\n\n              const notNameMatchFilter = (x) =>\n                x.date !== \"ARREST_DATE\" &&\n                x[filterGeneralName] !== filterExactName;\n\n              const newPushItem = formatName(curr);\n\n              if (notNameMatchFilter(newPushItem)) {\n                acc.push(newPushItem);\n              }\n\n              return acc;\n            }, [])\n          );\n        };\n\n        postMessage(\n          JSON.stringify({\n            age_group: filteredDataChunksReducerFunction(\n              \"age_group\",\n              \"AGE_GROUP\"\n            ),\n            borough: filteredDataChunksReducerFunction(\n              \"borough\",\n              \"ARREST_BORO\"\n            ),\n            category: filteredDataChunksReducerFunction(\n              \"category\",\n              \"LAW_CAT_CD\"\n            ),\n            sex: filteredDataChunksReducerFunction(\"sex\", \"PERP_SEX\"),\n            race: filteredDataChunksReducerFunction(\n              \"race\",\n              \"PERP_RACE\"\n            ),\n          })\n        );\n      }`;\n\n      // Creates inline web worker from anonymous function\n      const blobURL = URL.createObjectURL(\n        new Blob([response], { type: \"application/javascript\" })\n      );\n\n      const timelineWorker = new Worker(blobURL);\n\n      changeTimelineWorkerInstance(timelineWorker);\n    }\n  }, [timelineWorkerInstance]);\n\n  useEffect(() => {\n    if (!setFilterAndTimelineGraphWorkersInstance) {\n      const worker = new setFilterAndTimelineGraphWorkers();\n\n      changeSetFilterAndTimelineGraphWorkersInstance(worker);\n    }\n  }, [setFilterAndTimelineGraphWorkersInstance]);\n\n  useEffect(() => {\n    if (!filterWorkerInstance) {\n      const response = `self.onmessage = (e) => {\n        const hasNumber = (input) => {\n          return /[0-9]/.test(input); \n        };\n\n        const dataSent = e.data;\n\n        const ageGroup = dataSent.ageGroup;\n        const raceArr = dataSent.raceArr;\n        const boroughArr = dataSent.boroughArr;\n        const offenseDescriptionArr = dataSent.offenseDescriptionArr;\n        const filteredAgeGroup = dataSent.filteredAgeGroup;\n        const filteredSexArr = dataSent.filteredSexArr;\n        const filteredRaceArr = dataSent.filteredRaceArr;\n        const filteredBoroughArr = dataSent.filteredBoroughArr;\n        const filteredOffenseDescriptionArr =\n          dataSent.filteredOffenseDescriptionArr;\n\n        const uniqueValuesReducerFunction = (\n          arrName,\n          categoryName,\n          arr\n        ) =>\n          arr\n            ? [...new Set(arr)]\n                .filter((x) => x !== categoryName)\n                .sort((a, b) => {\n                  if (\n                    arrName === \"filteredAgeGroupData\" ||\n                    arrName === \"ageGroupData\"\n                  ) {\n                    const first = hasNumber(a)\n                      ? Number(\n                          a.split(a[0] === \"<\" ? \"<\" : \"-\")[\n                            a[0] === \"<\" ? 1 : 0\n                          ]\n                        )\n                      : null;\n                    const second = hasNumber(b)\n                      ? Number(\n                          b.split(b[0] === \"<\" ? \"<\" : \"-\")[\n                            b[0] === \"<\" ? 1 : 0\n                          ]\n                        )\n                      : null;\n\n                    return first - second;\n                  } else {\n                    // Sort in increasing order\n                    return a - b;\n                  }\n                })\n            : [];\n\n        postMessage(\n          JSON.stringify({\n            ageGroupData: uniqueValuesReducerFunction(\n              \"ageGroupData\",\n              \"AGE_GROUP\",\n              ageGroup\n            ),\n            raceUniqueValues: uniqueValuesReducerFunction(\n              \"raceUniqueValues\",\n              \"PERP_RACE\",\n              raceArr\n            ),\n            boroughUniqueValues: uniqueValuesReducerFunction(\n              \"boroughUniqueValues\",\n              \"ARREST_BORO\",\n              boroughArr\n            ),\n            offenseDescriptionArr: uniqueValuesReducerFunction(\n              \"offenseDescriptionArr\",\n              \"OFNS_DESC\",\n              offenseDescriptionArr\n            ),\n            filteredAgeGroupData: uniqueValuesReducerFunction(\n              \"filteredAgeGroupData\",\n              \"AGE_GROUP\",\n              filteredAgeGroup\n            ),\n            filteredSexUniqueValues: uniqueValuesReducerFunction(\n              \"filteredSexUniqueValues\",\n              \"PERP_SEX\",\n              filteredSexArr\n            ),\n            filteredRaceUniqueValues: uniqueValuesReducerFunction(\n              \"filteredRaceUniqueValues\",\n              \"PERP_RACE\",\n              filteredRaceArr\n            ),\n            filteredBoroughUniqueValues: uniqueValuesReducerFunction(\n              \"filteredBoroughUniqueValues\",\n              \"ARREST_BORO\",\n              filteredBoroughArr\n            ),\n            filteredOffenseDescriptionUniqueValues: uniqueValuesReducerFunction(\n              \"filteredOffenseDescriptionUniqueValues\",\n              \"OFNS_DESC\",\n              filteredOffenseDescriptionArr\n            ),\n          })\n        );\n      };`;\n\n      // Creates inline web worker from anonymous function\n      const blobURL = URL.createObjectURL(\n        new Blob([response], { type: \"application/javascript\" })\n      );\n\n      const filterWorker = new Worker(blobURL);\n\n      changeFilterWorkerInstance(filterWorker);\n    }\n  }, [filterWorkerInstance]);\n\n  useEffect(() => {\n    if (!workerInstance) {\n      // Creates inline web worker from anonymous function\n      const blobURL = URL.createObjectURL(\n        new Blob(\n          [\n            \"(\",\n\n            (() => {\n              // Creates new websocket instance\n              let ws = \"\";\n\n              if (process.env.NODE_ENV === \"production\") {\n                const host = \"wss://nypd-arrest-map.herokuapp.com\";\n\n                ws = new WebSocket(host);\n              } else {\n                ws = new WebSocket(\"ws://localhost:4000\");\n              }\n\n              onmessage = (e) => {\n                const year = e.data;\n\n                if (ws.readyState === 1) {\n                  // Receive from main thread and send to websocket\n                  ws.send(year);\n                }\n\n                ws.onopen = () => {\n                  // Send one byte to websocket every 55 seconds to keep socket from closing itself on idle\n                  setInterval(() => {\n                    ws.send(\".\");\n                  }, 55000);\n\n                  // Receive from main thread and send to websocket\n                  ws.send(year);\n                };\n\n                // Send from websocket to main thread\n                ws.onmessage = ({ data }) => {\n                  // Faster to JSON.stringify() then postMessage() a string than to postMessage() an object.\n                  if (data) {\n                    postMessage(JSON.stringify({ year: year, data: data }));\n                  }\n                };\n              };\n            }).toString(),\n\n            \")()\",\n          ],\n          { type: \"application/javascript\" }\n        )\n      );\n\n      const socketWorker = new Worker(blobURL);\n\n      changeWorkerInstance(socketWorker);\n    }\n  }, [workerInstance]);\n\n  useEffect(() => {\n    if (workerInstance) {\n      if (!loadedYears.includes(2020)) {\n        if (loadingYears.length === 0) {\n          if (isMobileOrTablet) {\n            if (isPortrait) {\n              changeLoadingYears([2020]);\n              dataFetch(2020, filteredDataChunks.length);\n            }\n          } else {\n            changeLoadingYears([2020]);\n            dataFetch(2020, filteredDataChunks.length);\n          }\n        }\n      } else {\n        if (loadingYears.length > 0 && !loadDataChunks[0][loadingYears[0]]) {\n          dataFetch(loadingYears[0], filteredDataChunks.length);\n          changeLoadingYears([]);\n        }\n      }\n    }\n  }, [\n    workerInstance,\n    dataFetch,\n    loadedYears,\n    loadingYears,\n    loadDataChunks,\n    filteredDataChunks.length,\n    isPortrait,\n    isMobileOrTablet,\n  ]);\n\n  useEffect(() => {\n    if (totalCount > 90000) {\n      if (\n        ageTimelineColumns &&\n        boroughTimelineColumns &&\n        categoryTimelineColumns &&\n        raceTimelineColumns &&\n        sexTimelineColumns\n      ) {\n        if (ageTimelineColumns.length > 0) {\n          if (boroughTimelineColumns.length > 0) {\n            if (categoryTimelineColumns.length > 0) {\n              if (raceTimelineColumns.length > 0) {\n                if (sexTimelineColumns.length > 0) {\n                  if (!mapVisible) {\n                    changeMapVisible(true);\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }, [\n    totalCount,\n    mapVisible,\n    ageTimelineColumns,\n    boroughTimelineColumns,\n    categoryTimelineColumns,\n    raceTimelineColumns,\n    sexTimelineColumns,\n  ]);\n\n  return (\n    <div>\n      <div\n        className=\"mobile_landscape_block\"\n        style={{\n          display: isMobileOrTablet ? (isPortrait ? \"none\" : \"flex\") : \"none\",\n        }}\n      >\n        <FcRotateToLandscape />\n        <p>\n          NYPD Arrest Map is available only for desktop mode or mobile portrait\n          mode.\n        </p>\n      </div>\n      {layersRef.current.length === 0 ||\n      (ageTimelineColumns ? ageTimelineColumns.length === 0 : true) ||\n      (boroughTimelineColumns ? boroughTimelineColumns.length === 0 : true) ||\n      (categoryTimelineColumns ? categoryTimelineColumns.length === 0 : true) ||\n      (raceTimelineColumns ? raceTimelineColumns.length === 0 : true) ||\n      (sexTimelineColumns ? sexTimelineColumns.length === 0 : true) ? (\n        <InitialLoader\n          countUp={countUp}\n          loaderColor={loaderColor}\n          mapError={mapError}\n          applyingFiltersProgressRef={applyingFiltersProgressRef}\n        />\n      ) : null}\n      {modalActive.active && modalActive.year ? (\n        <SubsequentLoader\n          modalActive={modalActive}\n          changeModalActive={changeModalActive}\n          loadedYears={loadedYears}\n        />\n      ) : null}\n      <Div100vh\n        className=\"nypd_arrest_map_container\"\n        style={{\n          opacity:\n            layersRef.current.length === 0 ||\n            (ageTimelineColumns ? ageTimelineColumns.length === 0 : true) ||\n            (boroughTimelineColumns\n              ? boroughTimelineColumns.length === 0\n              : true) ||\n            (categoryTimelineColumns\n              ? categoryTimelineColumns.length === 0\n              : true) ||\n            (raceTimelineColumns ? raceTimelineColumns.length === 0 : true) ||\n            (sexTimelineColumns ? sexTimelineColumns.length === 0 : true)\n              ? 0\n              : 1,\n        }}\n      >\n        <NavigationBar\n          loadData={loadData}\n          raceUniqueValues={raceUniqueValues}\n          boroughUniqueValues={boroughUniqueValues}\n          offenseDescriptionUniqueValues={offenseDescriptionUniqueValues}\n          ageGroupData={ageGroupData}\n          setFilters={setFilters}\n          loadedYears={loadedYears}\n          changeLaddaLoading={changeLaddaLoading}\n          laddaLoading={laddaLoading}\n          handleDownloadYear={handleDownloadYear}\n          menuClicked={menuClicked}\n          changeMenuClicked={changeMenuClicked}\n          collapseOpen={collapseOpen}\n          changeCollapseOpen={changeCollapseOpen}\n          layersRef={layersRef}\n          footerMenuActive={footerMenuActive}\n          isMobileOrTablet={isMobileOrTablet}\n          isTablet={isTablet}\n        />\n        <DeckGL\n          initialViewState={{\n            longitude: -73.935242,\n            latitude: 40.73061,\n            zoom: window.innerWidth < 1200 ? 9 : 11,\n            minZoom: 9,\n            pitch: 0,\n            bearing: 0,\n          }}\n          ref={deckGLRef}\n          layers={layersRef.current}\n          pickingRadius={10}\n          controller={true}\n          onLoad={() => changeMapLoaded(true)}\n          onError={() => changeMapError(true)}\n          onHover={({ object, x, y }) => showTooltip(object, x, y)}\n          useDevicePixels={false}\n        >\n          <StaticMap\n            mapStyle=\"mapbox://styles/mapbox/dark-v9\"\n            preventStyleDiffing={true}\n            mapboxApiAccessToken={token}\n          />\n        </DeckGL>\n        {mapLoaded ? (\n          <>\n            <ApplyingFiltersPopUp\n              applyingFiltersProgressRef={applyingFiltersProgressRef}\n            />\n            <BottomInfoPanel\n              isSame={isSame}\n              mapVisible={mapVisible}\n              loadData={loadData}\n              tooltipVisible={tooltipVisible}\n              filteredArrestCategory={filteredArrestCategory}\n              filteredAgeGroupData={filteredAgeGroupData}\n              filteredRaceUniqueValues={filteredRaceUniqueValues}\n              filteredSexUniqueValues={filteredSexUniqueValues}\n              filteredBoroughUniqueValues={filteredBoroughUniqueValues}\n              filteredOffenseDescriptionUniqueValues={\n                filteredOffenseDescriptionUniqueValues\n              }\n              filteredUniqueCategory={filteredUniqueCategory}\n              filteredAgeGroup={filteredAgeGroup}\n              filteredRaceArr={filteredRaceArr}\n              filteredSexArr={filteredSexArr}\n              filteredBoroughArr={filteredBoroughArr}\n              filteredOffenseDescriptionArr={filteredOffenseDescriptionArr}\n              loadedYears={loadedYears}\n              usePrevious={usePrevious}\n              currentFilters={currentFilters}\n              filteredTimelineAgeGroupData={filteredTimelineAgeGroupData}\n              filteredTimelineBoroughData={filteredTimelineBoroughData}\n              filteredTimelineCategoryData={filteredTimelineCategoryData}\n              filteredTimelineSexData={filteredTimelineSexData}\n              filteredTimelineRaceData={filteredTimelineRaceData}\n              graphOption={graphOption}\n              changeGraphOption={changeGraphOption}\n              layersRef={layersRef}\n              footerMenuActive={footerMenuActive}\n              changeFooterMenuActive={changeFooterMenuActive}\n              isMobileOrTablet={isMobileOrTablet}\n              isMediumLaptop={isMediumLaptop}\n            />\n          </>\n        ) : null}\n      </Div100vh>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { wrapStore } from \"redux-in-worker\";\nimport storeWorker from \"worker-loader!./store.worker.js\"; // eslint-disable-line import/no-webpack-loader-syntax\n\nrequire(\"dotenv\").config();\n\nconst initialState = {\n  loadDataChunksReducer: { data: [{}] },\n  loadDataReducer: { data: [] },\n  filteredDataReducer: {\n    data: [],\n    changed: false,\n  },\n  filteredDataChunksReducer: {\n    data: [],\n  },\n  newYearFinishedLoadingReducer: { finished: false },\n  ageFilterReducer: {\n    age: [],\n  },\n  boroughFilterReducer: { borough: [] },\n  categoryFilterReducer: { category: [] },\n  offenseFilterReducer: { offense: [] },\n  raceFilterReducer: { race: [] },\n  sexFilterReducer: { sex: [] },\n  yearFilterReducer: { year: [] },\n  ageTimelineColumnsReducer: { columns: [] },\n  boroughTimelineColumnsReducer: { columns: [] },\n  categoryTimelineColumnsReducer: { columns: [] },\n  raceTimelineColumnsReducer: { columns: [] },\n  sexTimelineColumnsReducer: { columns: [] },\n  ageGroupTimelineGraphDataReducer: { data: [] },\n  boroughTimelineGraphDataReducer: { data: [] },\n  categoryTimelineGraphDataReducer: { data: [] },\n  genderTimelineGraphDataReducer: { data: [] },\n  raceTimelineGraphDataReducer: { data: [] },\n  totalCountReducer: { total: 0 },\n  applyingFiltersReducer: { filters: false },\n  trendsAvailableReducer: { available: false },\n};\n\nconst store = wrapStore(new storeWorker(), initialState);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","export default function() {\n  return new Worker(__webpack_public_path__ + \"static/js/store.worker.134e029a.worker.js\");\n}\n"],"sourceRoot":""}