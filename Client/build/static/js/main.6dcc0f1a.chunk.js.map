{"version":3,"sources":["inobounce.js","NavigationBar/InfoPopUp/InfoPopUp.js","NavigationBar/NavigationBar.js","BottomInfoPanel/CarouselItems/Category/Category.js","BottomInfoPanel/CarouselItems/AgeGroup/AgeGroup.js","BottomInfoPanel/CarouselItems/Race/Race.js","BottomInfoPanel/CarouselItems/Gender/Gender.js","BottomInfoPanel/CarouselItems/Borough/Borough.js","BottomInfoPanel/CarouselItems/TopOffenses/TopOffenses.js","BottomInfoPanel/CarouselItems/AgeGroup/AgeGroupTimeline.js","BottomInfoPanel/CarouselItems/Borough/BoroughTimeline.js","BottomInfoPanel/CarouselItems/Category/CategoryTimeline.js","BottomInfoPanel/CarouselItems/Gender/GenderTimeline.js","BottomInfoPanel/CarouselItems/Race/RaceTimeline.js","BottomInfoPanel/BottomInfoPanel.js","YearlyTotals.js","App.js","index.js"],"names":["global","startY","enabled","supportsPassiveOption","opts","Object","defineProperty","get","window","addEventListener","e","handleTouchmove","evt","el","target","zoom","innerWidth","document","documentElement","clientWidth","touches","length","body","style","getComputedStyle","nodeName","getAttribute","scrolling","getPropertyValue","overflowY","height","parseInt","isScrollable","canScroll","scrollHeight","offsetHeight","curY","screenY","isAtTop","scrollTop","isAtBottom","preventDefault","parentNode","handleTouchstart","enable","passive","testDiv","createElement","appendChild","WebkitOverflowScrolling","scrollSupport","removeChild","iNoBounce","disable","removeEventListener","isEnabled","module","exports","define","this","InfoPopUp","trigger","className","color","modal","close","onClick","href","rel","NavigationBar","props","loadData","raceUniqueValues","boroughUniqueValues","ageGroupData","offenseDescriptionUniqueValues","setFilters","initialScreenWidth","currentScreenWidth","pointClicked","changeLaddaLoading","laddaLoading","loadedYears","filteredData","handleDownloadYear","yearFilter","changeYearFilter","categoryFilter","changeCategoryFilter","offenseFilter","changeOffenseFilter","ageFilter","changeAgeFilter","raceFilter","changeRaceFilter","sexFilter","changeSexFilter","boroughFilter","changeBoroughFilter","logoContainerRef","useRef","burgerMenu","getElementsByClassName","mapboxAttribRef","useState","tooltipVisible","changeTooltipVisible","menuClicked","changeMenuClicked","collapseOpen","changeCollapseOpen","handleCategoryFilters","category","includes","filter","x","handleSexFilters","sex","useEffect","overviewTippy","getElementById","cssText","content","minWidth","current","maxWidth","sort","join","flat","toLocaleString","visible","allowHTML","reference","placement","ref","onClickOutside","right","customBurgerIcon","onOpen","onClose","isOpen","fill","onTriggerOpening","onTriggerClosing","open","newArr","i","Number","Date","getFullYear","push","renderYears","map","year","key","handleYearFilters","name","type","defaultChecked","desc","offense","split","toUpperCase","slice","toLowerCase","indexOf","age","handleAgeFilters","race","handleRaceFilters","borough","handleBoroughFilters","loading","data-color","data-size","XL","data-style","EXPAND_LEFT","data-spinner-size","data-spinner-color","data-spinner-lines","Category","filteredArrestCategory","graphOption","onDragStart","display","chartType","loader","size","data","options","backgroundColor","AgeGroup","filteredAgeGroupData","filteredAgeGroup","concat","item","Race","filteredRaceUniqueValues","filteredRaceArr","Gender","filteredSexUniqueValues","filteredSexArr","Borough","filteredBoroughUniqueValues","filteredBoroughArr","TopOffenses","filteredOffenseDescriptionArr","filteredOffenseDescriptionUniqueValues","sortedArr","a","b","bar","groupWidth","legend","position","width","chartArea","AgeGroupTimeline","filteredUniqueDates","filteredTimelineAgeGroupData","label","dayjs","isBefore","date","dateArr","age_group","BoroughTimeline","filteredTimelineBoroughData","CategoryTimeline","filteredTimelineCategoryData","filteredUniqueCategory","uniqueValues","categoryArr","GenderTimeline","filteredTimelineSexData","genderArr","RaceTimeline","filteredTimelineRaceData","raceArr","BottomInfoPanel","currentFilters","CarouselRef","changeGraphOption","zIndex","onChange","value","horizontal","rootColor","pointColor","slidePrev","autoPlayInterval","autoPlay","fadeOutAnimation","dotsDisabled","mouseTrackingEnabled","playButtonEnabled","disableAutoPlayOnAction","responsive","0","items","preservePosition","slideNext","yearlyTotals","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","ws","WebSocket","host","location","replace","extend","customParseFormat","App","mapLoaded","changeMapLoaded","loadedData","changeLoadedData","loaderColor","changeLoaderColor","mapError","changeMapError","layers","changeLayers","changeLoadedYears","loadingYears","changeLoadingYears","fetchProgress","changeFetchProgress","mapVisible","changeMapVisible","changeCurrentFilters","changeCurrentScreenWidth","layersRef","loadDataChunks","filteredDataChunks","toastId","useLayoutEffect","updateSize","override","css","index","self","hasNumber","input","test","ageGroup","AGE_GROUP","PERP_RACE","boroughArr","ARREST_BORO","Latitude","Longitude","offenseDescriptionArr","OFNS_DESC","LAW_CAT_CD","PERP_SEX","ARREST_DATE","colorChangeInterval","setInterval","clearInterval","renderLayers","useCallback","arr1","arr2","yearsFiltered","format","chunk","chunkIndex","yearOfChunk","ScatterplotLayer","id","filled","radiusMinPixels","getPosition","d","getFillColor","pickable","parameters","depthTest","every","onNewDataArrive","chunkYear","assign","loadedDataArr","keys","keyName","flattenedArray","currentValue","j","currentRef","selectedYear","toString","progressInterval","refProgress","reduce","toFixed","toast","update","progress","render","TYPE","SUCCESS","autoClose","closeButton","dismissTimer","setTimeout","dismiss","clearTimeout","info","hideProgressBar","dataFetch","send","onmessage","compressed_data","LZString","decompressFromEncodedURIComponent","JSON","parse","onopen","event","console","log","showTooltip","object","y","PD_DESC","innerHTML","background","fontSize","overflowWrap","lineHeight","opacity","left","top","mapVisibleDelay","transition","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","newYears","initialViewState","longitude","latitude","minZoom","pitch","bearing","controller","onHover","pickingRadius","onLoad","onError","mapStyle","mapboxApiAccessToken","process","require","config","ReactDOM"],"mappings":"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","file":"static/js/main.6dcc0f1a.chunk.js","sourcesContent":["/*! iNoBounce - v0.1.6\n * https://github.com/lazd/iNoBounce/\n * Copyright (c) 2013 Larry Davis <lazdnet@gmail.com>; Licensed BSD */\n(function (global) {\n  // Stores the Y position where the touch started\n  var startY = 0;\n\n  // Store enabled status\n  var enabled = false;\n\n  var supportsPassiveOption = false;\n  try {\n    var opts = Object.defineProperty({}, \"passive\", {\n      get: function () {\n        return (supportsPassiveOption = true);\n      },\n    });\n    window.addEventListener(\"test\", null, opts);\n  } catch (e) {}\n\n  var handleTouchmove = function (evt) {\n    // Get the element that was scrolled upon\n    var el = evt.target;\n\n    // Allow zooming\n    var zoom = window.innerWidth / window.document.documentElement.clientWidth;\n    if (evt.touches.length > 1 || zoom !== 1) {\n      return;\n    }\n\n    // Check all parent elements for scrollability\n    while (el !== document.body && el !== document) {\n      // Get some style properties\n      var style = window.getComputedStyle(el);\n\n      if (!style) {\n        // If we've encountered an element we can't compute the style for, get out\n        break;\n      }\n\n      // Ignore range input element\n      if (el.nodeName === \"INPUT\" && el.getAttribute(\"type\") === \"range\") {\n        return;\n      }\n\n      var scrolling = style.getPropertyValue(\"-webkit-overflow-scrolling\");\n      var overflowY = style.getPropertyValue(\"overflow-y\");\n      var height = parseInt(style.getPropertyValue(\"height\"), 10);\n\n      // Determine if the element should scroll\n      var isScrollable =\n        scrolling === \"touch\" &&\n        (overflowY === \"auto\" || overflowY === \"scroll\");\n      var canScroll = el.scrollHeight > el.offsetHeight;\n\n      if (isScrollable && canScroll) {\n        // Get the current Y position of the touch\n        var curY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n\n        // Determine if the user is trying to scroll past the top or bottom\n        // In this case, the window will bounce, so we have to prevent scrolling completely\n        var isAtTop = startY <= curY && el.scrollTop === 0;\n        var isAtBottom =\n          startY >= curY && el.scrollHeight - el.scrollTop === height;\n\n        // Stop a bounce bug when at the bottom or top of the scrollable element\n        if (isAtTop || isAtBottom) {\n          evt.preventDefault();\n        }\n\n        // No need to continue up the DOM, we've done our job\n        return;\n      }\n\n      // Test the next parent\n      el = el.parentNode;\n    }\n\n    // Stop the bouncing -- no parents are scrollable\n    evt.preventDefault();\n  };\n\n  var handleTouchstart = function (evt) {\n    // Store the first Y position of the touch\n    startY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n  };\n\n  var enable = function () {\n    // Listen to a couple key touch events\n    window.addEventListener(\n      \"touchstart\",\n      handleTouchstart,\n      supportsPassiveOption ? { passive: false } : false\n    );\n    window.addEventListener(\n      \"touchmove\",\n      handleTouchmove,\n      supportsPassiveOption ? { passive: false } : false\n    );\n    enabled = true;\n  };\n\n  var disable = function () {\n    // Stop listening\n    window.removeEventListener(\"touchstart\", handleTouchstart, false);\n    window.removeEventListener(\"touchmove\", handleTouchmove, false);\n    enabled = false;\n  };\n\n  var isEnabled = function () {\n    return enabled;\n  };\n\n  // Enable by default if the browser supports -webkit-overflow-scrolling\n  // Test this by setting the property with JavaScript on an element that exists in the DOM\n  // Then, see if the property is reflected in the computed style\n  var testDiv = document.createElement(\"div\");\n  document.documentElement.appendChild(testDiv);\n  testDiv.style.WebkitOverflowScrolling = \"touch\";\n  var scrollSupport =\n    \"getComputedStyle\" in window &&\n    window.getComputedStyle(testDiv)[\"-webkit-overflow-scrolling\"] === \"touch\";\n  document.documentElement.removeChild(testDiv);\n\n  if (scrollSupport) {\n    enable();\n  }\n\n  // A module to support enabling/disabling iNoBounce\n  var iNoBounce = {\n    enable: enable,\n    disable: disable,\n    isEnabled: isEnabled,\n  };\n\n  if (typeof module !== \"undefined\" && module.exports) {\n    // Node.js Support\n    module.exports = iNoBounce;\n  }\n  if (typeof global.define === \"function\") {\n    // AMD Support\n    (function (define) {\n      define(\"iNoBounce\", [], function () {\n        return iNoBounce;\n      });\n    })(global.define);\n  } else {\n    // Browser support\n    global.iNoBounce = iNoBounce;\n  }\n})(this);\n","import React from \"react\";\nimport { BsInfoCircle } from \"react-icons/bs\";\nimport { SiGithub, SiLinkedin } from \"react-icons/si\";\nimport Popup from \"reactjs-popup\";\nimport \"./info_pop_up.css\";\nimport \"reactjs-popup/dist/index.css\";\n\nconst InfoPopUp = () => {\n  return (\n    <Popup\n      trigger={\n        <div className=\"info_circle_container\">\n          <BsInfoCircle color=\"rgb(255, 255, 255)\" className=\"info_button\" />\n        </div>\n      }\n      modal\n    >\n      {(close) => (\n        <div className=\"modal\">\n          <button className=\"close\" onClick={close}>\n            &times;\n          </button>\n          <div className=\"header\">About NYPD Arrest Map</div>\n          <div className=\"content\">\n            NYPD Arrest Map is a data visualization and analysis tool that\n            utilizes the{\" \"}\n            <a\n              href=\"https://data.cityofnewyork.us/Public-Safety/NYPD-Arrest-Data-Year-to-Date-/uip8-fykc\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              NYPD Arrest Data (Year to Date)\n            </a>{\" \"}\n            and{\" \"}\n            <a\n              href=\"https://data.cityofnewyork.us/Public-Safety/NYPD-Arrests-Data-Historic-/8h9b-rp9u\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              NYPD Arrests Data (Historic)\n            </a>{\" \"}\n            NYC Open Data datasets. These datasets are updated quarterly and\n            reviewed by the Office of Management Analysis and Planning before\n            being posted on the New York Police Department website. The data\n            reflected here will be updated shortly after such changes.\n            <br />\n            <br />\n            Occasionally, arrests in the NYPD datasets will be erroneously\n            attributed to one borough, while having the longitude and latitude\n            of another. These have been corrected in the NYPD Arrest Map in\n            favor of the arrest's geocoordinates.\n            <br />\n            <br />\n            As stated by the NYPD, \"each record represents an arrest effected in\n            NYC by the NYPD and includes information about the type of crime,\n            the location and time of enforcement. In addition, information\n            related to suspect demographics is also included. This data can be\n            used by the public to explore the nature of police enforcement\n            activity.\"\n            <br />\n            <br />\n            <p>\n              Have any questions? Comments? Contact me via GitHub or LinkedIn\n            </p>\n            <div className=\"pop_up_icons_container\">\n              <a\n                href=\"https://github.com/amamenko/nypd-arrest-map-full-stack\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <SiGithub color=\"#000\" />\n              </a>\n              <a\n                href=\"https://www.linkedin.com/in/avraham-mamenko-0599831b8/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <SiLinkedin color=\"#000\" />\n              </a>\n            </div>\n          </div>\n        </div>\n      )}\n    </Popup>\n  );\n};\n\nexport default InfoPopUp;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { slide as Menu } from \"react-burger-menu\";\nimport { BsFilterRight } from \"react-icons/bs\";\nimport { FaCircle, FaCloudDownloadAlt, FaPlus } from \"react-icons/fa\";\nimport Collapsible from \"react-collapsible\";\nimport Tippy from \"@tippyjs/react\";\nimport LaddaButton, { XL, EXPAND_LEFT } from \"react-ladda\";\nimport \"tippy.js/dist/tippy.css\";\nimport \"./NavigationBar.css\";\nimport \"./burgermenu.css\";\nimport InfoPopUp from \"./InfoPopUp/InfoPopUp\";\n\nconst NavigationBar = (props) => {\n  const {\n    loadData,\n    raceUniqueValues,\n    boroughUniqueValues,\n    ageGroupData,\n    offenseDescriptionUniqueValues,\n    setFilters,\n    initialScreenWidth,\n    currentScreenWidth,\n    pointClicked,\n    changeLaddaLoading,\n    laddaLoading,\n    loadedYears,\n    filteredData,\n    handleDownloadYear,\n    yearFilter,\n    changeYearFilter,\n    categoryFilter,\n    changeCategoryFilter,\n    offenseFilter,\n    changeOffenseFilter,\n    ageFilter,\n    changeAgeFilter,\n    raceFilter,\n    changeRaceFilter,\n    sexFilter,\n    changeSexFilter,\n    boroughFilter,\n    changeBoroughFilter,\n  } = props;\n\n  const logoContainerRef = useRef(null);\n\n  const burgerMenu = document.getElementsByClassName(\"bm-burger-button\");\n  const mapboxAttribRef = document.getElementsByClassName(\n    \"mapboxgl-ctrl-bottom-left\"\n  );\n  const [tooltipVisible, changeTooltipVisible] = useState(true);\n  const [menuClicked, changeMenuClicked] = useState(false);\n  const [collapseOpen, changeCollapseOpen] = useState(\"\");\n\n  const filterByYear = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Year</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByCategory = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Category</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByOffense = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Offense</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByAge = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Age Group</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByRace = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Race</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterBySex = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Sex</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByBorough = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Borough</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const handleBurgerMenuClick = () => {\n    if (menuClicked) {\n      changeMenuClicked(false);\n    } else {\n      changeMenuClicked(true);\n      changeTooltipVisible(false);\n    }\n  };\n\n  const renderYears = () => {\n    const newArr = [];\n\n    for (let i = 2006; i < Number(new Date().getFullYear() + 1); i++) {\n      newArr.push(i);\n    }\n\n    return newArr;\n  };\n\n  const handleYearFilters = (year) => {\n    if (yearFilter.includes(year)) {\n      changeYearFilter(yearFilter.filter((x) => x !== year));\n    } else {\n      changeYearFilter([...yearFilter, year]);\n    }\n  };\n\n  const handleCategoryFilters = (category) => {\n    if (categoryFilter.includes(category)) {\n      changeCategoryFilter(categoryFilter.filter((x) => x !== category));\n    } else {\n      changeCategoryFilter([...categoryFilter, category]);\n    }\n  };\n\n  const handleOffenseFilters = (offense) => {\n    if (offenseFilter.includes(offense)) {\n      changeOffenseFilter(offenseFilter.filter((x) => x !== offense));\n    } else {\n      changeOffenseFilter([...offenseFilter, offense]);\n    }\n  };\n\n  const handleAgeFilters = (age) => {\n    if (ageFilter.includes(age)) {\n      changeAgeFilter(ageFilter.filter((x) => x !== age));\n    } else {\n      changeAgeFilter([...ageFilter, age]);\n    }\n  };\n\n  const handleRaceFilters = (race) => {\n    if (raceFilter.includes(race)) {\n      changeRaceFilter(raceFilter.filter((x) => x !== race));\n    } else {\n      changeRaceFilter([...raceFilter, race]);\n    }\n  };\n\n  const handleSexFilters = (sex) => {\n    if (sexFilter.includes(sex)) {\n      changeSexFilter(sexFilter.filter((x) => x !== sex));\n    } else {\n      changeSexFilter([...sexFilter, sex]);\n    }\n  };\n\n  const handleBoroughFilters = (borough) => {\n    if (boroughFilter.includes(borough)) {\n      changeBoroughFilter(boroughFilter.filter((x) => x !== borough));\n    } else {\n      changeBoroughFilter([...boroughFilter, borough]);\n    }\n  };\n\n  useEffect(() => {\n    const overviewTippy = document.getElementById(\"tippy-4\");\n\n    if (!currentScreenWidth) {\n      if (initialScreenWidth < 768) {\n        if (overviewTippy) {\n          if (pointClicked) {\n            overviewTippy.style.cssText = \"z-index: -1 !important;\";\n          } else {\n            overviewTippy.style.cssText = \"z-index: 0 !important;\";\n          }\n        }\n      }\n    } else {\n      if (currentScreenWidth < 768) {\n        if (overviewTippy) {\n          if (pointClicked) {\n            overviewTippy.style.cssText = \"z-index: -1 !important;\";\n          } else {\n            overviewTippy.style.cssText = \"z-index: 0 !important;\";\n          }\n        }\n      }\n    }\n  }, [pointClicked, currentScreenWidth, initialScreenWidth]);\n\n  return (\n    <div className=\"navigation_bar_container\">\n      <Tippy\n        content={\n          <div\n            className=\"overview_tooltip_content\"\n            style={{\n              minWidth:\n                logoContainerRef.current &&\n                logoContainerRef.current.clientWidth,\n              maxWidth:\n                logoContainerRef.current &&\n                logoContainerRef.current.clientWidth,\n            }}\n          >\n            <p style={{ color: \"rgb(166, 166, 166)\" }}>\n              Data Last Updated: July 22, 2020\n            </p>\n            <p>\n              Showing Arrest Data for{\" \"}\n              <strong>{loadedYears.sort().join(\", \")}</strong>\n            </p>\n            <p>\n              Total Number of Arrests Shown: <br />\n              <strong>\n                {filteredData.flat().length.toLocaleString()}\n              </strong> of <strong>{loadData.length.toLocaleString()}</strong>\n            </p>\n          </div>\n        }\n        visible={typeof loadData === \"object\" && loadData.flat().length > 70000}\n        allowHTML={true}\n        reference={\n          !currentScreenWidth\n            ? initialScreenWidth >= 767\n              ? logoContainerRef.current\n              : mapboxAttribRef[0]\n            : currentScreenWidth >= 767\n            ? logoContainerRef.current\n            : mapboxAttribRef[0]\n        }\n        className=\"overview_tooltip\"\n        placement=\"bottom-start\"\n      />\n      <Tippy\n        content={\n          <div\n            className=\"map_legend_container\"\n            style={{\n              minWidth:\n                logoContainerRef.current &&\n                logoContainerRef.current.clientWidth,\n              maxWidth:\n                logoContainerRef.current &&\n                logoContainerRef.current.clientWidth,\n            }}\n          >\n            <p>Map Legend</p>\n            <div className=\"map_legend_items_container\">\n              <div className=\"map_legend_element\">\n                <FaCircle color=\"rgb(255, 0, 0)\" />\n                <p>Felony</p>\n              </div>\n              <div className=\"map_legend_element\">\n                <FaCircle color=\"rgb(255, 116, 0)\" />\n                <p>Misdemeanor</p>\n              </div>\n              <div className=\"map_legend_element\">\n                <FaCircle color=\"rgb(255, 193, 0)\" />\n                <p>Violation</p>\n              </div>\n            </div>\n          </div>\n        }\n        visible={typeof loadData === \"object\" && loadData.flat().length > 70000}\n        allowHTML={true}\n        reference={mapboxAttribRef[0]}\n        className=\"overview_tooltip legend_tooltip\"\n        placement=\"top-start\"\n      />\n      <div className=\"nypd_arrest_map_logo_container\" ref={logoContainerRef}>\n        <a href=\"/\">\n          <p>NYPD</p>\n          <p>Arrest</p>\n          <p>Map</p>\n        </a>\n      </div>\n      <Tippy\n        content=\"Click here to set data filters\"\n        visible={\n          tooltipVisible &&\n          typeof loadData === \"object\" &&\n          loadData.flat().length > 70000\n        }\n        reference={burgerMenu[0]}\n        className=\"burger_tooltip\"\n        placement=\"bottom-end\"\n        onClickOutside={() => changeTooltipVisible(false)}\n      />\n      <InfoPopUp />\n      <Menu\n        right\n        className=\"navbar_nav_menu\"\n        customBurgerIcon={<BsFilterRight color=\"rgb(93, 188, 210)\" />}\n        onOpen={handleBurgerMenuClick}\n        onClose={() => changeMenuClicked(false)}\n        isOpen={menuClicked}\n      >\n        <Collapsible\n          trigger={filterByYear()}\n          onTriggerOpening={() => changeCollapseOpen(\"year\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"year\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {renderYears().map((year, i) => {\n              return (\n                <p\n                  key={i}\n                  style={{\n                    color: loadedYears.includes(year)\n                      ? \"#000\"\n                      : \"rgb(166, 166, 166)\",\n                  }}\n                  className={\n                    loadedYears.includes(year) ? null : \"unfetched_year_button\"\n                  }\n                  onClick={() => {\n                    if (loadedYears.includes(year)) {\n                      handleYearFilters(year);\n                    } else {\n                      handleDownloadYear(year);\n                      changeYearFilter([...yearFilter, year]);\n                    }\n                  }}\n                >\n                  <label>\n                    {loadedYears.includes(year) ? (\n                      <input\n                        name=\"my-checkbox\"\n                        type=\"checkbox\"\n                        defaultChecked={loadedYears.includes(year)}\n                      />\n                    ) : (\n                      <FaCloudDownloadAlt className=\"year_download_icon\" />\n                    )}\n                    {loadedYears.includes(year)\n                      ? year\n                      : `${year} (Click to load data)`}\n                  </label>\n                </p>\n              );\n            })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByCategory()}\n          onTriggerOpening={() => changeCollapseOpen(\"category\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"category\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  onClick={() => handleCategoryFilters(\"F\")}\n                />\n                Felony\n              </label>\n            </p>\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  onClick={() => handleCategoryFilters(\"M\")}\n                />\n                Misdemeanor\n              </label>\n            </p>\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  onClick={() => handleCategoryFilters(\"V\")}\n                />\n                Violation\n              </label>\n            </p>\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByOffense()}\n          onTriggerOpening={() => changeCollapseOpen(\"description\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"description\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {offenseDescriptionUniqueValues.map((desc, i) => {\n              if (\n                desc &&\n                !(desc.includes(\"OTHER STATE LAWS\") && desc.includes(\"(\"))\n              ) {\n                return (\n                  <p key={i}>\n                    <label>\n                      <input\n                        name=\"my-checkbox\"\n                        type=\"checkbox\"\n                        onClick={() => handleOffenseFilters(desc)}\n                      />\n                      {desc\n                        .split(\" \")\n                        .map(\n                          (x) => x[0].toUpperCase() + x.slice(1).toLowerCase()\n                        )\n                        .join(\" \")\n                        .split(\"/\")\n                        .map(\n                          (x) =>\n                            x[0].toUpperCase() +\n                            x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                            x.slice(x.indexOf(\" \"))\n                        )\n                        .join(\"/\")}\n                    </label>\n                  </p>\n                );\n              } else {\n                return null;\n              }\n            })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByAge()}\n          onTriggerOpening={() => changeCollapseOpen(\"age\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"age\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {ageGroupData.map((age, i) => {\n              return (\n                <p key={i}>\n                  <label>\n                    <input\n                      name=\"my-checkbox\"\n                      type=\"checkbox\"\n                      onClick={() => handleAgeFilters(age)}\n                    />\n                    {age === \"65\" ? \"65+\" : age}\n                  </label>\n                </p>\n              );\n            })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByRace()}\n          onTriggerOpening={() => changeCollapseOpen(\"race\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"race\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {raceUniqueValues.map((race, i) => {\n              if (race) {\n                return (\n                  <p key={i}>\n                    <label>\n                      <input\n                        name=\"my-checkbox\"\n                        type=\"checkbox\"\n                        onClick={() => handleRaceFilters(race)}\n                      />\n                      {race &&\n                        race\n                          .split(\" \")\n                          .map(\n                            (x) => x[0].toUpperCase() + x.slice(1).toLowerCase()\n                          )\n                          .join(\" \")\n                          .split(\"/\")\n                          .map(\n                            (x) =>\n                              x[0].toUpperCase() +\n                              x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                              x.slice(x.indexOf(\" \"))\n                          )\n                          .join(\"/\")}\n                    </label>\n                  </p>\n                );\n              } else {\n                return null;\n              }\n            })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterBySex()}\n          onTriggerOpening={() => changeCollapseOpen(\"sex\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"sex\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  onClick={() => handleSexFilters(\"F\")}\n                />\n                Female\n              </label>\n            </p>\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  onClick={() => handleSexFilters(\"M\")}\n                />\n                Male\n              </label>\n            </p>\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByBorough()}\n          onTriggerOpening={() => changeCollapseOpen(\"borough\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"borough\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {boroughUniqueValues.map((borough, i) => {\n              return (\n                <p key={i}>\n                  <label>\n                    <input\n                      name=\"my-checkbox\"\n                      type=\"checkbox\"\n                      onClick={() => handleBoroughFilters(borough)}\n                    />\n                    {borough === \"B\"\n                      ? \"Bronx\"\n                      : borough === \"Q\"\n                      ? \"Queens\"\n                      : borough === \"M\"\n                      ? \"Manhattan\"\n                      : borough === \"K\"\n                      ? \"Brooklyn\"\n                      : borough === \"S\"\n                      ? \"Staten Island\"\n                      : \"Unknown\"}\n                  </label>\n                </p>\n              );\n            })}\n          </div>\n        </Collapsible>\n        <span className=\"spacer\" />\n        <LaddaButton\n          loading={laddaLoading}\n          className=\"apply_filters_button\"\n          onClick={() => {\n            changeLaddaLoading(true);\n            setFilters(\n              yearFilter,\n              categoryFilter,\n              offenseFilter,\n              ageFilter,\n              raceFilter,\n              sexFilter,\n              boroughFilter\n            );\n          }}\n          data-color={\"blue\"}\n          data-size={XL}\n          data-style={EXPAND_LEFT}\n          data-spinner-size={30}\n          data-spinner-color={\"#fff\"}\n          data-spinner-lines={12}\n        >\n          {laddaLoading ? \"APPLYING FILTERS\" : \"APPLY FILTERS\"}\n        </LaddaButton>\n      </Menu>\n    </div>\n  );\n};\n\nexport default NavigationBar;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst Category = (props) => {\n  const { filteredArrestCategory, graphOption } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Category</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={[\n            [\"Category\", \"Number of Arrests\"],\n            [\"Felony\", filteredArrestCategory.filter((x) => x === \"F\").length],\n            [\n              \"Misdemeanor\",\n              filteredArrestCategory.filter((x) => x === \"M\").length,\n            ],\n            [\n              \"Violation\",\n              filteredArrestCategory.filter((x) => x !== \"F\" && x !== \"M\")\n                .length,\n            ],\n          ]}\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Category;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst AgeGroup = (props) => {\n  const { filteredAgeGroupData, filteredAgeGroup, graphOption } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Age Group</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[\"Age Group\", \"Number of Arrests\"]].concat(\n                filteredAgeGroupData.map((item) => [\n                  item === \"65\" ? \"65+\" : item,\n                  filteredAgeGroup.filter((x) => x === item).length,\n                ])\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default AgeGroup;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst Race = (props) => {\n  const { filteredRaceUniqueValues, filteredRaceArr, graphOption } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Race</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[\"Race\", \"Number of Arrests\"]].concat(\n                filteredRaceUniqueValues.map((item) => [\n                  item\n                    ? item\n                        .split(\" \")\n                        .map(\n                          (x) => x[0].toUpperCase() + x.slice(1).toLowerCase()\n                        )\n                        .join(\" \")\n                        .split(\"/\")\n                        .map(\n                          (x) =>\n                            x[0].toUpperCase() +\n                            x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                            x.slice(x.indexOf(\" \"))\n                        )\n                        .join(\"/\")\n                    : null,\n                  filteredRaceArr.filter((x) => x === item).length,\n                ])\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Race;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst Gender = (props) => {\n  const { filteredSexUniqueValues, filteredSexArr, graphOption } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Sex</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[\"Sex\", \"Number of Arrests\"]].concat(\n                filteredSexUniqueValues.map((item) => [\n                  item === \"M\" ? \"Male\" : \"Female\",\n                  filteredSexArr.filter((x) => x === item).length,\n                ])\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Gender;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst Borough = (props) => {\n  const {\n    filteredBoroughUniqueValues,\n    filteredBoroughArr,\n    graphOption,\n  } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Borough</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[\"Borough\", \"Number of Arrests\"]].concat(\n                filteredBoroughUniqueValues.map((item) => [\n                  item === \"B\"\n                    ? \"Bronx\"\n                    : item === \"Q\"\n                    ? \"Queens\"\n                    : item === \"M\"\n                    ? \"Manhattan\"\n                    : item === \"K\"\n                    ? \"Brooklyn\"\n                    : item === \"S\"\n                    ? \"Staten Island\"\n                    : \"Unknown\",\n                  filteredBoroughArr.filter((x) => x === item).length,\n                ])\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Borough;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst TopOffenses = (props) => {\n  const {\n    filteredOffenseDescriptionArr,\n    filteredOffenseDescriptionUniqueValues,\n    graphOption,\n  } = props;\n\n  const sortedArr =\n    filteredOffenseDescriptionArr.length > 0 &&\n    filteredOffenseDescriptionUniqueValues.length > 0\n      ? filteredOffenseDescriptionUniqueValues\n          .map((item) => [\n            item,\n            filteredOffenseDescriptionArr.filter((x) => x === item).length,\n          ])\n          .sort((a, b) => {\n            if (a[1] > b[1]) {\n              return 1;\n            } else {\n              return -1;\n            }\n          })\n      : null;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      {sortedArr ? (\n        <>\n          <p className=\"bottom_info_section_title\">Top 5 Offenses</p>\n          <div className=\"bottom_info_pie_container\">\n            <Chart\n              chartType=\"BarChart\"\n              loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n              data={\n                [\n                  [[\"Offense Description\", \"Number of Arrests\"]].concat(\n                    sortedArr\n                      ? sortedArr\n                          .slice(sortedArr.length - 5, sortedArr.length)\n                          .sort((a, b) => {\n                            if (a[1] > b[1]) {\n                              return -1;\n                            } else {\n                              return 1;\n                            }\n                          })\n                      : [\"UNKNOWN\", 1]\n                  ),\n                ][0]\n              }\n              options={{\n                backgroundColor: \"transparent\",\n                bar: { groupWidth: \"95%\" },\n                legend: { position: \"none\" },\n                width: 600,\n                chartArea: { width: \"50%\", height: \"50%\" },\n              }}\n            />\n          </div>\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nexport default TopOffenses;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport dayjs from \"dayjs\";\n\nconst AgeGroupTimeline = (props) => {\n  const {\n    filteredUniqueDates,\n    filteredTimelineAgeGroupData,\n    filteredAgeGroupData,\n    graphOption,\n  } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"trends\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Age Group Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [\n                [{ type: \"date\", label: \"Date\" }].concat(\n                  filteredAgeGroupData.map((item) =>\n                    item === \"65\" ? \"65+\" : item\n                  )\n                ),\n              ].concat(\n                filteredUniqueDates.length > 0 &&\n                  filteredAgeGroupData.length > 0\n                  ? filteredUniqueDates[0]\n                      .sort((a, b) => {\n                        if (\n                          dayjs(a, \"MM/DD/YYYY\").isBefore(\n                            dayjs(b, \"MM/DD/YYYY\")\n                          )\n                        ) {\n                          return -1;\n                        } else {\n                          return 1;\n                        }\n                      })\n                      .map((date) => {\n                        const dateArr = date ? date.split(\"/\") : null;\n                        const dateObj =\n                          dateArr.length > 0\n                            ? new Date(dateArr[2], dateArr[0] - 1, dateArr[1])\n                            : null;\n\n                        return [\n                          dateObj,\n                          filteredAgeGroupData.map(\n                            (item) =>\n                              filteredTimelineAgeGroupData[0].filter(\n                                (x) => x.date === date && x.age_group === item\n                              ).length\n                          ),\n                        ].flat();\n                      })\n                  : []\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n            width: 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default AgeGroupTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport dayjs from \"dayjs\";\n\nconst BoroughTimeline = (props) => {\n  const {\n    filteredUniqueDates,\n    filteredTimelineBoroughData,\n    filteredBoroughUniqueValues,\n    graphOption,\n  } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"trends\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Borough Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [\n                [{ type: \"date\", label: \"Date\" }].concat(\n                  filteredBoroughUniqueValues.map((borough) =>\n                    borough === \"B\"\n                      ? \"Bronx\"\n                      : borough === \"Q\"\n                      ? \"Queens\"\n                      : borough === \"M\"\n                      ? \"Manhattan\"\n                      : borough === \"K\"\n                      ? \"Brooklyn\"\n                      : borough === \"S\"\n                      ? \"Staten Island\"\n                      : \"Unknown\"\n                  )\n                ),\n              ].concat(\n                filteredUniqueDates.length > 0 &&\n                  filteredBoroughUniqueValues.length > 0\n                  ? filteredUniqueDates[0]\n                      .sort((a, b) => {\n                        if (\n                          dayjs(a, \"MM/DD/YYYY\").isBefore(\n                            dayjs(b, \"MM/DD/YYYY\")\n                          )\n                        ) {\n                          return -1;\n                        } else {\n                          return 1;\n                        }\n                      })\n                      .map((date) => {\n                        const dateArr = date ? date.split(\"/\") : null;\n                        const dateObj =\n                          dateArr.length > 0\n                            ? new Date(dateArr[2], dateArr[0] - 1, dateArr[1])\n                            : null;\n\n                        return [\n                          dateObj,\n                          filteredBoroughUniqueValues.map(\n                            (item) =>\n                              filteredTimelineBoroughData[0].filter(\n                                (x) => x.date === date && x.borough === item\n                              ).length\n                          ),\n                        ].flat();\n                      })\n                  : []\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n            width: 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default BoroughTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport dayjs from \"dayjs\";\n\nconst CategoryTimeline = (props) => {\n  const {\n    filteredUniqueDates,\n    filteredTimelineCategoryData,\n    filteredUniqueCategory,\n    graphOption,\n    uniqueValues,\n  } = props;\n\n  const categoryArr = filteredUniqueCategory[0]\n    ? filteredUniqueCategory[0]\n        .map((x) =>\n          x === \"F\" ? \"Felony\" : x === \"M\" ? \"Misdemeanor\" : \"Violation\"\n        )\n        .filter(uniqueValues)\n    : [];\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"trends\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Category Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[{ type: \"date\", label: \"Date\" }].concat(categoryArr)].concat(\n                filteredUniqueDates.length > 0\n                  ? filteredUniqueDates[0]\n                      .sort((a, b) => {\n                        if (\n                          dayjs(a, \"MM/DD/YYYY\").isBefore(\n                            dayjs(b, \"MM/DD/YYYY\")\n                          )\n                        ) {\n                          return -1;\n                        } else {\n                          return 1;\n                        }\n                      })\n                      .map((date) => {\n                        const dateArr = date ? date.split(\"/\") : null;\n                        const dateObj =\n                          dateArr.length > 0\n                            ? new Date(dateArr[2], dateArr[0] - 1, dateArr[1])\n                            : null;\n\n                        return [\n                          dateObj,\n                          categoryArr.map(\n                            (item) =>\n                              filteredTimelineCategoryData[0].filter(\n                                (x) => x.date === date && x.category === item\n                              ).length\n                          ),\n                        ].flat();\n                      })\n                  : []\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n            width: 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport dayjs from \"dayjs\";\n\nconst GenderTimeline = (props) => {\n  const {\n    filteredUniqueDates,\n    filteredTimelineSexData,\n    filteredSexUniqueValues,\n    graphOption,\n  } = props;\n\n  const genderArr = filteredSexUniqueValues.map((x) =>\n    x === \"F\" ? \"Female\" : \"Male\"\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"trends\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Gender Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[{ type: \"date\", label: \"Date\" }].concat(genderArr)].concat(\n                filteredUniqueDates.length > 0\n                  ? filteredUniqueDates[0]\n                      .sort((a, b) => {\n                        if (\n                          dayjs(a, \"MM/DD/YYYY\").isBefore(\n                            dayjs(b, \"MM/DD/YYYY\")\n                          )\n                        ) {\n                          return -1;\n                        } else {\n                          return 1;\n                        }\n                      })\n                      .map((date) => {\n                        const dateArr = date ? date.split(\"/\") : null;\n                        const dateObj =\n                          dateArr.length > 0\n                            ? new Date(dateArr[2], dateArr[0] - 1, dateArr[1])\n                            : null;\n\n                        return [\n                          dateObj,\n                          genderArr.map(\n                            (item) =>\n                              filteredTimelineSexData[0].filter(\n                                (x) => x.date === date && x.sex === item\n                              ).length\n                          ),\n                        ].flat();\n                      })\n                  : []\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n            width: 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default GenderTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport dayjs from \"dayjs\";\n\nconst RaceTimeline = (props) => {\n  const {\n    filteredUniqueDates,\n    filteredTimelineRaceData,\n    filteredRaceUniqueValues,\n    graphOption,\n  } = props;\n\n  const raceArr = filteredRaceUniqueValues.map((race) =>\n    race\n      .split(\" \")\n      .map((x) => x[0].toUpperCase() + x.slice(1).toLowerCase())\n      .join(\" \")\n      .split(\"/\")\n      .map(\n        (x) =>\n          x[0].toUpperCase() +\n          x.slice(1, x.indexOf(\" \")).toLowerCase() +\n          x.slice(x.indexOf(\" \"))\n      )\n      .join(\"/\")\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"trends\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Race Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[{ type: \"date\", label: \"Date\" }].concat(raceArr)].concat(\n                filteredUniqueDates.length > 0\n                  ? filteredUniqueDates[0]\n                      .sort((a, b) => {\n                        if (\n                          dayjs(a, \"MM/DD/YYYY\").isBefore(\n                            dayjs(b, \"MM/DD/YYYY\")\n                          )\n                        ) {\n                          return -1;\n                        } else {\n                          return 1;\n                        }\n                      })\n                      .map((date) => {\n                        const dateArr = date ? date.split(\"/\") : null;\n                        const dateObj =\n                          dateArr.length > 0\n                            ? new Date(dateArr[2], dateArr[0] - 1, dateArr[1])\n                            : null;\n\n                        return [\n                          dateObj,\n                          raceArr.map(\n                            (item) =>\n                              filteredTimelineRaceData[0].filter(\n                                (x) =>\n                                  x.date === date &&\n                                  x.race\n                                    .split(\" \")\n                                    .map(\n                                      (x) =>\n                                        x[0].toUpperCase() +\n                                        x.slice(1).toLowerCase()\n                                    )\n                                    .join(\" \")\n                                    .split(\"/\")\n                                    .map(\n                                      (x) =>\n                                        x[0].toUpperCase() +\n                                        x\n                                          .slice(1, x.indexOf(\" \"))\n                                          .toLowerCase() +\n                                        x.slice(x.indexOf(\" \"))\n                                    )\n                                    .join(\"/\") === item\n                              ).length\n                          ),\n                        ].flat();\n                      })\n                  : []\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n            width: 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default RaceTimeline;\n","import React, { useRef, useState } from \"react\";\nimport { FaChevronLeft, FaChevronRight } from \"react-icons/fa\";\nimport AliceCarousel from \"react-alice-carousel\";\nimport \"react-alice-carousel/lib/alice-carousel.css\";\nimport \"./BottomInfoPanel.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Category from \"./CarouselItems/Category/Category\";\nimport AgeGroup from \"./CarouselItems/AgeGroup/AgeGroup\";\nimport Race from \"./CarouselItems/Race/Race\";\nimport Gender from \"./CarouselItems/Gender/Gender\";\nimport Borough from \"./CarouselItems/Borough/Borough\";\nimport TopOffenses from \"./CarouselItems/TopOffenses/TopOffenses\";\nimport AgeGroupTimeline from \"./CarouselItems/AgeGroup/AgeGroupTimeline\";\nimport BoroughTimeline from \"./CarouselItems/Borough/BoroughTimeline\";\nimport CategoryTimeline from \"./CarouselItems/Category/CategoryTimeline\";\nimport GenderTimeline from \"./CarouselItems/Gender/GenderTimeline\";\nimport RaceTimeline from \"./CarouselItems/Race/RaceTimeline\";\nimport { RadioGroup, RadioButton } from \"react-radio-buttons\";\n\nconst BottomInfoPanel = (props) => {\n  const {\n    tooltipVisible,\n    filteredAgeGroup,\n    filteredRaceArr,\n    filteredSexArr,\n    filteredBoroughArr,\n    filteredOffenseDescriptionArr,\n    filteredArrestCategory,\n    filteredUniqueCategory,\n\n    uniqueValues,\n\n    filteredAgeGroupData,\n    filteredRaceUniqueValues,\n    filteredSexUniqueValues,\n    filteredBoroughUniqueValues,\n    filteredOffenseDescriptionUniqueValues,\n\n    currentFilters,\n    loadedYears,\n\n    filteredUniqueDates,\n    filteredTimelineAgeGroupData,\n    filteredTimelineBoroughData,\n    filteredTimelineCategoryData,\n    filteredTimelineSexData,\n    filteredTimelineRaceData,\n  } = props;\n\n  let CarouselRef = useRef(null);\n\n  const [graphOption, changeGraphOption] = useState(\"overview\");\n\n  return (\n    <div\n      className=\"bottom_info_panel_container\"\n      style={{ zIndex: tooltipVisible ? -1 : 0 }}\n    >\n      <div className=\"bottom_info_main_info_box\">\n        <div className=\"filters_applied\">\n          <h2>Filters Applied</h2>\n          {currentFilters.year.length === 0 &&\n          currentFilters.category.length === 0 &&\n          currentFilters.offense.length === 0 &&\n          currentFilters.age.length === 0 &&\n          currentFilters.race.length === 0 &&\n          currentFilters.sex.length === 0 &&\n          currentFilters.borough.length === 0 ? (\n            <p className=\"no_filters_applied_statement\">\n              No filters currently applied\n            </p>\n          ) : (\n            <>\n              <p>\n                <strong>\n                  {currentFilters.year.length === 0 ||\n                  currentFilters.year.length === loadedYears.length\n                    ? null\n                    : currentFilters.year.length === 1\n                    ? \"Year: \"\n                    : \"Years: \"}\n                </strong>\n                {currentFilters.year.length === 0 ||\n                currentFilters.year.length === loadedYears.length\n                  ? null\n                  : currentFilters.year.join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.category.length === 0\n                    ? null\n                    : \"Categor\" +\n                      (currentFilters.category.length > 1 ? \"ies: \" : \"y: \")}\n                </strong>\n                {currentFilters.category.length === 0\n                  ? null\n                  : currentFilters.category\n                      .map((x) =>\n                        x === \"F\"\n                          ? \"Felony\"\n                          : x === \"M\"\n                          ? \"Misdemeanor\"\n                          : \"Violation\"\n                      )\n                      .join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.offense.length === 0\n                    ? null\n                    : \"Offense\" +\n                      (currentFilters.offense.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.offense.length === 0\n                  ? null\n                  : currentFilters.offense.join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.age.length === 0\n                    ? null\n                    : \"Age\" + (currentFilters.age.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.age.length === 0\n                  ? null\n                  : currentFilters.age\n                      .map((x) => (x === \"65\" ? \"65+\" : x))\n                      .join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.race.length === 0\n                    ? null\n                    : \"Race\" +\n                      (currentFilters.race.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.race.length === 0\n                  ? null\n                  : currentFilters.race.join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.sex.length === 0 ? null : \"Sex: \"}\n                </strong>\n                {currentFilters.sex.length === 0\n                  ? null\n                  : currentFilters.sex\n                      .map((x) => (x === \"M\" ? \"Male\" : \"Female\"))\n                      .join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.borough.length === 0\n                    ? null\n                    : \"Borough\" +\n                      (currentFilters.borough.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.borough.length === 0\n                  ? null\n                  : currentFilters.borough\n                      .map((item) =>\n                        item === \"B\"\n                          ? \"Bronx\"\n                          : item === \"Q\"\n                          ? \"Queens\"\n                          : item === \"M\"\n                          ? \"Manhattan\"\n                          : item === \"K\"\n                          ? \"Brooklyn\"\n                          : item === \"S\"\n                          ? \"Staten Island\"\n                          : \"Unknown\"\n                      )\n                      .join(\", \")}\n              </p>\n            </>\n          )}\n        </div>\n        <div className=\"graph_options_container\">\n          <p>Graph Options</p>\n          <RadioGroup\n            onChange={(value) => changeGraphOption(value)}\n            horizontal\n            value={graphOption}\n          >\n            <RadioButton\n              rootColor=\"rgb(190, 190, 190)\"\n              pointColor=\"rgb(0, 0, 128)\"\n              value=\"overview\"\n            >\n              Overview\n            </RadioButton>\n            <RadioButton\n              rootColor=\"rgb(190, 190, 190)\"\n              pointColor=\"rgb(0, 0, 128)\"\n              value=\"trends\"\n            >\n              Trends\n            </RadioButton>\n          </RadioGroup>\n        </div>\n      </div>\n      <div className=\"carousel_container\">\n        <FaChevronLeft\n          color=\"rgb(0, 0, 0)\"\n          className=\"carousel_left_arrow\"\n          onClick={() => CarouselRef.slidePrev()}\n        />\n        <AliceCarousel\n          ref={(el) => (CarouselRef = el)}\n          autoPlayInterval={5000}\n          autoPlay={true}\n          fadeOutAnimation={true}\n          dotsDisabled={true}\n          mouseTrackingEnabled={true}\n          playButtonEnabled={false}\n          disableAutoPlayOnAction={false}\n          responsive={{\n            0: { items: 4 },\n          }}\n          preservePosition={true}\n          items={[\n            <Category\n              key=\"overview\"\n              filteredArrestCategory={filteredArrestCategory}\n              graphOption={graphOption}\n            />,\n            <AgeGroup\n              key=\"overview\"\n              filteredAgeGroup={filteredAgeGroup}\n              filteredAgeGroupData={filteredAgeGroupData}\n              graphOption={graphOption}\n            />,\n            <Race\n              key=\"overview\"\n              filteredRaceUniqueValues={filteredRaceUniqueValues}\n              filteredRaceArr={filteredRaceArr}\n              graphOption={graphOption}\n            />,\n            <Gender\n              key=\"overview\"\n              filteredUniqueDates={filteredUniqueDates}\n              filteredSexUniqueValues={filteredSexUniqueValues}\n              filteredSexArr={filteredSexArr}\n              graphOption={graphOption}\n            />,\n            <Borough\n              key=\"overview\"\n              filteredBoroughUniqueValues={filteredBoroughUniqueValues}\n              filteredBoroughArr={filteredBoroughArr}\n              graphOption={graphOption}\n            />,\n            <TopOffenses\n              key=\"overview\"\n              filteredOffenseDescriptionArr={filteredOffenseDescriptionArr}\n              filteredOffenseDescriptionUniqueValues={\n                filteredOffenseDescriptionUniqueValues\n              }\n              graphOption={graphOption}\n            />,\n            <CategoryTimeline\n              key=\"trends\"\n              filteredTimelineCategoryData={filteredTimelineCategoryData}\n              filteredUniqueDates={filteredUniqueDates}\n              filteredArrestCategory={filteredArrestCategory}\n              graphOption={graphOption}\n              filteredUniqueCategory={filteredUniqueCategory}\n              uniqueValues={uniqueValues}\n            />,\n            <AgeGroupTimeline\n              key=\"trends\"\n              filteredAgeGroupData={filteredAgeGroupData}\n              filteredUniqueDates={filteredUniqueDates}\n              filteredTimelineAgeGroupData={filteredTimelineAgeGroupData}\n              graphOption={graphOption}\n            />,\n            <BoroughTimeline\n              key=\"trends\"\n              filteredBoroughUniqueValues={filteredBoroughUniqueValues}\n              filteredUniqueDates={filteredUniqueDates}\n              filteredTimelineBoroughData={filteredTimelineBoroughData}\n              graphOption={graphOption}\n            />,\n            <RaceTimeline\n              key=\"trends\"\n              filteredRaceUniqueValues={filteredRaceUniqueValues}\n              filteredUniqueDates={filteredUniqueDates}\n              filteredTimelineRaceData={filteredTimelineRaceData}\n              graphOption={graphOption}\n            />,\n            <GenderTimeline\n              key=\"trends\"\n              filteredUniqueDates={filteredUniqueDates}\n              filteredSexUniqueValues={filteredSexUniqueValues}\n              filteredTimelineSexData={filteredTimelineSexData}\n              graphOption={graphOption}\n            />,\n          ].filter((item) => item.key === graphOption)}\n        />\n        <FaChevronRight\n          color=\"rgb(0, 0, 0)\"\n          className=\"carousel_right_arrow\"\n          onClick={() => CarouselRef.slideNext()}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default BottomInfoPanel;\n","const yearlyTotals = {\n  2006: 371932,\n  2007: 403229,\n  2008: 401526,\n  2009: 421314,\n  2010: 422320,\n  2011: 412856,\n  2012: 396278,\n  2013: 393807,\n  2014: 387725,\n  2015: 339468,\n  2016: 314862,\n  2017: 286223,\n  2018: 246772,\n  2019: 214616,\n  2020: 74783,\n};\n\nexport default yearlyTotals;\n","import React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport DeckGL from \"@deck.gl/react\";\nimport { StaticMap } from \"react-map-gl\";\nimport { ScatterplotLayer } from \"@deck.gl/layers\";\nimport \"./App.css\";\nimport \"./mapbox.css\";\nimport NavigationBar from \"./NavigationBar/NavigationBar\";\nimport iNoBounce from \"./inobounce\";\nimport BottomInfoPanel from \"./BottomInfoPanel/BottomInfoPanel\";\nimport { css } from \"@emotion/core\";\nimport GridLoader from \"react-spinners/GridLoader\";\nimport dayjs from \"dayjs\";\nimport customParseFormat from \"dayjs/plugin/customParseFormat\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport yearlyTotals from \"./YearlyTotals\";\nimport LZString from \"lz-string\";\n\nlet ws = new WebSocket(\"ws://localhost:4000\");\n\nif (process.env.NODE_ENV === \"production\") {\n  const host = window.location.href.replace(/^http/, \"ws\");\n\n  ws = new WebSocket(host);\n}\n\ndayjs.extend(customParseFormat);\n\nconst App = () => {\n  const [mapLoaded, changeMapLoaded] = useState(false);\n  const [loadedData, changeLoadedData] = useState(\"\");\n  const [tooltipVisible, changeTooltipVisible] = useState(false);\n  const [loaderColor, changeLoaderColor] = useState(\"rgb(93, 188, 210)\");\n  const [mapError, changeMapError] = useState(false);\n  const [layers, changeLayers] = useState([]);\n  const [loadedYears, changeLoadedYears] = useState([]);\n  const [laddaLoading, changeLaddaLoading] = useState(false);\n  const [loadingYears, changeLoadingYears] = useState([]);\n  const [fetchProgress, changeFetchProgress] = useState(0);\n  const [mapVisible, changeMapVisible] = useState(false);\n\n  // Filters\n  const [yearFilter, changeYearFilter] = useState([2020]);\n  const [categoryFilter, changeCategoryFilter] = useState([]);\n  const [offenseFilter, changeOffenseFilter] = useState([]);\n  const [ageFilter, changeAgeFilter] = useState([]);\n  const [raceFilter, changeRaceFilter] = useState([]);\n  const [sexFilter, changeSexFilter] = useState([]);\n  const [boroughFilter, changeBoroughFilter] = useState([]);\n  const [currentFilters, changeCurrentFilters] = useState({\n    year: [],\n    category: [],\n    offense: [],\n    age: [],\n    race: [],\n    sex: [],\n    borough: [],\n  });\n\n  // Browser width on initial opening of app\n  const [initialScreenWidth] = useState(window.innerWidth);\n  // Current browser width if different from initial browser width\n  const [currentScreenWidth, changeCurrentScreenWidth] = useState(\"\");\n\n  let layersRef = useRef([]);\n  let loadDataChunks = useRef([{}]);\n  let filteredDataChunks = useRef([]);\n  let toastId = useRef(null);\n\n  const isSame = (arr1, arr2) =>\n    arr1.length === arr2.length &&\n    arr1.every((item, i) => {\n      return item === arr2[i];\n    });\n\n  useLayoutEffect(() => {\n    const updateSize = () => {\n      if (window.innerWidth !== currentScreenWidth) {\n        changeCurrentScreenWidth(window.innerWidth);\n      }\n    };\n\n    window.addEventListener(\"resize\", updateSize);\n\n    return () => {\n      window.removeEventListener(\"resize\", updateSize);\n    };\n  }, [currentScreenWidth]);\n\n  const override = css`\n    display: block;\n    margin: 0 auto;\n  `;\n\n  const uniqueValues = (value, index, self) => {\n    return self.indexOf(value) === index;\n  };\n\n  const loadData = loadedData ? loadedData.flat() : [\"\"];\n\n  const filteredData = filteredDataChunks.current.flat();\n\n  const hasNumber = (input) => {\n    return /\\d/.test(input);\n  };\n\n  const ageGroup =\n    loadData.length > 0 &&\n    loadData.map((x) => x.AGE_GROUP).filter((x) => x !== \"AGE_GROUP\");\n  const raceArr =\n    loadData.length > 0 &&\n    loadData.map((x) => x.PERP_RACE).filter((x) => x !== \"PERP_RACE\");\n  const boroughArr =\n    loadData.length > 0 &&\n    loadData\n      .map((x) => {\n        if (x.ARREST_BORO === \"K\" && Number(x.Latitude) > 40.73912) {\n          return \"B\";\n        } else if (\n          x.ARREST_BORO === \"M\" &&\n          Number(x.Longitude) > -73.920961 &&\n          Number(x.Latitude) < 40.800709\n        ) {\n          return \"Q\";\n        } else if (x.ARREST_BORO === \"B\" && Number(x.Latitude) < 40.697465) {\n          return \"K\";\n        } else if (x.ARREST_BORO === \"Q\" && Number(x.Longitude) < -73.962745) {\n          return \"M\";\n        } else if (\n          x.ARREST_BORO === \"Q\" &&\n          Number(x.Longitude) < -73.878559 &&\n          Number(x.Latitude) > 40.787907\n        ) {\n          return \"B\";\n        } else {\n          return x.ARREST_BORO;\n        }\n      })\n      .filter((x) => x !== \"ARREST_BORO\");\n  const offenseDescriptionArr =\n    loadData.length > 0 &&\n    loadData.map((x) => x.OFNS_DESC !== \"OFNS_DESC\" && x.OFNS_DESC);\n\n  const filteredArrestCategory = filteredData\n    .map((x) => x.LAW_CAT_CD)\n    .filter((x) => x !== \"LAW_CAT_CD\");\n  const filteredAgeGroup = filteredData\n    .map((x) => x.AGE_GROUP)\n    .filter((x) => x !== \"AGE_GROUP\");\n  const filteredSexArr = filteredData\n    .map((x) => x.PERP_SEX)\n    .filter((x) => x !== \"PERP_SEX\");\n  const filteredRaceArr = filteredData\n    .map((x) => x.PERP_RACE)\n    .filter((x) => x !== \"PERP_RACE\");\n  const filteredBoroughArr = filteredData\n    .map((x) => {\n      if (x.ARREST_BORO === \"K\" && Number(x.Latitude) > 40.77) {\n        return \"B\";\n      } else if (\n        x.ARREST_BORO === \"M\" &&\n        Number(x.Longitude) > -73.920961 &&\n        Number(x.Latitude) < 40.800709\n      ) {\n        return \"Q\";\n      } else if (x.ARREST_BORO === \"B\" && Number(x.Latitude) < 40.697465) {\n        return \"K\";\n      } else if (\n        (x.ARREST_BORO === \"B\" &&\n          Number(x.Latitude) > 40.796669 &&\n          Number(x.Longitude) < -73.932786) ||\n        (x.ARREST_BORO === \"B\" &&\n          Number(x.Latitude) < 40.796669 &&\n          Number(x.Longitude) < -73.98)\n      ) {\n        return \"M\";\n      } else if (x.ARREST_BORO === \"Q\" && Number(x.Longitude) < -73.962745) {\n        return \"M\";\n      } else if (\n        x.ARREST_BORO === \"Q\" &&\n        Number(x.Longitude) < -73.878559 &&\n        Number(x.Latitude) > 40.787907\n      ) {\n        return \"B\";\n      } else {\n        return x.ARREST_BORO;\n      }\n    })\n    .filter((x) => x !== \"ARREST_BORO\");\n  const filteredOffenseDescriptionArr = filteredData.map(\n    (x) => x.OFNS_DESC !== \"OFNS_DESC\" && x.OFNS_DESC\n  );\n\n  const filteredUniqueCategory = filteredDataChunks.current.map((item) =>\n    item\n      .map((x) => x.LAW_CAT_CD)\n      .filter((x) => x !== \"LAW_CAT_CD\")\n      .filter(uniqueValues)\n  );\n\n  const filteredUniqueDates = filteredDataChunks.current.map((item) =>\n    item\n      .map((x) => x.ARREST_DATE)\n      .filter((x) => x !== \"ARREST_DATE\")\n      .filter(uniqueValues)\n  );\n\n  const filteredTimelineAgeGroupData = filteredDataChunks.current.map((item) =>\n    item\n      .map((x) => {\n        return {\n          date: x.ARREST_DATE,\n          age_group: x.AGE_GROUP,\n        };\n      })\n      .filter((x) => x.date !== \"ARREST_DATE\" && x.age_group !== \"AGE_GROUP\")\n  );\n\n  const filteredTimelineBoroughData = filteredDataChunks.current.map((item) =>\n    item\n      .map((x) => {\n        return {\n          date: x.ARREST_DATE,\n          borough: x.ARREST_BORO,\n        };\n      })\n      .filter((x) => x.date !== \"ARREST_DATE\" && x.borough !== \"ARREST_BORO\")\n  );\n\n  const filteredTimelineCategoryData = filteredDataChunks.current.map((item) =>\n    item\n      .map((x) => {\n        return {\n          date: x.ARREST_DATE,\n          category:\n            x.LAW_CAT_CD === \"F\"\n              ? \"Felony\"\n              : x.LAW_CAT_CD === \"M\"\n              ? \"Misdemeanor\"\n              : \"Violation\",\n        };\n      })\n      .filter((x) => x.date !== \"ARREST_DATE\" && x.category !== \"LAW_CAT_CD\")\n  );\n\n  const filteredTimelineSexData = filteredDataChunks.current.map((item) =>\n    item\n      .map((x) => {\n        return {\n          date: x.ARREST_DATE,\n          sex: x.PERP_SEX === \"F\" ? \"Female\" : \"Male\",\n        };\n      })\n      .filter((x) => x.date !== \"ARREST_DATE\" && x.sex !== \"PERP_SEX\")\n  );\n\n  const filteredTimelineRaceData = filteredDataChunks.current.map((item) =>\n    item\n      .map((x) => {\n        return {\n          date: x.ARREST_DATE,\n          race: x.PERP_RACE,\n        };\n      })\n      .filter((x) => x.date !== \"ARREST_DATE\" && x.race !== \"PERP_RACE\")\n  );\n\n  const filteredAgeGroupData = filteredAgeGroup\n    .filter(uniqueValues)\n    .sort((a, b) => {\n      const first = hasNumber(a)\n        ? Number(a.split(a[0] === \"<\" ? \"<\" : \"-\")[a[0] === \"<\" ? 1 : 0])\n        : null;\n      const second = hasNumber(b)\n        ? Number(b.split(b[0] === \"<\" ? \"<\" : \"-\")[b[0] === \"<\" ? 1 : 0])\n        : null;\n\n      return first - second;\n    });\n  const filteredRaceUniqueValues = filteredRaceArr.filter(uniqueValues).sort();\n  const filteredSexUniqueValues = filteredSexArr.filter(uniqueValues).sort();\n  const filteredBoroughUniqueValues = filteredBoroughArr\n    .filter(uniqueValues)\n    .sort();\n  const filteredOffenseDescriptionUniqueValues = filteredOffenseDescriptionArr\n    .filter(uniqueValues)\n    .sort();\n\n  const ageGroupData = ageGroup.filter(uniqueValues).sort((a, b) => {\n    const first = hasNumber(a)\n      ? Number(a.split(a[0] === \"<\" ? \"<\" : \"-\")[a[0] === \"<\" ? 1 : 0])\n      : null;\n    const second = hasNumber(b)\n      ? Number(b.split(b[0] === \"<\" ? \"<\" : \"-\")[b[0] === \"<\" ? 1 : 0])\n      : null;\n\n    return first - second;\n  });\n  const raceUniqueValues = raceArr.filter(uniqueValues).sort();\n  const boroughUniqueValues = boroughArr.filter(uniqueValues).sort();\n  const offenseDescriptionUniqueValues = offenseDescriptionArr\n    .filter(uniqueValues)\n    .sort();\n\n  useEffect(() => {\n    if (!mapError) {\n      while (loadedData === \"\") {\n        const colorChangeInterval = setInterval(() => {\n          if (loaderColor === \"rgb(93, 188, 210)\") {\n            changeLoaderColor(\"rgb(255, 255, 255)\");\n          } else if (loaderColor === \"rgb(255, 255, 255)\") {\n            changeLoaderColor(\"#f9c124\");\n          } else {\n            changeLoaderColor(\"rgb(93, 188, 210)\");\n          }\n        }, 500);\n\n        return () => {\n          clearInterval(colorChangeInterval);\n        };\n      }\n    } else {\n      changeLoaderColor(\"rgb(255, 0, 0)\");\n    }\n  }, [loadedData, loaderColor, mapError]);\n\n  // Used to prevent rubber banding effect on mobile phones\n  useEffect(() => {\n    iNoBounce.enable();\n  }, []);\n\n  const token = process.env.REACT_APP_MAPBOX_TOKEN;\n\n  const renderLayers = useCallback(() => {\n    const yearsFiltered = filteredDataChunks.current.map((item) =>\n      item\n        .map((x) => x.ARREST_DATE)\n        .filter((x) => x !== \"ARREST_DATE\")\n        .map((x) => Number(dayjs(x, \"MM/DD/YYYY\").format(\"YYYY\")))\n        .filter(uniqueValues)\n    );\n\n    if (layers.length !== filteredDataChunks.length) {\n      layersRef.current = filteredDataChunks.current.map(\n        (chunk, chunkIndex) => {\n          const yearOfChunk = chunk\n            .map((x) => x.ARREST_DATE)\n            .filter((x) => x !== \"ARREST_DATE\")\n            .map((x) => dayjs(x, \"MM/DD/YYYY\").format(\"YYYY\"))\n            .filter(uniqueValues);\n\n          return new ScatterplotLayer({\n            id: `chunk-${chunkIndex}`,\n            data: chunk,\n            visible: yearsFiltered.flat().includes(Number(yearOfChunk[0])),\n            filled: true,\n            radiusMinPixels: 3,\n            getPosition: (d) => [Number(d.Longitude), Number(d.Latitude)],\n            getFillColor: (d) =>\n              d.LAW_CAT_CD === \"F\"\n                ? [255, 0, 0]\n                : d.LAW_CAT_CD === \"M\"\n                ? [255, 116, 0]\n                : [255, 193, 0],\n            pickable: true,\n            parameters: {\n              depthTest: false,\n            },\n          });\n        }\n      );\n\n      if (!isSame(layers, layersRef.current)) {\n        changeLayers(layersRef.current);\n      }\n    }\n  }, [filteredDataChunks, layers]);\n\n  const onNewDataArrive = useCallback(\n    (chunk) => {\n      const chunkYear = chunk.year;\n\n      if (!loadDataChunks.current[0][chunkYear]) {\n        Object.assign(loadDataChunks.current[0], { [chunkYear]: [chunk.data] });\n      } else {\n        loadDataChunks.current[0][chunkYear].push(chunk.data);\n      }\n\n      const splitChunks = Object.keys(loadDataChunks.current[0]).map(\n        (item, i) => {\n          return { [item]: loadDataChunks.current[0][item] };\n        }\n      );\n\n      const loadedDataArr = splitChunks.map((x) => {\n        const keyName = Object.keys(x)[0];\n\n        let flattenedArray = [];\n\n        for (let i = 0; i < x[keyName].length; i++) {\n          let currentValue = x[keyName][i];\n          for (let j = 0; j < currentValue.length; j++) {\n            flattenedArray.push(currentValue[j]);\n          }\n        }\n        return flattenedArray;\n      });\n\n      filteredDataChunks.current = loadedDataArr;\n\n      changeLoadedData(loadedDataArr);\n\n      if (layers.length === 0 || layers.length !== loadedDataArr.length) {\n        renderLayers();\n      }\n    },\n    [loadDataChunks, renderLayers, layers.length]\n  );\n\n  useEffect(() => {\n    const currentRef = loadDataChunks.current;\n    const selectedYear = loadingYears[0]\n      ? loadingYears[0].toString().slice()\n      : null;\n\n    if (loadingYears[0]) {\n      const progressInterval = setInterval(() => {\n        if (currentRef[0][selectedYear.toString()]) {\n          const refProgress = (\n            currentRef[0][selectedYear.toString()]\n              .map((x) => x.length)\n              .reduce((a, b) => a + b, 0) /\n            yearlyTotals[selectedYear.toString()]\n          ).toFixed(1);\n\n          if (toastId.current) {\n            if (fetchProgress !== refProgress) {\n              changeFetchProgress(Number(refProgress));\n            }\n          }\n        }\n\n        return () => {\n          clearInterval(progressInterval);\n        };\n      }, 500);\n    }\n  }, [fetchProgress, loadingYears]);\n\n  useEffect(() => {\n    if (fetchProgress < 1 && toastId.current) {\n      toast.update(toastId.current, {\n        progress: fetchProgress,\n      });\n    } else if (fetchProgress === 1) {\n      toast.update(toastId.current, {\n        render: `Data for ${loadingYears[0].toString()} successfully loaded`,\n        type: toast.TYPE.SUCCESS,\n        autoClose: false,\n        progress: 1.0,\n        closeButton: true,\n      });\n\n      const dismissTimer = setTimeout(() => {\n        toast.dismiss();\n      }, 10000);\n\n      return () => {\n        clearTimeout(dismissTimer);\n      };\n    }\n  }, [fetchProgress, loadingYears]);\n\n  useEffect(() => {\n    if (loadingYears.length > 0) {\n      const selectedYear = loadingYears[0];\n\n      if (!toastId.current) {\n        toastId.current = toast.info(`Loading ${selectedYear} data`, {\n          position: \"top-center\",\n          autoClose: false,\n          hideProgressBar: false,\n          progress: 0,\n        });\n      }\n    }\n  }, [loadingYears, fetchProgress]);\n\n  const splitChunks = Object.keys(loadDataChunks.current[0]).map((item, i) => {\n    return { [item]: loadDataChunks.current[0][item] };\n  });\n\n  const loadedDataArr = splitChunks.map((x, i) => {\n    const keyName = Object.keys(loadDataChunks.current[0])[i];\n\n    let flattenedArray = [];\n\n    if (x[keyName]) {\n      for (let i = 0; i < x[keyName].length; i++) {\n        let currentValue = x[keyName][i];\n        for (let j = 0; j < currentValue.length; j++) {\n          flattenedArray.push(currentValue[j]);\n        }\n      }\n    }\n    return flattenedArray;\n  });\n\n  const dataFetch = useCallback(\n    (year) => {\n      if (!loadedYears.includes(2020)) {\n        ws.onopen = (event) => {\n          ws.send(year);\n\n          // Send one bite to websocket every 55 seconds to keep socket from closing itself on idle\n          setInterval(() => {\n            ws.send(\".\");\n          }, 55000);\n\n          ws.onmessage = (compressed_data) => {\n            const data = LZString.decompressFromEncodedURIComponent(\n              compressed_data.data\n            );\n            console.log(JSON.parse(data));\n            onNewDataArrive({ year: year, data: JSON.parse(data) });\n            if (!loadedYears.includes(year)) {\n              changeLoadedYears([...loadedYears, year]);\n            }\n\n            if (fetchProgress === 1) {\n              if (loadedYears.includes(year)) {\n                changeLoadedYears([...loadedYears, year]);\n              }\n              if (loadingYears.length > 0) {\n                changeLoadingYears([]);\n              }\n              if (laddaLoading) {\n                changeLaddaLoading(false);\n              }\n            }\n          };\n        };\n      } else {\n        ws.send(year);\n\n        ws.onmessage = (compressed_data) => {\n          const data = LZString.decompressFromEncodedURIComponent(\n            compressed_data.data\n          );\n\n          onNewDataArrive({ year: year, data: JSON.parse(data) });\n\n          if (!loadedYears.includes(year)) {\n            changeLoadedYears([...loadedYears, year]);\n          }\n\n          if (fetchProgress === 1) {\n            changeFetchProgress(0);\n            if (!loadedYears.includes(year)) {\n              changeLoadedYears([...loadedYears, year]);\n            }\n            if (loadingYears.length > 0) {\n              changeLoadingYears([]);\n            }\n            if (laddaLoading) {\n              changeLaddaLoading(false);\n            }\n          }\n        };\n      }\n    },\n    [\n      loadedYears,\n      onNewDataArrive,\n      laddaLoading,\n      loadingYears.length,\n      fetchProgress,\n    ]\n  );\n\n  const handleDownloadYear = (year) => {\n    changeLoadingYears([year]);\n  };\n\n  const setFilters = (year, category, offense, age, race, sex, borough) => {\n    const newYears = year.filter((item) => !loadedYears.includes(item));\n\n    changeCurrentFilters({\n      year: year,\n      category: category,\n      offense: offense,\n      age: age,\n      race: race,\n      sex: sex,\n      borough: borough,\n    });\n\n    filteredDataChunks.current = loadedDataArr.map((chunk) => {\n      return chunk.filter((x) => {\n        if (\n          (year.includes(\n            Number(dayjs(x.ARREST_DATE, \"MM/DD/YYYY\").format(\"YYYY\"))\n          ) ||\n            year.length === 0) &&\n          (category.includes(x.LAW_CAT_CD) || category.length === 0) &&\n          (offense.includes(x.OFNS_DESC) || offense.length === 0) &&\n          (age.includes(x.AGE_GROUP) || age.length === 0) &&\n          (race.includes(x.PERP_RACE) || race.length === 0) &&\n          (sex.includes(x.PERP_SEX) || sex.length === 0) &&\n          (race.includes(x.PERP_RACE) || race.length === 0) &&\n          (borough.includes(\n            x.ARREST_BORO === \"K\" && Number(x.Latitude) > 40.77\n              ? \"B\"\n              : x.ARREST_BORO === \"M\" &&\n                Number(x.Longitude) > -73.920961 &&\n                Number(x.Latitude) < 40.800709\n              ? \"Q\"\n              : x.ARREST_BORO === \"B\" && Number(x.Latitude) < 40.697465\n              ? \"K\"\n              : (x.ARREST_BORO === \"B\" &&\n                  Number(x.Latitude) > 40.796669 &&\n                  Number(x.Longitude) < -73.932786) ||\n                (x.ARREST_BORO === \"B\" &&\n                  Number(x.Latitude) < 40.796669 &&\n                  Number(x.Longitude) < -73.98)\n              ? \"M\"\n              : x.ARREST_BORO === \"Q\" && Number(x.Longitude) < -73.962745\n              ? \"M\"\n              : x.ARREST_BORO === \"Q\" &&\n                Number(x.Longitude) < -73.878559 &&\n                Number(x.Latitude) > 40.787907\n              ? \"B\"\n              : x.ARREST_BORO\n          ) ||\n            borough.length === 0)\n        ) {\n          return true;\n        } else {\n          return false;\n        }\n      });\n    });\n\n    if (!newYears.length > 0) {\n      setTimeout(() => changeLaddaLoading(false), 2000);\n    }\n\n    renderLayers();\n  };\n\n  useEffect(() => {\n    if (!loadedYears.includes(2020)) {\n      dataFetch(2020);\n    } else if (\n      loadingYears.length > 0 &&\n      !loadDataChunks.current[0][loadingYears[0]]\n    ) {\n      dataFetch(loadingYears[0]);\n    }\n  }, [onNewDataArrive, loadedData, loadedYears, dataFetch, loadingYears]);\n\n  const showTooltip = (object, x, y) => {\n    const el = document.getElementsByClassName(\"deck-tooltip\")[0];\n\n    if (object) {\n      if (!tooltipVisible) {\n        changeTooltipVisible(true);\n      }\n\n      const {\n        ARREST_DATE,\n        LAW_CAT_CD,\n        OFNS_DESC,\n        PD_DESC,\n        AGE_GROUP,\n        PERP_SEX,\n        PERP_RACE,\n      } = object;\n      el.innerHTML = `\n      <p><strong>Date of Arrest:</strong> ${ARREST_DATE}</p>\n      <p><strong>Category:</strong> ${\n        LAW_CAT_CD === \"F\"\n          ? \"Felony\"\n          : LAW_CAT_CD === \"M\"\n          ? \"Misdemeanor\"\n          : \"Violation\"\n      }</p>\n      <p><strong>Offense:</strong> ${OFNS_DESC}</p>\n      <p><strong>Offense Description:</strong> ${PD_DESC}</p>\n      <p><strong>Perpetrator's Age Group:</strong> ${AGE_GROUP}</p>\n      <p><strong>Perpetrator's Sex:</strong> ${\n        PERP_SEX === \"M\" ? \"Male\" : \"Female\"\n      }</p>\n      <p><strong>Perpetrator's Race:</strong> ${PERP_RACE.toLowerCase()\n        .split(\" \")\n        .map((x) => x[0].toUpperCase() + x.slice(1))\n        .join(\" \")}</p>\n  `;\n      el.style.display = \"inline-block\";\n      el.style.background = \"#000\";\n      el.style.color = \"rgb(235, 235, 235)\";\n      el.style.fontSize = \"1rem\";\n      el.style.overflowWrap = \"break-word\";\n      el.style.lineHeight = \"1rem\";\n      el.style.maxWidth = \"10rem\";\n      el.style.opacity = 0.9;\n      el.style.left = x + \"px\";\n      el.style.top = y + \"px\";\n    } else {\n      if (tooltipVisible) {\n        changeTooltipVisible(false);\n      }\n      el.style.opacity = 0;\n    }\n  };\n\n  useEffect(() => {\n    if (typeof loadedData === \"object\" && loadedData.flat().length > 70000) {\n      const mapVisibleDelay = setTimeout(() => changeMapVisible(true), 3000);\n\n      return () => {\n        clearTimeout(mapVisibleDelay);\n      };\n    }\n  }, [loadedData]);\n\n  return (\n    <>\n      <div\n        className=\"loading_container\"\n        style={{\n          display:\n            loadedData === \"\" ||\n            (typeof loadedData === \"object\" && loadedData.flat().length < 70000)\n              ? \"flex\"\n              : \"none\",\n        }}\n      >\n        <GridLoader\n          css={override}\n          size={50}\n          color={loaderColor}\n          style={{ transition: \"all 0.5s ease\" }}\n          loading={\n            loadedData === \"\" ||\n            (typeof loadedData === \"object\" && loadedData.flat().length < 70000)\n          }\n        />\n        <p>\n          {mapError\n            ? \"Error Initializing NYPD Arrest Map\"\n            : \"Initializing NYPD Arrest Map\"}\n        </p>\n      </div>\n      <div\n        className=\"nypd_arrest_map_container\"\n        style={{\n          opacity:\n            loadedData === \"\" ||\n            (typeof loadedData === \"object\" && loadedData.flat().length < 70000)\n              ? 0\n              : 1,\n        }}\n      >\n        <ToastContainer\n          position=\"bottom-center\"\n          autoClose={false}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick={false}\n          rtl={false}\n          pauseOnFocusLoss={false}\n          draggable={false}\n          pauseOnHover={false}\n        />\n        <NavigationBar\n          loadData={loadedData ? loadedData.flat() : [\"\"]}\n          raceUniqueValues={raceUniqueValues}\n          boroughUniqueValues={boroughUniqueValues}\n          offenseDescriptionUniqueValues={offenseDescriptionUniqueValues}\n          ageGroupData={ageGroupData}\n          setFilters={setFilters}\n          initialScreenWidth={initialScreenWidth}\n          currentScreenWidth={currentScreenWidth}\n          loadedYears={loadedYears}\n          pointClicked={tooltipVisible}\n          changeLaddaLoading={changeLaddaLoading}\n          laddaLoading={laddaLoading}\n          filteredData={filteredDataChunks.current}\n          handleDownloadYear={handleDownloadYear}\n          yearFilter={yearFilter}\n          changeYearFilter={changeYearFilter}\n          categoryFilter={categoryFilter}\n          changeCategoryFilter={changeCategoryFilter}\n          offenseFilter={offenseFilter}\n          changeOffenseFilter={changeOffenseFilter}\n          ageFilter={ageFilter}\n          changeAgeFilter={changeAgeFilter}\n          raceFilter={raceFilter}\n          changeRaceFilter={changeRaceFilter}\n          sexFilter={sexFilter}\n          changeSexFilter={changeSexFilter}\n          boroughFilter={boroughFilter}\n          changeBoroughFilter={changeBoroughFilter}\n        />\n        <DeckGL\n          initialViewState={{\n            longitude: -73.935242,\n            latitude: 40.73061,\n            zoom: window.innerWidth < 1200 ? 9 : 11,\n            minZoom: 9,\n            pitch: 0,\n            bearing: 0,\n          }}\n          controller={true}\n          layers={layersRef.current}\n          onHover={({ object, x, y }) => showTooltip(object, x, y)}\n          onClick={({ object, x, y }) => showTooltip(object, x, y)}\n          pickingRadius={10}\n          onLoad={() => changeMapLoaded(true)}\n          onError={(e) => changeMapError(true)}\n        >\n          <StaticMap\n            mapStyle=\"mapbox://styles/mapbox/dark-v9\"\n            mapboxApiAccessToken={token}\n          />\n        </DeckGL>\n        {mapLoaded ? (\n          <BottomInfoPanel\n            mapVisible={mapVisible}\n            loadData={loadData}\n            loadDataChunks={loadDataChunks.current}\n            tooltipVisible={tooltipVisible}\n            filteredArrestCategory={filteredArrestCategory}\n            filteredAgeGroupData={filteredAgeGroupData}\n            filteredRaceUniqueValues={filteredRaceUniqueValues}\n            filteredSexUniqueValues={filteredSexUniqueValues}\n            filteredBoroughUniqueValues={filteredBoroughUniqueValues}\n            filteredOffenseDescriptionUniqueValues={\n              filteredOffenseDescriptionUniqueValues\n            }\n            filteredUniqueCategory={filteredUniqueCategory}\n            filteredAgeGroup={filteredAgeGroup}\n            filteredRaceArr={filteredRaceArr}\n            filteredSexArr={filteredSexArr}\n            filteredBoroughArr={filteredBoroughArr}\n            filteredOffenseDescriptionArr={filteredOffenseDescriptionArr}\n            loadedYears={loadedYears}\n            currentFilters={currentFilters}\n            filteredUniqueDates={filteredUniqueDates}\n            filteredTimelineAgeGroupData={filteredTimelineAgeGroupData}\n            filteredTimelineBoroughData={filteredTimelineBoroughData}\n            filteredTimelineCategoryData={filteredTimelineCategoryData}\n            filteredTimelineSexData={filteredTimelineSexData}\n            filteredTimelineRaceData={filteredTimelineRaceData}\n            uniqueValues={uniqueValues}\n          />\n        ) : null}\n      </div>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nrequire(\"dotenv\").config();\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}