(this["webpackJsonpnypd-arrest-map"]=this["webpackJsonpnypd-arrest-map"]||[]).push([[0],{141:function(e,t){},205:function(e,t,n){e.exports=n(334)},210:function(e,t,n){},212:function(e,t,n){},213:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},235:function(e,t,n){},265:function(e,t,n){},325:function(e,t,n){},326:function(e,t){},334:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),o=n(55),l=n.n(o),c=(n(210),n(1)),i=n(15),u=n(7),s=n(349),m=n(188),f=n(352),d=(n(212),n(213),n(175)),p=n(110),g=n(40),b=n(81),h=n.n(b),E=n(72),y=n(124),_=n.n(y),O=(n(232),n(233),n(234),n(135)),v=n(176),A=n(109),j=(n(235),n(150),function(e){var t=e.footerMenuActive,n=e.isMobileOrTablet;return r.a.createElement(A.a,{trigger:r.a.createElement("div",{className:"info_circle_container",style:{pointerEvents:n&&t?"none":"all"}},r.a.createElement(p.b,{color:"rgb(255, 255, 255)",style:{opacity:n&&t?.2:1,transition:"opacity 1s ease"},className:"info_button"})),modal:!0},(function(e){return r.a.createElement("div",{className:"modal"},r.a.createElement("button",{className:"close",onClick:e},"\xd7"),r.a.createElement("div",{className:"header"},"About NYPD Arrest Map"),r.a.createElement("div",{className:"content"},"NYPD Arrest Map is a data visualization and analysis tool that utilizes the"," ",r.a.createElement("a",{href:"https://data.cityofnewyork.us/Public-Safety/NYPD-Arrest-Data-Year-to-Date-/uip8-fykc",target:"_blank",rel:"noopener noreferrer"},"NYPD Arrest Data (Year to Date)")," ","NYC Open Data dataset. This dataset is updated quarterly and reviewed by the Office of Management Analysis and Planning before being posted on the New York Police Department website. The data reflected here will be updated shortly after such changes.",r.a.createElement("br",null),r.a.createElement("br",null),"Occasionally, arrests in the NYPD datasets will be erroneously attributed to one borough, while having the longitude and latitude of another. These have been corrected in the NYPD Arrest Map in favor of the arrest's geocoordinates.",r.a.createElement("br",null),r.a.createElement("br",null),'As stated by the NYPD, "each record represents an arrest effected in NYC by the NYPD and includes information about the type of crime, the location and time of enforcement. In addition, information related to suspect demographics is also included. This data can be used by the public to explore the nature of police enforcement activity."',r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"Have any questions? Comments? Contact me via e-mail or LinkedIn"),r.a.createElement("div",{className:"pop_up_icons_container"},r.a.createElement("a",{href:"https://github.com/amamenko/nypd-arrest-map-full-stack",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(O.a,{color:"#000"})),r.a.createElement("a",{href:"https://www.linkedin.com/in/avraham-mamenko-0599831b8/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement(O.b,{color:"#000"})),r.a.createElement("a",{href:"mailto:amamenko@hotmail.com?subject=Comment/Question About NYPD Arrest Map"},r.a.createElement(v.a,{color:"#000"})))))}))}),N=n(13),C=function(e){return{type:"CHANGE_CATEGORY_FILTER",category:e}},D=function(e){return{type:"CHANGE_OFFENSE_FILTER",offense:e}},R=function(e){return{type:"CHANGE_AGE_FILTER",age:e}},T=function(e){return{type:"CHANGE_RACE_FILTER",race:e}},S=function(e){return{type:"CHANGE_SEX_FILTER",sex:e}},k=function(e){return{type:"CHANGE_BOROUGH_FILTER",borough:e}},x=function(e){var t=e.loadData,n=e.raceUniqueValues,o=e.boroughUniqueValues,l=e.ageGroupData,c=e.offenseDescriptionUniqueValues,i=e.setFilters,s=e.changeLaddaLoading,m=e.laddaLoading,f=e.loadedYears,b=e.menuClicked,O=e.changeMenuClicked,v=e.collapseOpen,A=e.changeCollapseOpen,x=e.layersRef,M=e.isMobileOrTablet,L=e.footerMenuActive,w=e.isTablet,P=Object(N.b)(),G=Object(N.c)((function(e){return e.filteredDataChunksReducer.data})),F=Object(N.c)((function(e){return e.totalCountReducer.total})),B=Object(N.c)((function(e){return e.categoryFilterReducer.category})),U=Object(N.c)((function(e){return e.ageFilterReducer.age})),I=Object(N.c)((function(e){return e.yearFilterReducer.year})),V=Object(N.c)((function(e){return e.boroughFilterReducer.borough})),Y=Object(N.c)((function(e){return e.sexFilterReducer.sex})),q=Object(N.c)((function(e){return e.offenseFilterReducer.offense})),W=Object(N.c)((function(e){return e.raceFilterReducer.race})),z=Object(N.c)((function(e){return e.ageTimelineColumnsReducer.columns})),H=Object(N.c)((function(e){return e.boroughTimelineColumnsReducer.columns})),Q=Object(N.c)((function(e){return e.categoryTimelineColumnsReducer.columns})),J=Object(N.c)((function(e){return e.raceTimelineColumnsReducer.columns})),K=Object(N.c)((function(e){return e.sexTimelineColumnsReducer.columns})),Z=Object(a.useRef)(null),X=document.getElementsByClassName("bm-burger-button"),$=document.getElementsByClassName("mapboxgl-ctrl-bottom-left"),ee=document.getElementsByClassName("footer_menu_trigger"),te=document.getElementsByClassName("overview_tooltip"),ne=document.getElementsByClassName("map_details_tooltip_container"),ae=document.getElementsByClassName("overview_tooltip legend_tooltip"),re=Object(a.useState)(!0),oe=Object(u.a)(re,2),le=oe[0],ce=oe[1],ie=function(e){if(B.includes(e))P(C(B.filter((function(t){return t!==e}))));else{var t=B.slice();t.push(e),P(C(t))}},ue=function(e){if(Y.includes(e))P(S(Y.filter((function(t){return t!==e}))));else{var t=Y.slice();t.push(e),P(S(t))}};return Object(a.useEffect)((function(){M&&L?(X[0].style.opacity=.2,X[0].style.pointerEvents="none",X[0].style.transition="opacity 0.5s ease",te[0]&&ne[0]&&(te[0].style.setProperty("opacity",.4,"important"),te[0].style.setProperty("pointerEvents","none"),te[0].style.setProperty("transition","opacity 0.5s ease"),ne[0].style.setProperty("opacity",.4,"important"),ne[0].style.setProperty("pointerEvents","none"),ne[0].style.setProperty("transition","opacity 0.5s ease"))):(X[0].style.opacity=1,X[0].style.pointerEvents="all",X[0].style.transition="opacity 0.5s ease",te[0]&&ne[0]&&(te[0].style.setProperty("opacity",1,"important"),te[0].style.setProperty("pointerEvents","all"),te[0].style.setProperty("transition","opacity 0.5s ease"),ne[0].style.setProperty("opacity",1,"important"),ne[0].style.setProperty("pointerEvents","all"),ne[0].style.setProperty("transition","opacity 0.5s ease")))}),[L,X,M,ne,te]),Object(a.useEffect)((function(){if(M&&z&&z.length>0&&H&&H.length>0&&Q&&Q.length>0&&J&&J.length>0&&K&&K.length>0){var e=setTimeout((function(){le&&ce(!1)}),4e3);return function(){clearTimeout(e)}}}),[M,le,z,H,Q,J,K]),Object(a.useEffect)((function(){le||(te[0]&&ne[0]&&(te[0].style.setProperty("opacity",1,"important"),ne[0].style.setProperty("opacity",1,"important")),ae[0]&&ae[0].style.setProperty("opacity",1,"important"))}),[le,te,ne,ae]),Object(a.useEffect)((function(){M||(b?(te[0]&&ne[0]&&(te[0].style.setProperty("opacity",.3,"important"),ne[0].style.setProperty("opacity",.3,"important")),ae[0]&&ae[0].style.setProperty("opacity",.3,"important")):(te[0]&&ne[0]&&(te[0].style.setProperty("opacity",1,"important"),ne[0].style.setProperty("opacity",1,"important")),ae[0]&&ae[0].style.setProperty("opacity",1,"important")))}),[M,ae,b,ne,te]),r.a.createElement("div",{className:"navigation_bar_container"},r.a.createElement(E.a,{content:r.a.createElement("div",{className:"map_details_tooltip_container"},r.a.createElement("div",{className:"overview_tooltip_content",style:{minWidth:Z.current&&Z.current.clientWidth,maxWidth:Z.current&&Z.current.clientWidth}},r.a.createElement("p",{style:{color:"rgb(166, 166, 166)"}},"Data Last Updated: November 5, 2020"),r.a.createElement("p",null,"Showing Arrest Data for"," ",r.a.createElement("strong",null,f.sort().join(", "))),r.a.createElement("p",null,"Total Number of Arrests Shown: ",r.a.createElement("br",null),r.a.createElement("strong",null,G.flat().length.toLocaleString())," ","of ",r.a.createElement("strong",null,F.toLocaleString()))),M?w?null:r.a.createElement("div",{className:"map_legend_container",style:{minWidth:Z.current&&Z.current.clientWidth,maxWidth:Z.current&&Z.current.clientWidth}},r.a.createElement("p",null,"Map Legend"),r.a.createElement("div",{className:"map_legend_items_container"},r.a.createElement("div",{className:"map_legend_element"},r.a.createElement(g.c,{color:"rgb(255, 0, 0)"}),r.a.createElement("p",null,"Felony")),r.a.createElement("div",{className:"map_legend_element"},r.a.createElement(g.c,{color:"rgb(255, 116, 0)"}),r.a.createElement("p",null,"Misdemeanor")),r.a.createElement("div",{className:"map_legend_element"},r.a.createElement(g.c,{color:"rgb(255, 193, 0)"}),r.a.createElement("p",null,"Violation")))):null),visible:x.current.length>0&&!!z&&z.length>0&&!!H&&H.length>0&&!!Q&&Q.length>0&&!!J&&J.length>0&&!!K&&K.length>0,allowHTML:!0,reference:Z.current,className:"overview_tooltip"}),r.a.createElement(E.a,{content:r.a.createElement("div",{className:"map_legend_container",style:{minWidth:Z.current&&Z.current.clientWidth,maxWidth:Z.current&&Z.current.clientWidth}},r.a.createElement("p",null,"Map Legend"),r.a.createElement("div",{className:"map_legend_items_container"},r.a.createElement("div",{className:"map_legend_element"},r.a.createElement(g.c,{color:"rgb(255, 0, 0)"}),r.a.createElement("p",null,"Felony")),r.a.createElement("div",{className:"map_legend_element"},r.a.createElement(g.c,{color:"rgb(255, 116, 0)"}),r.a.createElement("p",null,"Misdemeanor")),r.a.createElement("div",{className:"map_legend_element"},r.a.createElement(g.c,{color:"rgb(255, 193, 0)"}),r.a.createElement("p",null,"Violation")))),visible:M?!!w&&(x.current.length>0&&!!z&&z.length>0&&!!H&&H.length>0&&!!Q&&Q.length>0&&!!J&&J.length>0&&!!K&&K.length>0):x.current.length>0&&!!z&&z.length>0&&!!H&&H.length>0&&!!Q&&Q.length>0&&!!J&&J.length>0&&!!K&&K.length>0,allowHTML:!0,reference:M?w?X[0]:ee[0]:$[0],className:"overview_tooltip legend_tooltip",placement:"top-start"}),r.a.createElement("div",{className:"nypd_arrest_map_logo_container",ref:Z},r.a.createElement("a",{href:"/"},r.a.createElement("p",null,"NYPD"),r.a.createElement("p",null,"Arrest"),r.a.createElement("p",null,"Map"))),r.a.createElement(E.a,{content:M?r.a.createElement("p",{style:{textAlign:"center"}},"Click here ",r.a.createElement("br",null),"to set ",r.a.createElement("br",null),"data filters"):"Click here to set data filters",duration:[null,500],arrow:!0,visible:le&&!!z&&z.length>0&&!!H&&H.length>0&&!!Q&&Q.length>0&&!!J&&J.length>0&&!!K&&K.length>0,reference:X[0],className:"burger_tooltip",placement:"bottom-end",onClickOutside:function(){return ce(!1)}}),r.a.createElement(j,{footerMenuActive:L,isMobileOrTablet:M}),r.a.createElement(d.slide,{right:!0,className:"navbar_nav_menu",customBurgerIcon:r.a.createElement(p.a,{color:"rgb(93, 188, 210)"}),onOpen:function(){b?O(!1):(O(!0),le&&ce(!1))},onClose:function(){return O(!1)},isOpen:b},r.a.createElement(h.a,{trigger:r.a.createElement("div",{className:"nav_item"},r.a.createElement("p",{className:"filter_identifier"},"Filter By Category"),r.a.createElement(g.d,{fill:"rgb(0, 109, 129)"})),onTriggerOpening:function(){return A("category")},onTriggerClosing:function(){return A("")},open:"category"===v,className:"nav_item"},r.a.createElement("div",{className:"nav_item_content_container"},r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{name:"my-checkbox",type:"checkbox",checked:B.includes("F"),onChange:function(){return ie("F")}}),"Felony")),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{name:"my-checkbox",type:"checkbox",checked:B.includes("M"),onChange:function(){return ie("M")}}),"Misdemeanor")),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{name:"my-checkbox",type:"checkbox",checked:B.includes("V"),onChange:function(){return ie("V")}}),"Violation")))),r.a.createElement(h.a,{trigger:r.a.createElement("div",{className:"nav_item"},r.a.createElement("p",{className:"filter_identifier"},"Filter By Offense"),r.a.createElement(g.d,{fill:"rgb(0, 109, 129)"})),onTriggerOpening:function(){return A("description")},onTriggerClosing:function(){return A("")},open:"description"===v,className:"nav_item"},r.a.createElement("div",{className:"nav_item_content_container"},c&&0!==c.length?c.map((function(e,t){return!e||e.includes("OTHER STATE LAWS")&&e.includes("(")?null:r.a.createElement("p",{key:t},r.a.createElement("label",null,r.a.createElement("input",{name:"my-checkbox",type:"checkbox",checked:q.includes(e),onChange:function(){return function(e){if(q.includes(e))P(D(q.filter((function(t){return t!==e}))));else{var t=q.slice();t.push(e),P(D(t))}}(e)}}),e.split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()})).join(" ").split("/").map((function(e){return e[0].toUpperCase()+e.slice(1,e.indexOf(" ")).toLowerCase()+e.slice(e.indexOf(" "))})).join("/")))})):null)),r.a.createElement(h.a,{trigger:r.a.createElement("div",{className:"nav_item"},r.a.createElement("p",{className:"filter_identifier"},"Filter By Age Group"),r.a.createElement(g.d,{fill:"rgb(0, 109, 129)"})),onTriggerOpening:function(){return A("age")},onTriggerClosing:function(){return A("")},open:"age"===v,className:"nav_item"},r.a.createElement("div",{className:"nav_item_content_container"},l?l.map((function(e,t){return r.a.createElement("p",{key:t},r.a.createElement("label",null,r.a.createElement("input",{name:"my-checkbox",type:"checkbox",checked:U.includes(e),onChange:function(){return function(e){if(U.includes(e))P(R(U.filter((function(t){return t!==e}))));else{var t=U.slice();t.push(e),P(R(t))}}(e)}}),"65"===e?"65+":e))})):null)),r.a.createElement(h.a,{trigger:r.a.createElement("div",{className:"nav_item"},r.a.createElement("p",{className:"filter_identifier"},"Filter By Race"),r.a.createElement(g.d,{fill:"rgb(0, 109, 129)"})),onTriggerOpening:function(){return A("race")},onTriggerClosing:function(){return A("")},open:"race"===v,className:"nav_item"},r.a.createElement("div",{className:"nav_item_content_container"},n?n.map((function(e,t){return e?r.a.createElement("p",{key:t},r.a.createElement("label",null,r.a.createElement("input",{name:"my-checkbox",type:"checkbox",checked:W.includes(e),onChange:function(){return function(e){if(W.includes(e))P(T(W.filter((function(t){return t!==e}))));else{var t=W.slice();t.push(e),P(T(t))}}(e)}}),e&&e.split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()})).join(" ").split("/").map((function(e){return e[0].toUpperCase()+e.slice(1,e.indexOf(" ")).toLowerCase()+e.slice(e.indexOf(" "))})).join("/"))):null})):null)),r.a.createElement(h.a,{trigger:r.a.createElement("div",{className:"nav_item"},r.a.createElement("p",{className:"filter_identifier"},"Filter By Sex"),r.a.createElement(g.d,{fill:"rgb(0, 109, 129)"})),onTriggerOpening:function(){return A("sex")},onTriggerClosing:function(){return A("")},open:"sex"===v,className:"nav_item"},r.a.createElement("div",{className:"nav_item_content_container"},r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{name:"my-checkbox",type:"checkbox",checked:Y.includes("F"),onChange:function(){return ue("F")}}),"Female")),r.a.createElement("p",null,r.a.createElement("label",null,r.a.createElement("input",{name:"my-checkbox",type:"checkbox",checked:Y.includes("M"),onChange:function(){return ue("M")}}),"Male")))),r.a.createElement(h.a,{trigger:r.a.createElement("div",{className:"nav_item"},r.a.createElement("p",{className:"filter_identifier"},"Filter By Borough"),r.a.createElement(g.d,{fill:"rgb(0, 109, 129)"})),onTriggerOpening:function(){return A("borough")},onTriggerClosing:function(){return A("")},open:"borough"===v,className:"nav_item"},r.a.createElement("div",{className:"nav_item_content_container"},o?o.map((function(e,t){return r.a.createElement("p",{key:t},r.a.createElement("label",null,r.a.createElement("input",{name:"my-checkbox",type:"checkbox",checked:V.includes(e),onChange:function(){return function(e){if(V.includes(e))P(k(V.filter((function(t){return t!==e}))));else{var t=V.slice();t.push(e),P(k(t))}}(e)}}),"B"===e?"Bronx":"Q"===e?"Queens":"M"===e?"Manhattan":"K"===e?"Brooklyn":"S"===e?"Staten Island":"Unknown"))})):null)),r.a.createElement("span",{className:"spacer"}),r.a.createElement(_.a,{loading:m,className:"apply_filters_button",onClick:function(){s(!0),i(I,B,q,U,W,Y,V,t,!1)},"data-color":"blue","data-size":y.XL,"data-style":y.EXPAND_LEFT,"data-spinner-size":30,"data-spinner-color":"#fff","data-spinner-lines":12},m?"APPLYING FILTERS":"APPLY FILTERS")))},M=n(179),L=n(180),w=n(138),P=n.n(w),G=(n(264),n(265),n(266),n(33)),F=n(34),B=n.n(F),U=function(e){var t=e.filteredArrestCategory,n=e.graphOption;return r.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{display:"overview"===n?"block":"none"}},r.a.createElement("p",{className:"bottom_info_section_title"},"Breakdown by Category"),r.a.createElement("div",{className:"bottom_info_pie_container"},r.a.createElement(G.a,{chartEvents:[{eventName:"select",callback:function(e){return e.chartWrapper.getChart().setSelection([])}}],chartType:"PieChart",loader:r.a.createElement(B.a,{size:100,color:"rgb(93, 188, 210)"}),data:t?[["Category","Number of Arrests"],["Felony",t.filter((function(e){return"F"===e})).length],["Misdemeanor",t.filter((function(e){return"M"===e})).length],["Violation",t.filter((function(e){return"F"!==e&&"M"!==e})).length]]:[],options:{backgroundColor:"transparent"}})))},I=function(e){var t=e.filteredAgeGroupData,n=e.filteredAgeGroup,a=e.graphOption;return r.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{display:"overview"===a?"block":"none"}},r.a.createElement("p",{className:"bottom_info_section_title"},"Breakdown by Age Group"),r.a.createElement("div",{className:"bottom_info_pie_container"},r.a.createElement(G.a,{chartType:"PieChart",chartEvents:[{eventName:"select",callback:function(e){return e.chartWrapper.getChart().setSelection([])}}],loader:r.a.createElement(B.a,{size:100,color:"rgb(93, 188, 210)"}),data:[["Age Group","Number of Arrests"]].concat(t.map((function(e){return["65"===e?"65+":e,n.filter((function(t){return t===e})).length]}))),options:{backgroundColor:"transparent"}})))},V=function(e){var t=e.filteredRaceUniqueValues,n=e.filteredRaceArr,a=e.graphOption;return r.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{display:"overview"===a?"block":"none"}},r.a.createElement("p",{className:"bottom_info_section_title"},"Breakdown by Race"),r.a.createElement("div",{className:"bottom_info_pie_container"},r.a.createElement(G.a,{chartEvents:[{eventName:"select",callback:function(e){return e.chartWrapper.getChart().setSelection([])}}],chartType:"PieChart",loader:r.a.createElement(B.a,{size:100,color:"rgb(93, 188, 210)"}),data:[["Race","Number of Arrests"]].concat(t.map((function(e){return[e?e.split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()})).join(" ").split("/").map((function(e){return e[0].toUpperCase()+e.slice(1,e.indexOf(" ")).toLowerCase()+e.slice(e.indexOf(" "))})).join("/"):null,n.filter((function(t){return t===e})).length]}))),options:{backgroundColor:"transparent"}})))},Y=function(e){var t=e.filteredSexUniqueValues,n=e.filteredSexArr,a=e.graphOption;return r.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{display:"overview"===a?"block":"none"}},r.a.createElement("p",{className:"bottom_info_section_title"},"Breakdown by Sex"),r.a.createElement("div",{className:"bottom_info_pie_container"},r.a.createElement(G.a,{chartType:"PieChart",chartEvents:[{eventName:"select",callback:function(e){return e.chartWrapper.getChart().setSelection([])}}],loader:r.a.createElement(B.a,{size:100,color:"rgb(93, 188, 210)"}),data:[["Sex","Number of Arrests"]].concat(t.map((function(e){return["M"===e?"Male":"Female",n.filter((function(t){return t===e})).length]}))),options:{backgroundColor:"transparent"}})))},q=function(e){var t=e.filteredBoroughUniqueValues,n=e.filteredBoroughArr,a=e.graphOption;return r.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{display:"overview"===a?"block":"none"}},r.a.createElement("p",{className:"bottom_info_section_title"},"Breakdown by Borough"),r.a.createElement("div",{className:"bottom_info_pie_container"},r.a.createElement(G.a,{chartType:"PieChart",chartEvents:[{eventName:"select",callback:function(e){return e.chartWrapper.getChart().setSelection([])}}],loader:r.a.createElement(B.a,{size:100,color:"rgb(93, 188, 210)"}),data:[["Borough","Number of Arrests"]].concat(t.map((function(e){return["B"===e?"Bronx":"Q"===e?"Queens":"M"===e?"Manhattan":"K"===e?"Brooklyn":"S"===e?"Staten Island":"Unknown",n.filter((function(t){return t===e})).length]}))),options:{backgroundColor:"transparent"}})))},W=function(e){var t=e.filteredOffenseDescriptionArr,n=e.filteredOffenseDescriptionUniqueValues,o=e.graphOption,l=e.isSame,c=e.usePrevious,i=e.isMobileOrTablet,s=e.isMediumLaptop,m=Object(a.useState)([]),f=Object(u.a)(m,2),d=f[0],p=f[1],g=c(t),b=c(n);return Object(a.useEffect)((function(){if(t&&t.length>0&&n.length>0&&(t!==g||n!==b)){var e=n.map((function(e){return[e,t.filter((function(t){return t===e})).length]})).sort((function(e,t){return e[1]>t[1]?1:-1}));l(e,d)||p(e)}}),[l,t,n,d,g,b]),r.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()},style:{display:"overview"===o?"block":"none"}},d.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"bottom_info_section_title"},"Top 5 Offenses"),r.a.createElement("div",{className:"bottom_info_pie_container"},r.a.createElement(G.a,{chartType:"BarChart",loader:r.a.createElement(B.a,{size:100,color:"rgb(93, 188, 210)"}),chartEvents:[{eventName:"select",callback:function(e){return e.chartWrapper.getChart().setSelection([])}}],data:[["Offense Description","Number of Arrests"]].concat(d.length>0?d.slice(d.length-5,d.length).sort((function(e,t){return e[1]>t[1]?-1:1})):["UNKNOWN",1]),options:{backgroundColor:"transparent",legend:{position:"none"},width:i?300:s?400:600,bar:i?null:{groupWidth:"95%"},chartArea:i?null:{width:"50%",height:"50%"}}}))):null)},z=function(e){var t=e.isMobileOrTablet,n=e.isMediumLaptop,a=Object(N.c)((function(e){return e.ageTimelineColumnsReducer.columns}));return r.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()}},r.a.createElement("p",{className:"bottom_info_section_title"},"Age Group Trends"),r.a.createElement("div",{className:"bottom_info_pie_container"},r.a.createElement(G.a,{legendToggle:!0,chartType:"LineChart",loader:r.a.createElement(B.a,{size:100,color:"rgb(93, 188, 210)"}),data:a,options:{backgroundColor:"transparent",width:t?300:n?400:500,chartArea:{width:"50%",height:"50%"},hAxis:{title:"Dates"},vAxis:{title:"# of Arrests"},explorer:{axis:"horizontal",keepInBounds:!0,maxZoomIn:.2}}})))},H=function(e){var t=e.isMobileOrTablet,n=e.isMediumLaptop,a=Object(N.c)((function(e){return e.boroughTimelineColumnsReducer.columns}));return r.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()}},r.a.createElement("p",{className:"bottom_info_section_title"},"Borough Trends"),r.a.createElement("div",{className:"bottom_info_pie_container"},r.a.createElement(G.a,{legendToggle:!0,chartType:"LineChart",loader:r.a.createElement(B.a,{size:100,color:"rgb(93, 188, 210)"}),data:a,options:{legendToggle:!0,backgroundColor:"transparent",width:t?300:n?400:500,chartArea:{width:"50%",height:"50%"},hAxis:{title:"Dates"},vAxis:{title:"# of Arrests"},explorer:{axis:"horizontal",keepInBounds:!0,maxZoomIn:.2}}})))},Q=function(e){var t=e.isMobileOrTablet,n=e.isMediumLaptop,a=Object(N.c)((function(e){return e.categoryTimelineColumnsReducer.columns}));return r.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()}},r.a.createElement("p",{className:"bottom_info_section_title"},"Category Trends"),r.a.createElement("div",{className:"bottom_info_pie_container category_timeline_container"},r.a.createElement(G.a,{legendToggle:!0,chartType:"LineChart",loader:r.a.createElement(B.a,{size:100,color:"rgb(93, 188, 210)"}),data:a,options:{legendToggle:!0,backgroundColor:"transparent",width:t?300:n?400:500,chartArea:{width:"50%",height:"50%"},hAxis:{title:"Dates"},vAxis:{title:"# of Arrests"},explorer:{axis:"horizontal",keepInBounds:!0,maxZoomIn:.2}}})))},J=function(e){var t=e.isMobileOrTablet,n=e.isMediumLaptop,a=Object(N.c)((function(e){return e.sexTimelineColumnsReducer.columns}));return r.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()}},r.a.createElement("p",{className:"bottom_info_section_title"},"Gender Trends"),r.a.createElement("div",{className:"bottom_info_pie_container"},r.a.createElement(G.a,{legendToggle:!0,chartType:"LineChart",loader:r.a.createElement(B.a,{size:100,color:"rgb(93, 188, 210)"}),data:a,options:{legendToggle:!0,backgroundColor:"transparent",width:t?300:n?400:500,chartArea:{width:"50%",height:"50%"},hAxis:{title:"Dates"},vAxis:{title:"# of Arrests"},explorer:{axis:"horizontal",keepInBounds:!0,maxZoomIn:.2}}})))},K=function(e){var t=e.isMobileOrTablet,n=e.isMediumLaptop,a=Object(N.c)((function(e){return e.raceTimelineColumnsReducer.columns}));return r.a.createElement("div",{className:"bottom_info_panel_info_box",onDragStart:function(e){return e.preventDefault()}},r.a.createElement("p",{className:"bottom_info_section_title"},"Race Trends"),r.a.createElement("div",{className:"bottom_info_pie_container"},r.a.createElement(G.a,{legendToggle:!0,chartType:"LineChart",loader:r.a.createElement(B.a,{size:100,color:"rgb(93, 188, 210)"}),data:a,options:{legendToggle:!0,backgroundColor:"transparent",width:t?300:n?400:500,chartArea:{width:"50%",height:"50%"},hAxis:{title:"Dates"},vAxis:{title:"# of Arrests"},explorer:{axis:"horizontal",keepInBounds:!0,maxZoomIn:.2}}})))},Z=n(125),X=function(e){var t=e.tooltipVisible,n=e.filteredAgeGroup,o=e.filteredRaceArr,l=e.filteredSexArr,c=e.filteredBoroughArr,i=e.filteredOffenseDescriptionArr,s=e.filteredArrestCategory,m=e.filteredUniqueCategory,f=e.filteredAgeGroupData,d=e.filteredRaceUniqueValues,p=e.filteredSexUniqueValues,b=e.filteredBoroughUniqueValues,h=e.filteredOffenseDescriptionUniqueValues,y=e.currentFilters,_=e.loadedYears,O=e.isSame,v=e.usePrevious,A=e.graphOption,j=e.changeGraphOption,C=e.layersRef,D=e.isMobileOrTablet,R=e.isMediumLaptop,T=e.footerMenuActive,S=e.changeFooterMenuActive,k=e.filteredTimelineAgeGroupData,x=e.filteredTimelineBoroughData,w=e.filteredTimelineCategoryData,G=e.filteredTimelineSexData,F=e.filteredTimelineRaceData,B=Object(N.c)((function(e){return e.loadDataChunksReducer.data})),X=Object(N.c)((function(e){return e.trendsAvailableReducer.available})),$=Object(N.c)((function(e){return e.ageTimelineColumnsReducer.columns})),ee=Object(N.c)((function(e){return e.boroughTimelineColumnsReducer.columns})),te=Object(N.c)((function(e){return e.categoryTimelineColumnsReducer.columns})),ne=Object(N.c)((function(e){return e.raceTimelineColumnsReducer.columns})),ae=Object(N.c)((function(e){return e.sexTimelineColumnsReducer.columns})),re=Object(a.useState)(!1),oe=Object(u.a)(re,2),le=oe[0],ce=oe[1],ie=Object(a.useState)(!D),ue=Object(u.a)(ie,2),se=ue[0],me=ue[1],fe=Object(a.useState)(!0),de=Object(u.a)(fe,2),pe=de[0],ge=de[1],be=Object(a.useRef)(null),he=Object(a.useRef)(null),Ee=document.getElementsByClassName("carousel_right_arrow"),ye=document.getElementsByClassName("alice-carousel"),_e=document.getElementsByClassName("overview_carousel"),Oe=document.getElementsByClassName("trends_carousel"),ve=document.getElementsByClassName("category_timeline_container"),Ae=document.getElementsByClassName("google-visualization-tooltip");Object(a.useEffect)((function(){if("trends"===A){var e=setInterval((function(){var e=Ae[0],t=document.getElementsByTagName("circle");if(e){for(var n=document.getElementsByClassName("alice-carousel__stage-item __active"),a=n[1].getElementsByTagName("path"),r=n[1].getElementsByTagName("text"),o=(a.length-2)/2,l=0;l<o;l++)if("none"===a.item(l).getAttribute("stroke")&&r.item(l).textContent.slice(0,4)===e.lastChild.firstChild.textContent.split(":")[0].slice(0,4)){e.style.display="none";for(var c=0;c<t.length;c++)t[c].style.display="none"}}else for(var i=0;i<t.length;i++)t[i].style.display="block"}),10);return function(){clearInterval(e)}}}),[Ae,A]),Object(a.useEffect)((function(){"overview"===A?he.current&&(he.current.style.display="none"):be.current&&(be.current.style.display="none")}),[A]),Object(a.useEffect)((function(){var e=document.getElementsByClassName("graph_options_container")[0].lastChild.lastChild;e.style.opacity=X?1:.7}),[X]),Object(a.useEffect)((function(){for(var e=0;e<ye.length;e++)0===e?ye[e].className.includes("overview_carousel")||(ye[e].className+=" overview_carousel"):ye[e].className.includes("trends_carousel")||(ye[e].className+=" trends_carousel")}),[ye]),Object(a.useEffect)((function(){"overview"===A?(_e[0].style.opacity=1,_e[0].style.zIndex=1,Oe[0].style.opacity=0,Oe[0].style.zIndex=-1):(_e[0].style.opacity=0,_e[0].style.opacity=-1,Oe[0].style.opacity=1,Oe[0].style.zIndex=1)}),[A,_e,Oe]);return r.a.createElement("div",{className:"bottom_info_panel_container",style:{zIndex:D?t?-1:10:t?-1:0,transform:D?T?"translate3d(0, 0, 0)":"translate3d(0, 100%, 0)":"none"}},r.a.createElement("div",{className:"shadow_overlay",onClick:function(){return S(!1)},style:{opacity:T?1:0,display:T?"block":"none"}}," "),r.a.createElement("div",{className:"footer_menu_trigger",onClick:function(){T?S(!1):(S(!0),le||(setTimeout((function(){me(!0)}),1800),ce(!0)))}},T?r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null)," BACK TO ARREST MAP"):r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,null)," VIEW GRAPHS AND TRENDS")),r.a.createElement("div",{className:"bottom_info_main_info_box"},r.a.createElement("div",{className:"filters_applied"},r.a.createElement("h2",null,"Filters Applied"),0!==y.year.length&&!O(_,Object.keys(B[0]))||0!==y.category.length||0!==y.offense.length||0!==y.age.length||0!==y.race.length||0!==y.sex.length||0!==y.borough.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("strong",null,0===y.year.length||y.year.length===_.length?null:1===y.year.length?"Year: ":"Years: "),0===y.year.length||y.year.length===_.length?null:y.year.join(", ")),r.a.createElement("p",null,r.a.createElement("strong",null,0===y.category.length?null:"Categor"+(y.category.length>1?"ies: ":"y: ")),0===y.category.length?null:y.category.map((function(e){return"F"===e?"Felony":"M"===e?"Misdemeanor":"Violation"})).join(", ")),r.a.createElement("p",null,r.a.createElement("strong",null,0===y.offense.length?null:"Offense"+(1===y.offense.length?": ":"s: ")),0===y.offense.length?null:y.offense.join(", ")),r.a.createElement("p",null,r.a.createElement("strong",null,0===y.age.length?null:"Age"+(1===y.age.length?": ":"s: ")),0===y.age.length?null:y.age.map((function(e){return"65"===e?"65+":e})).join(", ")),r.a.createElement("p",null,r.a.createElement("strong",null,0===y.race.length?null:"Race"+(1===y.race.length?": ":"s: ")),0===y.race.length?null:y.race.join(", ")),r.a.createElement("p",null,r.a.createElement("strong",null,0===y.sex.length?null:"Sex: "),0===y.sex.length?null:y.sex.map((function(e){return"M"===e?"Male":"Female"})).join(", ")),r.a.createElement("p",null,r.a.createElement("strong",null,0===y.borough.length?null:"Borough"+(1===y.borough.length?": ":"s: ")),0===y.borough.length?null:y.borough.map((function(e){return"B"===e?"Bronx":"Q"===e?"Queens":"M"===e?"Manhattan":"K"===e?"Brooklyn":"S"===e?"Staten Island":"Unknown"})).join(", "))):r.a.createElement("p",{className:"no_filters_applied_statement"},"No filters currently applied")),r.a.createElement("div",{className:"graph_options_container"},r.a.createElement("p",null,"Graph Options"),r.a.createElement(Z.RadioGroup,{onChange:function(e){return j(e)},horizontal:!0,value:A},r.a.createElement(Z.RadioButton,{rootColor:"rgb(140, 140, 140)",pointColor:"rgb(0, 0, 128)",value:"overview"},"Overview"),r.a.createElement(Z.RadioButton,{rootColor:"rgb(140, 140, 140)",pointColor:"rgb(0, 0, 128)",value:"trends",disabled:!X,disabledColor:"rgb(211, 211, 211)"},"Trends")))),r.a.createElement("div",{className:"carousel_container",onTouchStart:function(){"trends"===A&&(pe&&ge(!1),se&&me(!1))}},r.a.createElement(E.a,{content:"Click the left and right arrows to view more graphs",visible:D?T&&se&&C.current.length>0&&!!$&&$.length>0&&!!ee&&ee.length>0&&!!te&&te.length>0&&!!ne&&ne.length>0&&!!ae&&ae.length>0:se&&C.current.length>0&&!!$&&$.length>0&&!!ee&&ee.length>0&&!!te&&te.length>0&&!!ne&&ne.length>0&&!!ae&&ae.length>0,reference:Ee[0],className:"burger_tooltip",placement:"left",onClickOutside:function(){return me(!1)}}),r.a.createElement(g.a,{color:"rgb(0, 0, 0)",className:"carousel_left_arrow",onClick:function(){be.slidePrev(),he.slidePrev(),se&&me(!1)}}),r.a.createElement(P.a,{ref:function(e){return be=e},autoPlay:!1,fadeOutAnimation:!0,dotsDisabled:!0,buttonsDisabled:!0,mouseTrackingEnabled:!0,playButtonEnabled:!1,disableAutoPlayOnAction:!1,responsive:{0:{items:1},760:{items:2},1600:{items:3}},preservePosition:!0,items:[r.a.createElement(U,{key:"overview",filteredArrestCategory:s,graphOption:A}),r.a.createElement(I,{key:"overview",filteredAgeGroup:n,filteredAgeGroupData:f,graphOption:A}),r.a.createElement(V,{key:"overview",filteredRaceUniqueValues:d,filteredRaceArr:o,graphOption:A}),r.a.createElement(Y,{key:"overview",filteredSexUniqueValues:p,filteredSexArr:l,graphOption:A}),r.a.createElement(q,{key:"overview",filteredBoroughUniqueValues:b,filteredBoroughArr:c,graphOption:A}),r.a.createElement(W,{key:"overview",filteredOffenseDescriptionArr:i,filteredOffenseDescriptionUniqueValues:h,graphOption:A,isSame:O,usePrevious:v,isMobileOrTablet:D,isMediumLaptop:R})]}),r.a.createElement(E.a,{content:D?null:"Scroll to zoom in and out of trend graphs",visible:!D&&("trends"===A&&pe),reference:ve.length>2?ve[1]:ve[0],className:"burger_tooltip trend_tooltip",placement:"top",onClickOutside:function(){return ge(!1)}}),r.a.createElement(E.a,{content:"Toggle data lines by selecting legend items",visible:"trends"===A&&pe,reference:ve.length>2?ve[1]:ve[0],className:"burger_tooltip trend_tooltip",placement:D?"left":"right",offset:D?[-30,-180]:[0,50],onClickOutside:function(){return ge(!1)}}),r.a.createElement(P.a,{ref:function(e){return he=e},autoPlay:!1,dotsDisabled:!0,buttonsDisabled:!0,mouseTrackingEnabled:!1,playButtonEnabled:!1,disableAutoPlayOnAction:!1,touchMoveDefaultEvents:!1,responsive:{0:{items:1},760:{items:2},1600:{items:3}},preservePosition:!0,items:[r.a.createElement(Q,{key:"trends",filteredTimelineCategoryData:w,filteredArrestCategory:s,filteredUniqueCategory:m,isMobileOrTablet:D,isMediumLaptop:R}),r.a.createElement(z,{key:"trends",filteredAgeGroupData:f,filteredTimelineAgeGroupData:k,isMobileOrTablet:D,isMediumLaptop:R}),r.a.createElement(H,{key:"trends",filteredBoroughUniqueValues:b,filteredTimelineBoroughData:x,isMobileOrTablet:D,isMediumLaptop:R}),r.a.createElement(K,{key:"trends",filteredRaceUniqueValues:d,filteredTimelineRaceData:F,isMobileOrTablet:D,isMediumLaptop:R}),r.a.createElement(J,{key:"trends",filteredSexUniqueValues:p,filteredTimelineSexData:G,isMobileOrTablet:D,isMediumLaptop:R})]}),r.a.createElement(g.b,{color:"rgb(0, 0, 0)",className:"carousel_right_arrow",onClick:function(){be.slideNext(),he.slideNext(),se&&me(!1)}})))},$=n(126),ee=n.n($),te=n(181),ne=n.n(te),ae={2006:371932,2007:403229,2008:401526,2009:421314,2010:422320,2011:412856,2012:396278,2013:393807,2014:387725,2015:339468,2016:314862,2017:286223,2018:246772,2019:214616,2020:103375},re=n(182),oe=n(111),le=n(89),ce=n(114),ie=n(112),ue=n.n(ie),se=n(184),me=n.n(se),fe=n(83),de=(n(132),n(113));function pe(){var e=Object(oe.a)(["\n    display: block;\n    margin: 0 auto;\n  "]);return pe=function(){return e},e}var ge=function(e){var t=e.countUp,n=e.loaderColor,a=e.mapError,o=e.applyingFiltersProgressRef,l=Object(fe.css)(pe()),c=Object(N.c)((function(e){return e.filteredDataChunksReducer.data})),i=Object(N.c)((function(e){return e.totalCountReducer.total}));return r.a.createElement(de.a,{className:"loading_container"},0===i?r.a.createElement(ue.a,{css:l,size:50,color:n,style:{transition:"all 0.5s ease"},loading:""===c||"object"===typeof c&&c.flat().length<9e4}):t>95?r.a.createElement(me.a,{css:l,size:200,color:"rgb(93, 188, 210)",style:{transition:"all 0.5s ease"},loading:t>95}):r.a.createElement(le.a,{value:t,styles:Object(le.b)({strokeLinecap:"butt",trailColor:"#eee"})},r.a.createElement(ce.a,{color:"#fff",size:"4rem"}),r.a.createElement("div",{style:{fontSize:30,marginTop:20,color:"#fff"}},r.a.createElement("strong",null,t,"%"))),r.a.createElement("p",null,a?"Error Initializing NYPD Arrest Map":0===i?"Initializing NYPD Arrest Map":t>95?"Analyzing Arrest Data (".concat(o.current,"% Done)"):"Loading Most Recent Arrest Data"))},be=n(115),he=n.n(be),Ee=function(e){var t=e.modalActive,n=e.changeModalActive,o=e.loadedYears,l=Object(N.c)((function(e){return e.loadDataChunksReducer.data})),c=Object(N.c)((function(e){return e.filteredDataChunksReducer.data})),i=Object(a.useState)(0),s=Object(u.a)(i,2),m=s[0],f=s[1];return Object(a.useEffect)((function(){if(l[0][t.year.toString()]){var e=100*Number(l[0][t.year.toString()].map((function(e){return e.length})).reduce((function(e,t){return e+t}),0)/ae[t.year.toString()]).toFixed(1);100===m&&c.length===o.length?n({active:!1,year:null}):e&&e!==m&&f(e)}}),[l,t.year,n,m,c.length,o.length]),r.a.createElement(he.a,{isOpen:t.active,style:{content:{position:"fixed",zIndex:1e4,opacity:.99,height:"100%",backdropFilter:"blur(5px)",WebkitBackdropFilter:"blur(5px)",paddingBottom:"10%",borderRadius:"none",width:"100vw",top:"0",left:"0",right:"0",bottom:"0",border:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.5)"}}},r.a.createElement(le.a,{value:m,styles:Object(le.b)({strokeLinecap:"butt",trailColor:"#eee"})},r.a.createElement(ce.a,{color:"#fff",size:"4rem"}),r.a.createElement("div",{style:{fontSize:30,marginTop:20,color:"#fff"}},r.a.createElement("strong",null,m,"%"))),r.a.createElement("p",null,"Loading ",t.year," Arrest Data"))},ye=function(e,t){return{type:"LOAD_DATA_CHUNKS_ADD_TO_YEAR",data:e,year:t}},_e=function(e,t){return{type:"LOAD_DATA_CHUNKS_ADD_YEAR",data:e,year:t}},Oe=function(e,t){return{type:"FILTERED_DATA_CHUNKS_ADD_TO_YEAR",data:e,dataIndex:t}},ve=function(e){return{type:"FILTERED_DATA_CHUNKS_ADD_YEAR",data:e}},Ae=function(e){return{type:"ASSIGN_FILTERED_DATA_CHUNKS",data:e}},je=function(e){return{type:"INCREMENT_TOTAL_COUNT",dataLength:e}},Ne=function(e){return{type:"ASSIGN_LOAD_DATA",data:e}},Ce=function(e){return{type:"ASSIGN_FILTERED_DATA",data:e}},De=function(){return{type:"FILTERED_DATA_CHANGED"}},Re=function(){return{type:"FILTERED_DATA_CHANGED_RESET"}},Te=function(e){return{type:"TIMELINE_AGE_GROUP_GRAPH_DATA",data:e}},Se=function(e){return{type:"TIMELINE_BOROUGH_GRAPH_DATA",data:e}},ke=function(e){return{type:"TIMELINE_CATEGORY_GRAPH_DATA",data:e}},xe=function(e){return{type:"TIMELINE_GENDER_GRAPH_DATA",data:e}},Me=function(e){return{type:"TIMELINE_RACE_GRAPH_DATA",data:e}},Le=function(){return new Worker(n.p+"static/js/setFilterAndTimelineGraphWorkers.7f591846.worker.js")},we=function(e){return{type:"AGE_TIMELINE_COLUMNS",columns:e}},Pe=function(e){return{type:"BOROUGH_TIMELINE_COLUMNS",columns:e}},Ge=function(e){return{type:"CATEGORY_TIMELINE_COLUMNS",columns:e}},Fe=function(e){return{type:"SEX_TIMELINE_COLUMNS",columns:e}},Be=function(e){return{type:"RACE_TIMELINE_COLUMNS",columns:e}},Ue=function(e){return{type:"CHANGE_YEAR_FILTER",year:e}},Ie=function(){return{type:"APPLYING_FILTERS"}},Ve=function(){return{type:"APPLYING_FILTERS_RESET"}};n(325);function Ye(){var e=Object(oe.a)(["\n    display: block;\n    margin: 0 auto;\n  "]);return Ye=function(){return e},e}var qe=function(e){var t=e.applyingFiltersProgressRef,n=Object(a.useRef)(null),o=Object(fe.css)(Ye()),l=Object(N.c)((function(e){return e.applyingFiltersReducer.filters}));return Object(a.useEffect)((function(){n&&n.current&&(l?n.current.open():n.current.close())}),[l]),r.a.createElement(A.a,{className:"applying_filters",ref:n,modal:!0,closeOnDocumentClick:!1,closeOnEscape:!1},r.a.createElement("div",{className:"applying_filters_modal"},r.a.createElement(ue.a,{css:o,size:40,color:"rgb(0, 109, 129)",style:{transition:"all 0.5s ease"},loading:!0}),r.a.createElement("p",null,"Applying Filters (",t.current,"% Done)")))},We=function(){return{type:"NEW_YEAR_FINISHED_LOADING_RESET"}},ze=function(){return{type:"NEW_YEAR_FINISHED_LOADING"}},He=function(){return{type:"TRENDS_AVAILABLE"}},Qe=function(){return{type:"TRENDS_NOT_AVAILABLE"}},Je=n(100),Ke=n(187);ee.a.extend(ne.a);var Ze=function(){var e=Object(N.b)(),t=Object(N.c)((function(e){return e.loadDataReducer.data})),n=Object(N.c)((function(e){return e.filteredDataReducer.data})),o=Object(N.c)((function(e){return e.filteredDataReducer.changed})),l=Object(N.c)((function(e){return e.filteredDataChunksReducer.data})),d=Object(N.c)((function(e){return e.newYearFinishedLoadingReducer.finished})),p=Object(N.c)((function(e){return e.loadDataChunksReducer.data})),g=Object(N.c)((function(e){return e.totalCountReducer.total})),b=Object(N.c)((function(e){return e.ageGroupTimelineGraphDataReducer.data})),h=Object(N.c)((function(e){return e.boroughTimelineGraphDataReducer.data})),E=Object(N.c)((function(e){return e.categoryTimelineGraphDataReducer.data})),y=Object(N.c)((function(e){return e.genderTimelineGraphDataReducer.data})),_=Object(N.c)((function(e){return e.raceTimelineGraphDataReducer.data})),O=Object(N.c)((function(e){return e.ageTimelineColumnsReducer.columns})),v=Object(N.c)((function(e){return e.boroughTimelineColumnsReducer.columns})),A=Object(N.c)((function(e){return e.categoryTimelineColumnsReducer.columns})),j=Object(N.c)((function(e){return e.raceTimelineColumnsReducer.columns})),M=Object(N.c)((function(e){return e.sexTimelineColumnsReducer.columns})),L=Object(a.useState)(!1),w=Object(u.a)(L,2),P=w[0],G=w[1],F=Object(a.useState)(!1),B=Object(u.a)(F,2),U=B[0],I=B[1],V=Object(a.useState)("rgb(93, 188, 210)"),Y=Object(u.a)(V,2),q=Y[0],W=Y[1],z=Object(a.useState)(!1),H=Object(u.a)(z,2),Q=H[0],J=H[1],K=Object(a.useState)({active:!1,year:null}),Z=Object(u.a)(K,2),$=Z[0],te=Z[1],ne=Object(a.useState)(!1),oe=Object(u.a)(ne,2),le=oe[0],ce=oe[1],ie=Object(a.useState)(!1),ue=Object(u.a)(ie,2),se=ue[0],me=ue[1],fe=Object(a.useState)("overview"),pe=Object(u.a)(fe,2),be=pe[0],Ye=pe[1],Ze=Object(a.useState)(!1),Xe=Object(u.a)(Ze,2),$e=Xe[0],et=Xe[1],tt=Object(a.useState)({year:[],category:[],offense:[],age:[],race:[],sex:[],borough:[]}),nt=Object(u.a)(tt,2),at=nt[0],rt=nt[1],ot=Object(Je.useMediaQuery)({maxWidth:1224}),lt=Object(Je.useMediaQuery)({minWidth:768}),ct=Object(Je.useMediaQuery)({maxWidth:1440}),it=Object(Je.useMediaQuery)({orientation:"portrait"}),ut=Object(a.useState)(!1),st=Object(u.a)(ut,2),mt=st[0],ft=st[1],dt=Object(a.useState)([]),pt=Object(u.a)(dt,2),gt=pt[0],bt=pt[1],ht=Object(a.useState)(""),Et=Object(u.a)(ht,2),yt=Et[0],_t=Et[1],Ot=Object(a.useState)(""),vt=Object(u.a)(Ot,2),At=vt[0],jt=vt[1],Nt=Object(a.useState)(""),Ct=Object(u.a)(Nt,2),Dt=Ct[0],Rt=Ct[1],Tt=Object(a.useState)(""),St=Object(u.a)(Tt,2),kt=St[0],xt=St[1],Mt=Object(a.useState)(""),Lt=Object(u.a)(Mt,2),wt=Lt[0],Pt=Lt[1],Gt=Object(a.useState)(!1),Ft=Object(u.a)(Gt,2),Bt=Ft[0],Ut=Ft[1],It=Object(a.useState)(!1),Vt=Object(u.a)(It,2),Yt=Vt[0],qt=Vt[1],Wt=Object(a.useState)(""),zt=Object(u.a)(Wt,2),Ht=zt[0],Qt=zt[1],Jt=Object(a.useRef)([]),Kt=Object(a.useRef)(0),Zt=Object(a.useRef)(null);Object(a.useEffect)((function(){he.a.setAppElement("body")}),[]);var Xt=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){t.current=e})),t.current},$t=Xt(at),en=p[0]?Object.keys(p[0]).map((function(e){return Number(e)})):[],tn=Object(re.useCountUp)({start:0,end:p[0]&&p[0][2020]?100*Number((p[0][2020].map((function(e){return e.length})).reduce((function(e,t){return e+t}),0)/ae[2020]).toFixed(1)):0,delay:0,duration:1}),nn=tn.countUp,an=tn.update;Object(a.useEffect)((function(){if(p[0]&&p[0][2020]){var e=100*Number((p[0][2020].map((function(e){return e.length})).reduce((function(e,t){return e+t}),0)/ae[2020]).toFixed(1));an(e>=60?100:e)}}),[an,nn,p]);var rn=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},on=Object(a.useState)([]),ln=Object(u.a)(on,2),cn=ln[0],un=ln[1],sn=Object(a.useState)([]),mn=Object(u.a)(sn,2),fn=mn[0],dn=mn[1],pn=Object(a.useState)([]),gn=Object(u.a)(pn,2),bn=gn[0],hn=gn[1],En=Object(a.useState)([]),yn=Object(u.a)(En,2),_n=yn[0],On=yn[1],vn=Object(a.useState)([]),An=Object(u.a)(vn,2),jn=An[0],Nn=An[1],Cn=Object(a.useState)([]),Dn=Object(u.a)(Cn,2),Rn=Dn[0],Tn=Dn[1],Sn=Object(a.useState)([]),kn=Object(u.a)(Sn,2),xn=kn[0],Mn=kn[1],Ln=Object(a.useState)([]),wn=Object(u.a)(Ln,2),Pn=wn[0],Gn=wn[1],Fn=Object(a.useState)([]),Bn=Object(u.a)(Fn,2),Un=Bn[0],In=Bn[1],Vn=Object(a.useState)([]),Yn=Object(u.a)(Vn,2),qn=Yn[0],Wn=Yn[1],zn=Object(a.useState)([]),Hn=Object(u.a)(zn,2),Qn=Hn[0],Jn=Hn[1],Kn=Object(a.useState)([]),Zn=Object(u.a)(Kn,2),Xn=Zn[0],$n=Zn[1],ea=Object(a.useState)([]),ta=Object(u.a)(ea,2),na=ta[0],aa=ta[1],ra=Object(a.useState)([]),oa=Object(u.a)(ra,2),la=oa[0],ca=oa[1],ia=Object(a.useState)([]),ua=Object(u.a)(ia,2),sa=ua[0],ma=ua[1],fa=Object(a.useState)([]),da=Object(u.a)(fa,2),pa=da[0],ga=da[1],ba=Object(a.useCallback)((function(t,n,a,r,o){wt&&(wt.postMessage({ageObj:t,raceObj:n,categoryObj:a,sexObj:r,boroughObj:o}),wt.onmessage=function(t){Kt.current+=25;var n=t.data.ageGroupTimelineGraphData,a=t.data.raceTimelineGraphData,r=t.data.categoryTimelineGraphData,o=t.data.genderTimelineGraphData,l=t.data.boroughTimelineGraphData;e(Te(n)),e(Se(l)),e(ke(r)),e(xe(o)),e(Me(a)),e(Ve())})}),[wt,e]),ha=Object(a.useCallback)((function(e,t,n,a,r,o,l,c,i){Dt&&(Dt.postMessage({ageGroup:e,raceArr:t,boroughArr:n,offenseDescriptionArr:a,filteredAgeGroup:r,filteredSexArr:o,filteredRaceArr:l,filteredBoroughArr:c,filteredOffenseDescriptionArr:i}),Dt.onmessage=function(e){Kt.current+=25;var t=JSON.parse(e.data),n=t.ageGroupData,a=t.raceUniqueValues,r=t.boroughUniqueValues,o=t.offenseDescriptionArr,l=t.filteredAgeGroupData,c=t.filteredSexUniqueValues,i=t.filteredRaceUniqueValues,u=t.filteredBoroughUniqueValues,s=t.filteredOffenseDescriptionUniqueValues;Aa(l),Da(i),ka(c),wa(u),Ba(s),Ya(n),Ha(a),Za(r),tr(o),me(!0)})}),[Dt]),Ea=Object(a.useCallback)((function(e,t,n,a){At&&(At.postMessage({loadData:e,filteredData:t,filteredDataChunks:n,currentFilters:a}),At.onmessage=function(e){Kt.current+=25;var t=JSON.parse(e.data),n=t.ageGroup,a=t.raceArr,r=t.boroughArr,o=t.offenseDescriptionArr,l=t.filteredArrestCategory,c=t.filteredAgeGroup,i=t.filteredSexArr,u=t.filteredRaceArr,s=t.filteredBoroughArr,m=t.filteredOffenseDescriptionArr,f=t.filteredUniqueCategory;ha(n,a,r,o,c,i,u,s,m),un(n),dn(a),hn(r),On(o),Nn(l),Tn(c),Mn(i),Gn(u),In(s),Wn(m),Jn(f)})}),[At,ha]),ya=Object(a.useCallback)((function(e){kt&&(kt.postMessage({chunk:e}),kt.onmessage=function(e){Kt.current+=25;var t=JSON.parse(e.data),n=t.age_group,a=t.borough,r=t.category,o=t.sex,l=t.race;$n(n),aa(a),ca(r),ma(o),ga(l)})}),[kt]),_a=Object(a.useState)([]),Oa=Object(u.a)(_a,2),va=Oa[0],Aa=Oa[1],ja=Object(a.useState)([]),Na=Object(u.a)(ja,2),Ca=Na[0],Da=Na[1],Ra=Object(a.useState)([]),Ta=Object(u.a)(Ra,2),Sa=Ta[0],ka=Ta[1],xa=Object(a.useState)([]),Ma=Object(u.a)(xa,2),La=Ma[0],wa=Ma[1],Pa=Object(a.useState)([]),Ga=Object(u.a)(Pa,2),Fa=Ga[0],Ba=Ga[1],Ua=Object(a.useState)([]),Ia=Object(u.a)(Ua,2),Va=Ia[0],Ya=Ia[1],qa=Object(a.useState)([]),Wa=Object(u.a)(qa,2),za=Wa[0],Ha=Wa[1],Qa=Object(a.useState)([]),Ja=Object(u.a)(Qa,2),Ka=Ja[0],Za=Ja[1],Xa=Object(a.useState)([]),$a=Object(u.a)(Xa,2),er=$a[0],tr=$a[1];Object(a.useEffect)((function(){se&&(me(!1),ba({unique:va,data:Xn},{unique:Ca,data:pa},{unique:Qn,data:la},{unique:Sa,data:sa},{unique:La,data:na}))}),[E.length,va,La,Ca,Sa,Xn,na,la,pa,sa,Qn,ba,se]);var nr=Object(a.useCallback)((function(){0!==Kt.current&&(Kt.current=0);var e=l.map((function(e){return Number(ee()(e[5].ARREST_DATE,"MM/DD/YYYY").format("YYYY"))}));Jt.current=l.map((function(t,n){var a=ee()(t[5].ARREST_DATE,"MM/DD/YYYY").format("YYYY");return new f.a({id:"chunk-".concat(n),data:t,visible:e.flat().includes(Number(a)),filled:!0,radiusMinPixels:2,getPosition:function(e){return[Number(e.Longitude),Number(e.Latitude)]},getFillColor:function(e){return"F"===e.LAW_CAT_CD?[255,0,0]:"M"===e.LAW_CAT_CD?[255,116,0]:[255,193,0]},pickable:!0,useDevicePixels:!1,parameters:{depthTest:!1,depthRange:[0,1]}})}))}),[l]);Object(a.useEffect)((function(){var n=en.map((function(e){return ae[e]})).reduce((function(e,t){return e+t}),0);d&&(e(We()),g===n&&t.length===n&&(1===en.length?e(Ce(t)):e(Ce("loadData")),e(De())))}),[d,t,e,en,g]),Object(a.useEffect)((function(){o||le&&ce(!1)}),[o,le]),Object(a.useEffect)((function(){var a=en.map((function(e){return ae[e]})).reduce((function(e,t){return e+t}),0);g>0&&g===a&&o&&(le||(nr(),Ea(t,n,l,at),ya(l),e(Re())),ce(!0))}),[t,le,at,o,nr,cn,bn,Rn,Un,n,qn,Pn,xn,_n,Ea,fn,e,l,ya,Qn,la,en,g]);var ar=Xt(b),rr=Xt(h),or=Xt(E),lr=Xt(y),cr=Xt(_);Object(a.useEffect)((function(){if(b!==ar&&b.length>0&&va.length===b[0].length-1&&e(we([[{type:"date",label:"Date"}].concat(va.map((function(e){return"65"===e?"65+":e})))].concat(b))),h!==rr&&h.length>0&&La.length===h[0].length-1&&e(Pe([[{type:"date",label:"Date"}].concat(La.map((function(e){return"B"===e?"Bronx":"Q"===e?"Queens":"M"===e?"Manhattan":"K"===e?"Brooklyn":"S"===e?"Staten Island":"Unknown"})))].concat(h))),E!==or&&E.length>0&&Qn.length>0){var t=Object(i.a)(new Set(Qn.map((function(e){return"F"===e?"Felony":"M"===e?"Misdemeanor":"Violation"}))));t.length===E[0].length-1&&e(Ge([[{type:"date",label:"Date"}].concat(t)].concat(E)))}if(y!==lr&&y.length>0){var n=Sa.map((function(e){return"F"===e?"Female":"Male"}));n.length===y[0].length-1&&e(Fe([[{type:"date",label:"Date"}].concat(n)].concat(y)))}if(_!==cr&&_.length>0){var a=Ca.map((function(e){return e.split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()})).join(" ").split("/").map((function(e){return e[0].toUpperCase()+e.slice(1,e.indexOf(" ")).toLowerCase()+e.slice(e.indexOf(" "))})).join("/")}));a.length===_[0].length-1&&e(Be([[{type:"date",label:"Date"}].concat(a)].concat(_))),e(He())}}),[b,h,E,e,va,y,ar,rr,or,lr,cr,_,La,Qn,Ca,Sa]),Object(a.useEffect)((function(){if(Q)W("rgb(255, 0, 0)");else for(var e=function(){var e=setInterval((function(){W("rgb(93, 188, 210)"===q?"rgb(255, 255, 255)":"rgb(255, 255, 255)"===q?"#f9c124":"rgb(93, 188, 210)")}),500);return{v:function(){clearInterval(e)}}};0===g;){var t=e();if("object"===typeof t)return t.v}}),[g,q,Q]);var ir=Object(a.useCallback)((function(e,t,n){var a=document.getElementsByClassName("deck-tooltip")[0];if(e){U||(I(!0),document.addEventListener("touchstart",(function(){return a.style.opacity=0})));var r=e.ARREST_DATE,o=e.LAW_CAT_CD,l=e.OFNS_DESC,c=e.PD_DESC,i=e.AGE_GROUP,u=e.PERP_SEX,s=e.PERP_RACE;a.innerHTML="\n<p><strong>Date of Arrest:</strong> ".concat(r,"</p>\n<p><strong>Category:</strong> ").concat("F"===o?"Felony":"M"===o?"Misdemeanor":"Violation","</p>\n<p><strong>Offense:</strong> ").concat(l,"</p>\n<p><strong>Offense Description:</strong> ").concat(c,"</p>\n<p><strong>Perpetrator's Age Group:</strong> ").concat(i,"</p>\n<p><strong>Perpetrator's Sex:</strong> ").concat("M"===u?"Male":"Female","</p>\n<p><strong>Perpetrator's Race:</strong> ").concat(s.toLowerCase().split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" "),"</p>\n"),a.style.display="inline-block",a.style.background="#000",a.style.color="rgb(235, 235, 235)",a.style.fontSize="1rem",a.style.overflowWrap="break-word",a.style.lineHeight="1rem",a.style.maxWidth="10rem",a.style.opacity=.9,a.style.left=t+"px",a.style.top=n+"px"}else U&&I(!1),a.style.opacity=0}),[U]),ur=Object(a.useCallback)((function(t,n,a,r){var o=t.year;a?(e(_e(t.data,o)),e(ve(t.data)),e(Ne(t.data))):(r&&e(ze()),e(ye(t.data,o)),e(Oe(t.data,n)),e(Ne(t.data)))}),[e]),sr=Object(a.useCallback)((function(t,n){yt&&(yt.postMessage(t),yt.onmessage=function(t){var a=JSON.parse(t.data),r=JSON.parse(a.data),o=r.chunkArr,l=r.firstMessage,c=r.lastMessage;e(je(o.length)),ur({year:a.year,data:o},n,l,c)})}),[ur,yt,e]),mr=function(t,n,a,r,o,l,c,i,u){wt&&(0!==Kt.current&&(Kt.current=0),"trends"===be&&Ye("overview"),Qt(""),qt(!1),e(Qe()),wt.postMessage({year:t,category:n,offense:a,age:r,race:o,sex:l,borough:c,suppliedData:i}),u||e(Ie()),wt.onmessage=function(i){var s=i.data.assignFilteredData,m=i.data.assignFilteredDataFlat;s&&m&&(e(Ae(s)),e(Ce(m)),rt({year:t,category:n,offense:a,age:r,race:o,sex:l,borough:c}),u||e(De()))},setTimeout((function(){return ft(!1)}),1e3))};Object(a.useEffect)((function(){at&&$t&&(rn(Object.values(at),Object.values($t))||nr())}),[at,$t,nr,e,l]);return Object(a.useEffect)((function(){if(!At){var e=URL.createObjectURL(new Blob(["(",function(){onmessage=function(e){var t=e.data,n=t.loadData,a=t.filteredData,r=t.filteredDataChunks,o=t.currentFilters,l=function(e,t,n){return e!==t&&(!o[n]||(!(o[n].length>0)||o[n].includes(e)))},c=function(e,t,n){return e.reduce((function(e,a){var r=a[t];return l(r,n)&&e.push(r),e}),[])},u=function(e,t){return e.reduce((function(e,n){var a,r="K"===(a=n)[t]&&Number(a.Latitude)>40.73912?"B":"M"===a[t]&&Number(a.Longitude)>-73.920961&&Number(a.Latitude)<40.800709?"Q":"B"===a[t]&&Number(a.Latitude)<40.697465?"K":"Q"===a[t]&&Number(a.Longitude)<-73.962745?"M":"Q"===a[t]&&Number(a.Longitude)<-73.878559&&Number(a.Latitude)>40.787907?"B":a[t];return l(r)&&e.push(r),e}),[])};postMessage(JSON.stringify({ageGroup:c(n,"AGE_GROUP"),raceArr:c(n,"PERP_RACE"),boroughArr:u(n,"ARREST_BORO"),offenseDescriptionArr:c(n,"OFNS_DESC"),filteredArrestCategory:c(a,"LAW_CAT_CD","category"),filteredAgeGroup:c(a,"AGE_GROUP","age"),filteredSexArr:c(a,"PERP_SEX","sex"),filteredRaceArr:c(a,"PERP_RACE","race"),filteredBoroughArr:u(a,"ARREST_BORO"),filteredOffenseDescriptionArr:c(a,"OFNS_DESC","offense"),filteredUniqueCategory:function(e,t){var n=r.map((function(t){var n=t[5][e];return Number(n.substring(n.length-4,n.length))}));return r.map((function(a,r){return Object(i.a)(new Set(a.reduce((function(a,c){var i,u,s=c[e];return"category"===t?l(s,e,t)&&a.push(s):(i=r,u=t,s===e||!o[u]||o[u].length>0&&!o[u].includes(n[i])||a.push(s)),a}),[])))})).flat()}("LAW_CAT_CD","category")}))}}.toString(),")()"],{type:"application/javascript"})),t=new Worker(e);jt(t)}}),[At]),Object(a.useEffect)((function(){if(!kt){var e=URL.createObjectURL(new Blob(["(",function(){onmessage=function(e){var t=e.data.chunk,n=function(e,n){return t.map((function(t){return t.reduce((function(t,a){var r,o=(r=a,Object(c.a)({date:r.ARREST_DATE},e,"category"===e?"F"===r[n]?"Felony":"M"===r[n]?"Misdemeanor":"Violation":"sex"===e?"F"===r[n]?"Female":"Male":r[n]));return function(t){return"ARREST_DATE"!==t.date&&t[e]!==n}(o)&&t.push(o),t}),[])}))};postMessage(JSON.stringify({age_group:n("age_group","AGE_GROUP"),borough:n("borough","ARREST_BORO"),category:n("category","LAW_CAT_CD"),sex:n("sex","PERP_SEX"),race:n("race","PERP_RACE")}))}}.toString(),")()"],{type:"application/javascript"})),t=new Worker(e);xt(t)}}),[kt]),Object(a.useEffect)((function(){if(!wt){var e=new Le;Pt(e)}}),[wt]),Object(a.useEffect)((function(){if(!Dt){var e=URL.createObjectURL(new Blob(["(",function(){onmessage=function(e){var t=function(e){return/\d/.test(e)},n=e.data,a=n.ageGroup,r=n.raceArr,o=n.boroughArr,l=n.offenseDescriptionArr,c=n.filteredAgeGroup,u=n.filteredSexArr,s=n.filteredRaceArr,m=n.filteredBoroughArr,f=n.filteredOffenseDescriptionArr,d=function(e,n,a){return a?Object(i.a)(new Set(a)).filter((function(e){return e!==n})).sort((function(n,a){return"filteredAgeGroupData"===e||"ageGroupData"===e?(t(n)?Number(n.split("<"===n[0]?"<":"-")["<"===n[0]?1:0]):null)-(t(a)?Number(a.split("<"===a[0]?"<":"-")["<"===a[0]?1:0]):null):n-a})):[]};postMessage(JSON.stringify({ageGroupData:d("ageGroupData","AGE_GROUP",a),raceUniqueValues:d("raceUniqueValues","PERP_RACE",r),boroughUniqueValues:d("boroughUniqueValues","ARREST_BORO",o),offenseDescriptionArr:d("offenseDescriptionArr","OFNS_DESC",l),filteredAgeGroupData:d("filteredAgeGroupData","AGE_GROUP",c),filteredSexUniqueValues:d("filteredSexUniqueValues","PERP_SEX",u),filteredRaceUniqueValues:d("filteredRaceUniqueValues","PERP_RACE",s),filteredBoroughUniqueValues:d("filteredBoroughUniqueValues","ARREST_BORO",m),filteredOffenseDescriptionUniqueValues:d("filteredOffenseDescriptionUniqueValues","OFNS_DESC",f)}))}}.toString(),")()"],{type:"application/javascript"})),t=new Worker(e);Rt(t)}}),[Dt]),Object(a.useEffect)((function(){if(!yt){var e=URL.createObjectURL(new Blob(["(",function(){var e=new WebSocket("ws://localhost:4000");e=new WebSocket("wss://nypd-arrest-map.herokuapp.com:4000"),onmessage=function(t){var n=t.data;1===e.readyState&&e.send(n),e.onopen=function(){setInterval((function(){e.send(".")}),55e3),e.send(n)},e.onmessage=function(e){var t=e.data;t&&postMessage(JSON.stringify({year:n,data:t}))}}}.toString(),")()"],{type:"application/javascript"})),t=new Worker(e);_t(t)}}),[yt]),Object(a.useEffect)((function(){yt&&(en.includes(2020)?gt.length>0&&!p[0][gt[0]]&&(sr(gt[0],l.length),bt([])):0===gt.length&&(ot?it&&(bt([2020]),sr(2020,l.length)):(bt([2020]),sr(2020,l.length))))}),[yt,sr,en,gt,p,l.length,it,ot]),Object(a.useEffect)((function(){g>9e4&&O&&v&&A&&j&&M&&O.length>0&&v.length>0&&A.length>0&&j.length>0&&M.length>0&&(Bt||Ut(!0))}),[g,Bt,O,v,A,j,M]),r.a.createElement("div",null,r.a.createElement("div",{className:"mobile_landscape_block",style:{display:ot?it?"none":"flex":"none"}},r.a.createElement(Ke.a,null),r.a.createElement("p",null,"NYPD Arrest Map is available only for desktop mode or mobile portrait mode.")),0!==Jt.current.length&&O&&0!==O.length&&v&&0!==v.length&&A&&0!==A.length&&j&&0!==j.length&&M&&0!==M.length?null:r.a.createElement(ge,{countUp:nn,loaderColor:q,mapError:Q,applyingFiltersProgressRef:Kt}),$.active&&$.year?r.a.createElement(Ee,{modalActive:$,changeModalActive:te,loadedYears:en}):null,r.a.createElement(de.a,{className:"nypd_arrest_map_container",style:{opacity:0!==Jt.current.length&&O&&0!==O.length&&v&&0!==v.length&&A&&0!==A.length&&j&&0!==j.length&&M&&0!==M.length?1:0}},r.a.createElement(x,{loadData:t,raceUniqueValues:za,boroughUniqueValues:Ka,offenseDescriptionUniqueValues:er,ageGroupData:Va,setFilters:mr,loadedYears:en,changeLaddaLoading:ft,laddaLoading:mt,handleDownloadYear:function(n){var a=[].concat(Object(i.a)(en),[n]);"trends"===be&&Ye("overview"),e(Ue(a)),e(C([])),e(D([])),e(T([])),e(R([])),e(S([])),e(k([])),e(Qe()),mr(a,[],[],[],[],[],[],t,!0),te({active:!0,year:n}),bt([n]),Qt(""),qt(!1)},menuClicked:Yt,changeMenuClicked:qt,collapseOpen:Ht,changeCollapseOpen:Qt,layersRef:Jt,footerMenuActive:$e,isMobileOrTablet:ot,isTablet:lt}),r.a.createElement(s.a,{initialViewState:{longitude:-73.935242,latitude:40.73061,zoom:window.innerWidth<1200?9:11,minZoom:9,pitch:0,bearing:0},ref:Zt,layers:Jt.current,pickingRadius:10,controller:!0,onLoad:function(){return G(!0)},onError:function(){return J(!0)},onHover:function(e){var t=e.object,n=e.x,a=e.y;return ir(t,n,a)},useDevicePixels:!1},r.a.createElement(m.a,{mapStyle:"mapbox://styles/mapbox/dark-v9",preventStyleDiffing:!0,mapboxApiAccessToken:"pk.eyJ1IjoibGVpZ2hoYWxsaWRheSIsImEiOiJjanVma3E4aGMwZjk0NDVwZzFpcG84M3cwIn0.GrI8s893TPtJfjHzpMMP_A"})),P?r.a.createElement(r.a.Fragment,null,r.a.createElement(qe,{applyingFiltersProgressRef:Kt}),r.a.createElement(X,{isSame:rn,mapVisible:Bt,loadData:t,tooltipVisible:U,filteredArrestCategory:jn,filteredAgeGroupData:va,filteredRaceUniqueValues:Ca,filteredSexUniqueValues:Sa,filteredBoroughUniqueValues:La,filteredOffenseDescriptionUniqueValues:Fa,filteredUniqueCategory:Qn,filteredAgeGroup:Rn,filteredRaceArr:Pn,filteredSexArr:xn,filteredBoroughArr:Un,filteredOffenseDescriptionArr:qn,loadedYears:en,usePrevious:Xt,currentFilters:at,filteredTimelineAgeGroupData:Xn,filteredTimelineBoroughData:na,filteredTimelineCategoryData:la,filteredTimelineSexData:sa,filteredTimelineRaceData:pa,graphOption:be,changeGraphOption:Ye,layersRef:Jt,footerMenuActive:$e,changeFooterMenuActive:et,isMobileOrTablet:ot,isMediumLaptop:ct})):null))},Xe=n(192);n(331).config();var $e=Object(Xe.a)(new function(){return new Worker(n.p+"static/js/store.worker.134e029a.worker.js")},{loadDataChunksReducer:{data:[{}]},loadDataReducer:{data:[]},filteredDataReducer:{data:[],changed:!1},filteredDataChunksReducer:{data:[]},newYearFinishedLoadingReducer:{finished:!1},ageFilterReducer:{age:[]},boroughFilterReducer:{borough:[]},categoryFilterReducer:{category:[]},offenseFilterReducer:{offense:[]},raceFilterReducer:{race:[]},sexFilterReducer:{sex:[]},yearFilterReducer:{year:[]},ageTimelineColumnsReducer:{columns:[]},boroughTimelineColumnsReducer:{columns:[]},categoryTimelineColumnsReducer:{columns:[]},raceTimelineColumnsReducer:{columns:[]},sexTimelineColumnsReducer:{columns:[]},ageGroupTimelineGraphDataReducer:{data:[]},boroughTimelineGraphDataReducer:{data:[]},categoryTimelineGraphDataReducer:{data:[]},genderTimelineGraphDataReducer:{data:[]},raceTimelineGraphDataReducer:{data:[]},totalCountReducer:{total:0},applyingFiltersReducer:{filters:!1},trendsAvailableReducer:{available:!1}});l.a.render(r.a.createElement(N.a,{store:$e},r.a.createElement(Ze,null)),document.getElementById("root"))}},[[205,1,2]]]);
//# sourceMappingURL=main.705d5ecc.chunk.js.map