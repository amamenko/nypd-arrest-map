{"version":3,"sources":["NavigationBar/InfoPopUp/InfoPopUp.js","actions/filters/category/ACTION_CHANGE_CATEGORY_FILTER.js","actions/filters/offense/ACTION_CHANGE_OFFENSE_FILTER.js","actions/filters/age/ACTION_CHANGE_AGE_FILTER.js","actions/filters/race/ACTION_CHANGE_RACE_FILTER.js","actions/filters/sex/ACTION_CHANGE_SEX_FILTER.js","actions/filters/borough/ACTION_CHANGE_BOROUGH_FILTER.js","actions/applyingFilters/ACTION_APPLYING_FILTERS.js","actions/resetFilters/ACTION_RESET_FILTERS.js","NavigationBar/NavigationBar.js","BottomInfoPanel/CarouselItems/Category/Category.js","BottomInfoPanel/CarouselItems/AgeGroup/AgeGroup.js","BottomInfoPanel/CarouselItems/Race/Race.js","BottomInfoPanel/CarouselItems/Gender/Gender.js","BottomInfoPanel/CarouselItems/Borough/Borough.js","BottomInfoPanel/CarouselItems/TopOffenses/TopOffenses.js","BottomInfoPanel/CarouselItems/AgeGroup/AgeGroupTimeline.js","BottomInfoPanel/CarouselItems/Borough/BoroughTimeline.js","BottomInfoPanel/CarouselItems/Category/CategoryTimeline.js","BottomInfoPanel/CarouselItems/Gender/GenderTimeline.js","BottomInfoPanel/CarouselItems/Race/RaceTimeline.js","BottomInfoPanel/BottomInfoPanel.js","YearlyTotals.js","InitialLoader.js","SubsequentLoader.js","actions/filteredDataChunks/ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR.js","actions/filteredDataChunks/ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR.js","actions/filteredDataChunks/ACTION_ASSIGN_FILTERED_DATA_CHUNKS.js","actions/totalCount/ACTION_INCREMENT_TOTAL_COUNT.js","actions/loadData/ACTION_ASSIGN_LOAD_DATA.js","actions/filteredData/ACTION_FILTERED_DATA_CHANGED.js","actions/filteredData/ACTION_FILTERED_DATA_CHANGED_RESET.js","actions/timelineGraphData/ageGroup/ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA.js","actions/timelineGraphData/borough/ACTION_TIMELINE_BOROUGH_GRAPH_DATA.js","actions/timelineGraphData/category/ACTION_TIMELINE_CATEGORY_GRAPH_DATA.js","actions/timelineGraphData/gender/ACTION_TIMELINE_GENDER_GRAPH_DATA.js","actions/timelineGraphData/race/ACTION_TIMELINE_RACE_GRAPH_DATA.js","setFilterAndTimelineGraphWorkers.js","actions/timelineColumns/age/ACTION_AGE_TIMELINE_COLUMNS.js","actions/timelineColumns/borough/ACTION_BOROUGH_TIMELINE_COLUMNS.js","actions/timelineColumns/category/ACTION_CATEGORY_TIMELINE_COLUMNS.js","actions/timelineColumns/sex/ACTION_SEX_TIMELINE_COLUMNS.js","actions/timelineColumns/race/ACTION_RACE_TIMELINE_COLUMNS.js","actions/applyingFilters/ACTION_APPLYING_FILTERS_RESET.js","ApplyingFiltersPopUp/ApplyingFiltersPopUp.js","actions/newYearFinishedLoading/ACTION_NEW_YEAR_FINISHED_LOADING_RESET.js","actions/newYearFinishedLoading/ACTION_NEW_YEAR_FINISHED_LOADING.js","actions/trendsAvailable/ACTION_TRENDS_AVAILABLE.js","actions/trendsAvailable/ACTION_TRENDS_NOT_AVAILABLE.js","actions/resetFilters/ACTION_RESET_FILTERS_RESET.js","App.js","index.js","store.worker.js"],"names":["InfoPopUp","props","footerMenuActive","isMobileOrTablet","trigger","className","style","pointerEvents","color","opacity","transition","modal","close","onClick","href","target","rel","ACTION_CHANGE_CATEGORY_FILTER","category","type","ACTION_CHANGE_OFFENSE_FILTER","offense","ACTION_CHANGE_AGE_FILTER","age","ACTION_CHANGE_RACE_FILTER","race","ACTION_CHANGE_SEX_FILTER","sex","ACTION_CHANGE_BOROUGH_FILTER","borough","ACTION_APPLYING_FILTERS","ACTION_RESET_FILTERS","NavigationBar","loadData","raceUniqueValues","boroughUniqueValues","ageGroupData","offenseDescriptionUniqueValues","setFilters","changeLaddaLoading","laddaLoading","resetLaddaLoading","changeResetLaddaLoading","menuClicked","changeMenuClicked","collapseOpen","changeCollapseOpen","layersRef","isTablet","currentFilters","isSame","dispatch","useDispatch","applyingFilters","useSelector","state","applyingFiltersReducer","filters","filteredDataChunks","filteredDataChunksReducer","data","totalCount","totalCountReducer","total","categoryFilter","categoryFilterReducer","ageFilter","ageFilterReducer","boroughFilter","boroughFilterReducer","sexFilter","sexFilterReducer","offenseFilter","offenseFilterReducer","raceFilter","raceFilterReducer","resetFilters","resetFiltersReducer","reset","ageTimelineColumns","ageTimelineColumnsReducer","columns","boroughTimelineColumns","boroughTimelineColumnsReducer","categoryTimelineColumns","categoryTimelineColumnsReducer","raceTimelineColumns","raceTimelineColumnsReducer","sexTimelineColumns","sexTimelineColumnsReducer","logoContainerRef","useRef","burgerMenu","document","getElementsByClassName","mapboxAttribRef","footerMenuTrigger","overviewTip","mapDetailsTip","mapLegend","resetFiltersButton","applyFiltersButton","useState","tooltipVisible","changeTooltipVisible","handleCategoryFilters","includes","filter","item","copyArr","slice","push","handleSexFilters","useEffect","setProperty","length","tooltipHideDelay","setTimeout","clearTimeout","filterMenu","scrollContainers","scrollTop","i","content","minWidth","current","clientWidth","maxWidth","flat","toLocaleString","visible","allowHTML","reference","placement","ref","textAlign","duration","arrow","onClickOutside","right","customBurgerIcon","onOpen","onClose","isOpen","fill","onTriggerOpening","onTriggerClosing","open","name","checked","onChange","map","desc","handleOffenseFilters","split","x","toUpperCase","toLowerCase","join","indexOf","sort","a","b","localeCompare","handleAgeFilters","handleRaceFilters","handleBoroughFilters","loading","data-color","data-size","XL","data-style","EXPAND_LEFT","data-spinner-size","data-spinner-color","data-spinner-lines","Category","filteredArrestCategory","graphOption","onDragStart","e","preventDefault","display","size","chartType","loader","options","backgroundColor","AgeGroup","filteredAgeGroupData","filteredAgeGroup","concat","Race","filteredRaceUniqueValues","filteredRaceArr","Gender","filteredSexUniqueValues","filteredSexArr","Borough","filteredBoroughUniqueValues","filteredBoroughArr","TopOffenses","filteredOffenseDescriptionArr","filteredOffenseDescriptionUniqueValues","usePrevious","isMediumLaptop","sortedArr","changeSortedArr","prevFilteredOffenseDescriptionArr","prevFilteredOffenseDescriptionUniqueValues","offenseData","legend","position","width","bar","groupWidth","chartArea","height","AgeGroupTimeline","legendToggle","hAxis","title","vAxis","explorer","axis","keepInBounds","maxZoomIn","BoroughTimeline","CategoryTimeline","GenderTimeline","RaceTimeline","BottomInfoPanel","filteredUniqueCategory","changeGraphOption","changeFooterMenuActive","filteredTimelineAgeGroupData","filteredTimelineBoroughData","filteredTimelineCategoryData","filteredTimelineSexData","filteredTimelineRaceData","trendsAvailable","trendsAvailableReducer","available","firstTimeFooterActive","changeFirstTimeFooterActive","arrowTooltipVisible","changeArrowTooltipVisible","timelineTooltipVisible","changeTimelineTooltipVisible","CarouselRef","CarouselTimelineRef","rightArrow","aliceCarouselContainer","overviewCarouselContainer","trendsCarouselContainer","categoryTimelineContainer","googleTooltipContainer","checkForTooltip","setInterval","tooltip","circles","getElementsByTagName","activePanelContainer","activePaths","activeText","valuesLength","getAttribute","textContent","lastChild","firstChild","j","clearInterval","findTimelineRefInterval","trendsRadioButton","zIndex","findTrendsCarousel","newTrendsCarouselContainer","transform","value","horizontal","rootColor","pointColor","disabled","disabledColor","onTouchStart","slidePrev","el","autoPlay","fadeOutAnimation","dotsDisabled","buttonsDisabled","mouseTrackingEnabled","playButtonEnabled","disableAutoPlayOnAction","responsive","0","items","760","1600","preservePosition","infinite","offset","touchMoveDefaultEvents","slideNext","yearlyTotals","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","InitialLoader","countUp","loaderColor","mapError","applyingFiltersProgressRef","override","css","styles","buildStyles","strokeLinecap","trailColor","fontSize","marginTop","SubsequentLoader","modalActive","changeModalActive","loadDataChunks","loadDataChunksReducer","newProgress","changeNewProgress","year","toString","progress","Number","reduce","toFixed","active","backdropFilter","WebkitBackdropFilter","paddingBottom","borderRadius","top","left","bottom","border","flexDirection","alignItems","justifyContent","background","ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR","dataIndex","ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR","ACTION_ASSIGN_FILTERED_DATA_CHUNKS","ACTION_INCREMENT_TOTAL_COUNT","dataLength","ACTION_ASSIGN_LOAD_DATA","ACTION_FILTERED_DATA_CHANGED","ACTION_FILTERED_DATA_CHANGED_RESET","ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA","ACTION_TIMELINE_BOROUGH_GRAPH_DATA","ACTION_TIMELINE_CATEGORY_GRAPH_DATA","ACTION_TIMELINE_GENDER_GRAPH_DATA","ACTION_TIMELINE_RACE_GRAPH_DATA","Worker","ACTION_AGE_TIMELINE_COLUMNS","ACTION_BOROUGH_TIMELINE_COLUMNS","ACTION_CATEGORY_TIMELINE_COLUMNS","ACTION_SEX_TIMELINE_COLUMNS","ACTION_RACE_TIMELINE_COLUMNS","ACTION_APPLYING_FILTERS_RESET","ApplyingFiltersPopUp","applyingFiltersRef","closeOnDocumentClick","closeOnEscape","ACTION_NEW_YEAR_FINISHED_LOADING_RESET","ACTION_NEW_YEAR_FINISHED_LOADING","ACTION_TRENDS_AVAILABLE","ACTION_TRENDS_NOT_AVAILABLE","ACTION_RESET_FILTERS_RESET","dayjs","extend","customParseFormat","App","loadDataReducer","filteredDataChanged","filteredDataReducer","changed","newYearFinishedLoading","newYearFinishedLoadingReducer","finished","ageGroupTimelineGraphData","ageGroupTimelineGraphDataReducer","boroughTimelineGraphData","boroughTimelineGraphDataReducer","categoryTimelineGraphData","categoryTimelineGraphDataReducer","genderTimelineGraphData","genderTimelineGraphDataReducer","raceTimelineGraphData","raceTimelineGraphDataReducer","mapLoaded","changeMapLoaded","changeLoaderColor","changeMapError","mapPostsCompleted","changeMapPostsCompleted","readyForTimelineColumnPosts","changeReadyForTimelineColumnPosts","changeCurrentFilters","useMediaQuery","isPortrait","orientation","loadingYears","changeLoadingYears","workerInstance","changeWorkerInstance","mapFilterWorkerInstance","changeMapFilterWorkerInstance","filterWorkerInstance","changeFilterWorkerInstance","timelineWorkerInstance","changeTimelineWorkerInstance","setFilterAndTimelineGraphWorkersInstance","changeSetFilterAndTimelineGraphWorkersInstance","mapVisible","changeMapVisible","deckGLRef","Modal","setAppElement","prevFilters","useCountUp","start","end","delay","update","arr1","arr2","every","ageGroup","changeAgeGroup","raceArr","changeRaceArr","boroughArr","changeBoroughArr","offenseDescriptionArr","changeOffenseDescriptionArr","changeFilteredArrestCategory","changeFilteredAgeGroup","changeFilteredSexArr","changeFilteredRaceArr","changeFilteredBoroughArr","changeFilteredOffenseDescriptionArr","changeFilteredUniqueCategory","changeFilteredTimelineAgeGroupData","changeFilteredTimelineBoroughData","changeFilteredTimelineCategoryData","changeFilteredTimelineSexData","changeFilteredTimelineRaceData","postToTimelineGraphWorker","useCallback","ageObj","raceObj","categoryObj","sexObj","boroughObj","postMessage","onmessage","receivedData","postToFilteredWorker","parsedData","JSON","parse","changeFilteredAgeGroupData","changeFilteredRaceUniqueValues","changeFilteredSexUniqueValues","changeFilteredBoroughUniqueValues","changeFilteredOffenseDescriptionUniqueValues","changeAgeGroupData","changeRaceUniqueValues","changeBoroughUniqueValues","changeOffenseDescriptionUniqueValues","postToMapFilterWorker","postToTimelineWorker","chunk","age_group","unique","renderLayers","yearsFiltered","format","chunkIndex","yearOfChunk","ScatterplotLayer","id","filled","radiusMinPixels","getPosition","d","Longitude","Latitude","getFillColor","LAW_CAT_CD","pickable","useDevicePixels","expectedTotal","prevAgeGroupTimelineGraphData","prevBoroughTimelineGraphData","prevCategoryTimelineGraphData","prevGenderTimelineGraphData","prevRaceTimelineGraphData","label","categoryArr","Set","genderArr","colorChangeInterval","showTooltip","object","y","addEventListener","ARREST_DATE","OFNS_DESC","PD_DESC","AGE_GROUP","PERP_SEX","PERP_RACE","innerHTML","overflowWrap","lineHeight","onNewDataArrive","firstMessage","lastMessage","dataFetch","chunkArr","Object","values","blobURL","URL","createObjectURL","Blob","mapFilterWorker","timelineWorker","worker","setFilterAndTimelineGraphWorkers","filterWorker","ws","WebSocket","readyState","send","onopen","stringify","socketWorker","suppliedData","assignFilteredData","initialViewState","longitude","latitude","zoom","window","innerWidth","minZoom","pitch","bearing","layers","pickingRadius","controller","onLoad","onError","onHover","mapStyle","preventStyleDiffing","mapboxApiAccessToken","process","require","config","store","wrapStore","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.df8a11a2.chunk.js","sourcesContent":["import React from \"react\";\nimport { BsInfoCircle } from \"react-icons/bs\";\nimport { SiGithub, SiLinkedin } from \"react-icons/si\";\nimport { ImMail } from \"react-icons/im\";\nimport Popup from \"reactjs-popup\";\nimport \"./info_pop_up.css\";\nimport \"reactjs-popup/dist/index.css\";\n\nconst InfoPopUp = (props) => {\n  const { footerMenuActive, isMobileOrTablet } = props;\n\n  return (\n    <Popup\n      trigger={\n        <div\n          className=\"info_circle_container\"\n          style={{\n            pointerEvents: isMobileOrTablet\n              ? footerMenuActive\n                ? \"none\"\n                : \"all\"\n              : \"all\",\n          }}\n        >\n          <BsInfoCircle\n            color=\"rgb(255, 255, 255)\"\n            style={{\n              opacity: isMobileOrTablet ? (footerMenuActive ? 0.2 : 1) : 1,\n              transition: \"opacity 1s ease\",\n            }}\n            className=\"info_button\"\n          />\n        </div>\n      }\n      modal\n    >\n      {(close) => (\n        <div className=\"modal\">\n          <button className=\"close\" onClick={close}>\n            &times;\n          </button>\n          <div className=\"header\">About NYPD Arrest Map</div>\n          <div className=\"content\">\n            NYPD Arrest Map is a data visualization and analysis tool that\n            utilizes the{\" \"}\n            <a\n              href=\"https://data.cityofnewyork.us/Public-Safety/NYPD-Arrest-Data-Year-to-Date-/uip8-fykc\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              NYPD Arrest Data (Year to Date)\n            </a>{\" \"}\n            NYC Open Data dataset. This dataset is updated quarterly and\n            reviewed by the Office of Management Analysis and Planning before\n            being posted on the New York Police Department website. The data\n            reflected here will be updated shortly after such changes.\n            <br />\n            <br />\n            Occasionally, arrests in the NYPD datasets will be erroneously\n            attributed to one borough, while having the longitude and latitude\n            of another. These have been corrected in the NYPD Arrest Map in\n            favor of the arrest's geocoordinates.\n            <br />\n            <br />\n            As stated by the NYPD, \"each record represents an arrest effected in\n            NYC by the NYPD and includes information about the type of crime,\n            the location and time of enforcement. In addition, information\n            related to suspect demographics is also included. This data can be\n            used by the public to explore the nature of police enforcement\n            activity.\"\n            <br />\n            <br />\n            <p>\n              Have any questions? Comments? Contact me via e-mail or LinkedIn\n            </p>\n            <div className=\"pop_up_icons_container\">\n              <a\n                href=\"https://github.com/amamenko/nypd-arrest-map-full-stack\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <SiGithub color=\"#000\" />\n              </a>\n              <a\n                href=\"https://www.linkedin.com/in/avraham-mamenko-0599831b8/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <SiLinkedin color=\"#000\" />\n              </a>\n              <a href=\"mailto:amamenko@hotmail.com?subject=Comment/Question About NYPD Arrest Map\">\n                <ImMail color=\"#000\" />\n              </a>\n            </div>\n          </div>\n        </div>\n      )}\n    </Popup>\n  );\n};\n\nexport default InfoPopUp;\n","const CHANGE_CATEGORY_FILTER = \"CHANGE_CATEGORY_FILTER\";\n\nconst ACTION_CHANGE_CATEGORY_FILTER = (category) => {\n  return {\n    type: CHANGE_CATEGORY_FILTER,\n    category,\n  };\n};\n\nexport default ACTION_CHANGE_CATEGORY_FILTER;\n","const CHANGE_OFFENSE_FILTER = \"CHANGE_OFFENSE_FILTER\";\n\nconst ACTION_CHANGE_OFFENSE_FILTER = (offense) => {\n  return {\n    type: CHANGE_OFFENSE_FILTER,\n    offense,\n  };\n};\n\nexport default ACTION_CHANGE_OFFENSE_FILTER;\n","const CHANGE_AGE_FILTER = \"CHANGE_AGE_FILTER\";\n\nconst ACTION_CHANGE_AGE_FILTER = (age) => {\n  return {\n    type: CHANGE_AGE_FILTER,\n    age,\n  };\n};\n\nexport default ACTION_CHANGE_AGE_FILTER;\n","const CHANGE_RACE_FILTER = \"CHANGE_RACE_FILTER\";\n\nconst ACTION_CHANGE_RACE_FILTER = (race) => {\n  return {\n    type: CHANGE_RACE_FILTER,\n    race,\n  };\n};\n\nexport default ACTION_CHANGE_RACE_FILTER;\n","const CHANGE_SEX_FILTER = \"CHANGE_SEX_FILTER\";\n\nconst ACTION_CHANGE_SEX_FILTER = (sex) => {\n  return {\n    type: CHANGE_SEX_FILTER,\n    sex,\n  };\n};\n\nexport default ACTION_CHANGE_SEX_FILTER;\n","const CHANGE_BOROUGH_FILTER = \"CHANGE_BOROUGH_FILTER\";\n\nconst ACTION_CHANGE_BOROUGH_FILTER = (borough) => {\n  return {\n    type: CHANGE_BOROUGH_FILTER,\n    borough,\n  };\n};\n\nexport default ACTION_CHANGE_BOROUGH_FILTER;\n","const APPLYING_FILTERS = \"APPLYING_FILTERS\";\n\nconst ACTION_APPLYING_FILTERS = () => {\n  return {\n    type: APPLYING_FILTERS,\n  };\n};\n\nexport default ACTION_APPLYING_FILTERS;\n","const RESET_FILTERS = \"RESET_FILTERS\";\n\nconst ACTION_RESET_FILTERS = () => {\n  return {\n    type: RESET_FILTERS,\n  };\n};\n\nexport default ACTION_RESET_FILTERS;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { slide as Menu } from \"react-burger-menu\";\nimport { BsFilterRight } from \"react-icons/bs\";\nimport { FaCircle, FaPlus } from \"react-icons/fa\";\nimport Collapsible from \"react-collapsible\";\nimport Tippy from \"@tippyjs/react\";\nimport LaddaButton, { XL, EXPAND_LEFT } from \"react-ladda\";\nimport \"tippy.js/dist/tippy.css\";\nimport \"./NavigationBar.css\";\nimport \"./burgermenu.css\";\nimport InfoPopUp from \"./InfoPopUp/InfoPopUp\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport ACTION_CHANGE_CATEGORY_FILTER from \"../actions/filters/category/ACTION_CHANGE_CATEGORY_FILTER\";\nimport ACTION_CHANGE_OFFENSE_FILTER from \"../actions/filters/offense/ACTION_CHANGE_OFFENSE_FILTER\";\nimport ACTION_CHANGE_AGE_FILTER from \"../actions/filters/age/ACTION_CHANGE_AGE_FILTER\";\nimport ACTION_CHANGE_RACE_FILTER from \"../actions/filters/race/ACTION_CHANGE_RACE_FILTER\";\nimport ACTION_CHANGE_SEX_FILTER from \"../actions/filters/sex/ACTION_CHANGE_SEX_FILTER\";\nimport ACTION_CHANGE_BOROUGH_FILTER from \"../actions/filters/borough/ACTION_CHANGE_BOROUGH_FILTER\";\nimport ACTION_APPLYING_FILTERS from \"../actions/applyingFilters/ACTION_APPLYING_FILTERS\";\nimport ACTION_RESET_FILTERS from \"../actions/resetFilters/ACTION_RESET_FILTERS\";\n\nconst NavigationBar = (props) => {\n  const {\n    loadData,\n    raceUniqueValues,\n    boroughUniqueValues,\n    ageGroupData,\n    offenseDescriptionUniqueValues,\n    setFilters,\n    changeLaddaLoading,\n    laddaLoading,\n    resetLaddaLoading,\n    changeResetLaddaLoading,\n    menuClicked,\n    changeMenuClicked,\n    collapseOpen,\n    changeCollapseOpen,\n    layersRef,\n    isMobileOrTablet,\n    footerMenuActive,\n    isTablet,\n    currentFilters,\n    isSame,\n  } = props;\n\n  const dispatch = useDispatch();\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n  const filteredDataChunks = useSelector(\n    (state) => state.filteredDataChunksReducer.data\n  );\n  const totalCount = useSelector((state) => state.totalCountReducer.total);\n\n  // Filter states\n  const categoryFilter = useSelector(\n    (state) => state.categoryFilterReducer.category\n  );\n  const ageFilter = useSelector((state) => state.ageFilterReducer.age);\n  const boroughFilter = useSelector(\n    (state) => state.boroughFilterReducer.borough\n  );\n  const sexFilter = useSelector((state) => state.sexFilterReducer.sex);\n  const offenseFilter = useSelector(\n    (state) => state.offenseFilterReducer.offense\n  );\n  const raceFilter = useSelector((state) => state.raceFilterReducer.race);\n  const resetFilters = useSelector((state) => state.resetFiltersReducer.reset);\n\n  // Timeline Column Data\n  const ageTimelineColumns = useSelector(\n    (state) => state.ageTimelineColumnsReducer.columns\n  );\n  const boroughTimelineColumns = useSelector(\n    (state) => state.boroughTimelineColumnsReducer.columns\n  );\n  const categoryTimelineColumns = useSelector(\n    (state) => state.categoryTimelineColumnsReducer.columns\n  );\n  const raceTimelineColumns = useSelector(\n    (state) => state.raceTimelineColumnsReducer.columns\n  );\n  const sexTimelineColumns = useSelector(\n    (state) => state.sexTimelineColumnsReducer.columns\n  );\n\n  const logoContainerRef = useRef(null);\n\n  const burgerMenu = document.getElementsByClassName(\"bm-burger-button\");\n  const mapboxAttribRef = document.getElementsByClassName(\n    \"mapboxgl-ctrl-bottom-left\"\n  );\n  const footerMenuTrigger = document.getElementsByClassName(\n    \"footer_menu_trigger\"\n  );\n  const overviewTip = document.getElementsByClassName(\"overview_tooltip\");\n  const mapDetailsTip = document.getElementsByClassName(\n    \"map_details_tooltip_container\"\n  );\n  const mapLegend = document.getElementsByClassName(\n    \"overview_tooltip legend_tooltip\"\n  );\n  const resetFiltersButton = document.getElementsByClassName(\n    \"reset_filters_button\"\n  );\n  const applyFiltersButton = document.getElementsByClassName(\n    \"apply_filters_button\"\n  );\n\n  const [tooltipVisible, changeTooltipVisible] = useState(true);\n\n  const filterByCategory = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Category</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByOffense = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Offense</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByAge = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Age Group</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByRace = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Race</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterBySex = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Sex</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByBorough = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Borough</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const handleBurgerMenuClick = () => {\n    if (menuClicked) {\n      changeMenuClicked(false);\n    } else {\n      changeMenuClicked(true);\n      if (tooltipVisible) {\n        changeTooltipVisible(false);\n      }\n    }\n  };\n\n  const handleCategoryFilters = (category) => {\n    if (categoryFilter.includes(category)) {\n      dispatch(\n        ACTION_CHANGE_CATEGORY_FILTER(\n          categoryFilter.filter((item) => item !== category)\n        )\n      );\n    } else {\n      const copyArr = categoryFilter.slice();\n      copyArr.push(category);\n\n      dispatch(ACTION_CHANGE_CATEGORY_FILTER(copyArr));\n    }\n  };\n\n  const handleOffenseFilters = (offense) => {\n    if (offenseFilter.includes(offense)) {\n      dispatch(\n        ACTION_CHANGE_OFFENSE_FILTER(\n          offenseFilter.filter((item) => item !== offense)\n        )\n      );\n    } else {\n      const copyArr = offenseFilter.slice();\n      copyArr.push(offense);\n\n      dispatch(ACTION_CHANGE_OFFENSE_FILTER(copyArr));\n    }\n  };\n\n  const handleAgeFilters = (age) => {\n    if (ageFilter.includes(age)) {\n      dispatch(\n        ACTION_CHANGE_AGE_FILTER(ageFilter.filter((item) => item !== age))\n      );\n    } else {\n      const copyArr = ageFilter.slice();\n      copyArr.push(age);\n\n      dispatch(ACTION_CHANGE_AGE_FILTER(copyArr));\n    }\n  };\n\n  const handleRaceFilters = (race) => {\n    if (raceFilter.includes(race)) {\n      dispatch(\n        ACTION_CHANGE_RACE_FILTER(raceFilter.filter((item) => item !== race))\n      );\n    } else {\n      const copyArr = raceFilter.slice();\n      copyArr.push(race);\n\n      dispatch(ACTION_CHANGE_RACE_FILTER(copyArr));\n    }\n  };\n\n  const handleSexFilters = (sex) => {\n    if (sexFilter.includes(sex)) {\n      dispatch(\n        ACTION_CHANGE_SEX_FILTER(sexFilter.filter((item) => item !== sex))\n      );\n    } else {\n      const copyArr = sexFilter.slice();\n      copyArr.push(sex);\n\n      dispatch(ACTION_CHANGE_SEX_FILTER(copyArr));\n    }\n  };\n\n  const handleBoroughFilters = (borough) => {\n    if (boroughFilter.includes(borough)) {\n      dispatch(\n        ACTION_CHANGE_BOROUGH_FILTER(\n          boroughFilter.filter((item) => item !== borough)\n        )\n      );\n    } else {\n      const copyArr = boroughFilter.slice();\n      copyArr.push(borough);\n\n      dispatch(ACTION_CHANGE_BOROUGH_FILTER(copyArr));\n    }\n  };\n\n  useEffect(() => {\n    if (isMobileOrTablet) {\n      if (footerMenuActive) {\n        burgerMenu[0].style.opacity = 0.2;\n        burgerMenu[0].style.pointerEvents = \"none\";\n        burgerMenu[0].style.transition = \"opacity 0.5s ease\";\n\n        if (overviewTip[0] && mapDetailsTip[0]) {\n          overviewTip[0].style.setProperty(\"opacity\", 0.4, \"important\");\n          overviewTip[0].style.setProperty(\"pointerEvents\", \"none\");\n          overviewTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n\n          mapDetailsTip[0].style.setProperty(\"opacity\", 0.4, \"important\");\n          mapDetailsTip[0].style.setProperty(\"pointerEvents\", \"none\");\n          mapDetailsTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n        }\n      } else {\n        burgerMenu[0].style.opacity = 1;\n        burgerMenu[0].style.pointerEvents = \"all\";\n        burgerMenu[0].style.transition = \"opacity 0.5s ease\";\n\n        if (overviewTip[0] && mapDetailsTip[0]) {\n          overviewTip[0].style.setProperty(\"opacity\", 1, \"important\");\n          overviewTip[0].style.setProperty(\"pointerEvents\", \"all\");\n          overviewTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n\n          mapDetailsTip[0].style.setProperty(\"opacity\", 1, \"important\");\n          mapDetailsTip[0].style.setProperty(\"pointerEvents\", \"all\");\n          mapDetailsTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n        }\n      }\n    } else {\n      burgerMenu[0].style.opacity = 1;\n      burgerMenu[0].style.pointerEvents = \"all\";\n      burgerMenu[0].style.transition = \"opacity 0.5s ease\";\n\n      if (overviewTip[0] && mapDetailsTip[0]) {\n        overviewTip[0].style.setProperty(\"opacity\", 1, \"important\");\n        overviewTip[0].style.setProperty(\"pointerEvents\", \"all\");\n        overviewTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n\n        mapDetailsTip[0].style.setProperty(\"opacity\", 1, \"important\");\n        mapDetailsTip[0].style.setProperty(\"pointerEvents\", \"all\");\n        mapDetailsTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n      }\n    }\n  }, [\n    footerMenuActive,\n    burgerMenu,\n    isMobileOrTablet,\n    mapDetailsTip,\n    overviewTip,\n  ]);\n\n  useEffect(() => {\n    if (isMobileOrTablet) {\n      if (\n        (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n        (boroughTimelineColumns ? boroughTimelineColumns.length > 0 : false) &&\n        (categoryTimelineColumns\n          ? categoryTimelineColumns.length > 0\n          : false) &&\n        (raceTimelineColumns ? raceTimelineColumns.length > 0 : false) &&\n        (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n      ) {\n        const tooltipHideDelay = setTimeout(() => {\n          if (tooltipVisible) {\n            changeTooltipVisible(false);\n          }\n        }, 4000);\n\n        return () => {\n          clearTimeout(tooltipHideDelay);\n        };\n      }\n    }\n  }, [\n    isMobileOrTablet,\n    tooltipVisible,\n    ageTimelineColumns,\n    boroughTimelineColumns,\n    categoryTimelineColumns,\n    raceTimelineColumns,\n    sexTimelineColumns,\n  ]);\n\n  useEffect(() => {\n    if (!tooltipVisible) {\n      if (overviewTip[0] && mapDetailsTip[0]) {\n        overviewTip[0].style.setProperty(\"opacity\", 1, \"important\");\n        mapDetailsTip[0].style.setProperty(\"opacity\", 1, \"important\");\n      }\n\n      if (mapLegend[0]) {\n        mapLegend[0].style.setProperty(\"opacity\", 1, \"important\");\n      }\n    }\n  }, [tooltipVisible, overviewTip, mapDetailsTip, mapLegend]);\n\n  useEffect(() => {\n    if (!isMobileOrTablet) {\n      if (menuClicked) {\n        if (overviewTip[0] && mapDetailsTip[0]) {\n          overviewTip[0].style.setProperty(\"opacity\", 0.3, \"important\");\n          mapDetailsTip[0].style.setProperty(\"opacity\", 0.3, \"important\");\n        }\n\n        if (mapLegend[0]) {\n          mapLegend[0].style.setProperty(\"opacity\", 0.3, \"important\");\n        }\n      } else {\n        if (overviewTip[0] && mapDetailsTip[0]) {\n          overviewTip[0].style.setProperty(\"opacity\", 1, \"important\");\n          mapDetailsTip[0].style.setProperty(\"opacity\", 1, \"important\");\n        }\n\n        if (mapLegend[0]) {\n          mapLegend[0].style.setProperty(\"opacity\", 1, \"important\");\n        }\n      }\n    }\n  }, [isMobileOrTablet, mapLegend, menuClicked, mapDetailsTip, overviewTip]);\n\n  useEffect(() => {\n    if (!menuClicked) {\n      const filterMenu = document.getElementsByClassName(\"bm-menu\");\n      const scrollContainers = document.getElementsByClassName(\n        \"nav_item_content_container\"\n      );\n\n      setTimeout(() => {\n        if (filterMenu[0]) {\n          filterMenu[0].scrollTop = 0;\n        }\n\n        for (let i = 0; i < scrollContainers.length; i++) {\n          scrollContainers[i].scrollTop = 0;\n        }\n      }, 1500);\n\n      if (collapseOpen !== \"\") {\n        changeCollapseOpen(\"\");\n      }\n    }\n  }, [menuClicked, collapseOpen, changeCollapseOpen]);\n\n  useEffect(() => {\n    if (\n      currentFilters.category.length === 0 &&\n      currentFilters.offense.length === 0 &&\n      currentFilters.age.length === 0 &&\n      currentFilters.race.length === 0 &&\n      currentFilters.sex.length === 0 &&\n      currentFilters.borough.length === 0\n    ) {\n      if (resetFiltersButton[0]) {\n        resetFiltersButton[0].style.opacity = 0.4;\n        resetFiltersButton[0].style.pointerEvents = \"none\";\n      }\n    } else {\n      if (resetFiltersButton[0]) {\n        resetFiltersButton[0].style.opacity = 1;\n        resetFiltersButton[0].style.pointerEvents = \"auto\";\n      }\n    }\n  }, [\n    currentFilters.age.length,\n    currentFilters.borough.length,\n    currentFilters.category.length,\n    currentFilters.offense.length,\n    currentFilters.race.length,\n    currentFilters.sex.length,\n    resetFiltersButton,\n  ]);\n\n  useEffect(() => {\n    if (\n      isSame(currentFilters.category, categoryFilter) &&\n      isSame(currentFilters.offense, offenseFilter) &&\n      isSame(currentFilters.age, ageFilter) &&\n      isSame(currentFilters.race, raceFilter) &&\n      isSame(currentFilters.sex, sexFilter) &&\n      isSame(currentFilters.borough, boroughFilter)\n    ) {\n      if (applyFiltersButton[0]) {\n        applyFiltersButton[0].style.opacity = 0.4;\n        applyFiltersButton[0].style.pointerEvents = \"none\";\n      }\n    } else {\n      if (applyFiltersButton[0]) {\n        applyFiltersButton[0].style.opacity = 1;\n        applyFiltersButton[0].style.pointerEvents = \"auto\";\n      }\n    }\n  }, [\n    currentFilters.age,\n    currentFilters.borough,\n    currentFilters.category,\n    currentFilters.offense,\n    currentFilters.race,\n    currentFilters.sex,\n    ageFilter,\n    boroughFilter,\n    categoryFilter,\n    offenseFilter,\n    raceFilter,\n    sexFilter,\n    applyFiltersButton,\n    isSame,\n  ]);\n\n  return (\n    <div className=\"navigation_bar_container\">\n      <Tippy\n        content={\n          <div className=\"map_details_tooltip_container\">\n            <div\n              className=\"overview_tooltip_content\"\n              style={{\n                minWidth:\n                  logoContainerRef.current &&\n                  logoContainerRef.current.clientWidth,\n                maxWidth:\n                  logoContainerRef.current &&\n                  logoContainerRef.current.clientWidth,\n              }}\n            >\n              <p style={{ color: \"rgb(166, 166, 166)\" }}>\n                Data Last Updated: November 5, 2020\n              </p>\n              <p>\n                Total Number of Arrests Shown: <br />\n                <strong>\n                  {filteredDataChunks.flat().length.toLocaleString()}\n                </strong>{\" \"}\n                of <strong>{totalCount.toLocaleString()}</strong>\n              </p>\n            </div>\n            {isMobileOrTablet ? (\n              isTablet ? null : (\n                <div\n                  className=\"map_legend_container\"\n                  style={{\n                    minWidth:\n                      logoContainerRef.current &&\n                      logoContainerRef.current.clientWidth,\n                    maxWidth:\n                      logoContainerRef.current &&\n                      logoContainerRef.current.clientWidth,\n                  }}\n                >\n                  <p>Map Legend</p>\n                  <div className=\"map_legend_items_container\">\n                    <div className=\"map_legend_element\">\n                      <FaCircle color=\"rgb(255, 0, 0)\" />\n                      <p>Felony</p>\n                    </div>\n                    <div className=\"map_legend_element\">\n                      <FaCircle color=\"rgb(255, 116, 0)\" />\n                      <p>Misdemeanor</p>\n                    </div>\n                    <div className=\"map_legend_element\">\n                      <FaCircle color=\"rgb(255, 193, 0)\" />\n                      <p>Violation</p>\n                    </div>\n                  </div>\n                </div>\n              )\n            ) : null}\n          </div>\n        }\n        visible={\n          layersRef.current.length > 0 &&\n          (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n          (boroughTimelineColumns\n            ? boroughTimelineColumns.length > 0\n            : false) &&\n          (categoryTimelineColumns\n            ? categoryTimelineColumns.length > 0\n            : false) &&\n          (raceTimelineColumns ? raceTimelineColumns.length > 0 : false) &&\n          (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n        }\n        allowHTML={true}\n        reference={logoContainerRef.current}\n        className=\"overview_tooltip\"\n      />\n      <Tippy\n        content={\n          <div\n            className=\"map_legend_container\"\n            style={{\n              minWidth:\n                logoContainerRef.current &&\n                logoContainerRef.current.clientWidth,\n              maxWidth:\n                logoContainerRef.current &&\n                logoContainerRef.current.clientWidth,\n            }}\n          >\n            <p>Map Legend</p>\n            <div className=\"map_legend_items_container\">\n              <div className=\"map_legend_element\">\n                <FaCircle color=\"rgb(255, 0, 0)\" />\n                <p>Felony</p>\n              </div>\n              <div className=\"map_legend_element\">\n                <FaCircle color=\"rgb(255, 116, 0)\" />\n                <p>Misdemeanor</p>\n              </div>\n              <div className=\"map_legend_element\">\n                <FaCircle color=\"rgb(255, 193, 0)\" />\n                <p>Violation</p>\n              </div>\n            </div>\n          </div>\n        }\n        visible={\n          isMobileOrTablet\n            ? isTablet\n              ? layersRef.current.length > 0 &&\n                (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n                (boroughTimelineColumns\n                  ? boroughTimelineColumns.length > 0\n                  : false) &&\n                (categoryTimelineColumns\n                  ? categoryTimelineColumns.length > 0\n                  : false) &&\n                (raceTimelineColumns\n                  ? raceTimelineColumns.length > 0\n                  : false) &&\n                (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n              : false\n            : layersRef.current.length > 0 &&\n              (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n              (boroughTimelineColumns\n                ? boroughTimelineColumns.length > 0\n                : false) &&\n              (categoryTimelineColumns\n                ? categoryTimelineColumns.length > 0\n                : false) &&\n              (raceTimelineColumns ? raceTimelineColumns.length > 0 : false) &&\n              (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n        }\n        allowHTML={true}\n        reference={\n          isMobileOrTablet\n            ? isTablet\n              ? burgerMenu[0]\n              : footerMenuTrigger[0]\n            : mapboxAttribRef[0]\n        }\n        className=\"overview_tooltip legend_tooltip\"\n        placement=\"top-start\"\n      />\n      <div className=\"nypd_arrest_map_logo_container\" ref={logoContainerRef}>\n        <a href=\"/\">\n          <p>NYPD</p>\n          <p>Arrest</p>\n          <p>Map</p>\n        </a>\n      </div>\n      <Tippy\n        content={\n          isMobileOrTablet ? (\n            <p style={{ textAlign: \"center\" }}>\n              Click here <br />\n              to set <br />\n              data filters\n            </p>\n          ) : (\n            \"Click here to set data filters\"\n          )\n        }\n        duration={[null, 500]}\n        arrow={true}\n        visible={\n          tooltipVisible &&\n          (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n          (boroughTimelineColumns\n            ? boroughTimelineColumns.length > 0\n            : false) &&\n          (categoryTimelineColumns\n            ? categoryTimelineColumns.length > 0\n            : false) &&\n          (raceTimelineColumns ? raceTimelineColumns.length > 0 : false) &&\n          (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n        }\n        reference={burgerMenu[0]}\n        className=\"burger_tooltip\"\n        placement=\"bottom-end\"\n        onClickOutside={() => changeTooltipVisible(false)}\n      />\n      <InfoPopUp\n        footerMenuActive={footerMenuActive}\n        isMobileOrTablet={isMobileOrTablet}\n      />\n      <Menu\n        right\n        className=\"navbar_nav_menu\"\n        customBurgerIcon={<BsFilterRight color=\"rgb(93, 188, 210)\" />}\n        onOpen={handleBurgerMenuClick}\n        onClose={() => changeMenuClicked(false)}\n        isOpen={menuClicked}\n      >\n        <Collapsible\n          trigger={filterByCategory()}\n          onTriggerOpening={() => changeCollapseOpen(\"category\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"category\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  checked={categoryFilter.includes(\"F\")}\n                  onChange={() => handleCategoryFilters(\"F\")}\n                />\n                Felony\n              </label>\n            </p>\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  checked={categoryFilter.includes(\"M\")}\n                  onChange={() => handleCategoryFilters(\"M\")}\n                />\n                Misdemeanor\n              </label>\n            </p>\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  checked={categoryFilter.includes(\"V\")}\n                  onChange={() => handleCategoryFilters(\"V\")}\n                />\n                Violation\n              </label>\n            </p>\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByOffense()}\n          onTriggerOpening={() => changeCollapseOpen(\"description\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"description\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {!offenseDescriptionUniqueValues ||\n            offenseDescriptionUniqueValues.length === 0\n              ? null\n              : offenseDescriptionUniqueValues.map((desc, i) => {\n                  if (\n                    desc &&\n                    !(desc.includes(\"OTHER STATE LAWS\") && desc.includes(\"(\"))\n                  ) {\n                    return (\n                      <p key={i}>\n                        <label>\n                          <input\n                            name=\"my-checkbox\"\n                            type=\"checkbox\"\n                            checked={offenseFilter.includes(desc)}\n                            onChange={() => handleOffenseFilters(desc)}\n                          />\n                          {desc\n                            .split(\" \")\n                            .map(\n                              (x) =>\n                                x[0].toUpperCase() + x.slice(1).toLowerCase()\n                            )\n                            .join(\" \")\n                            .split(\"/\")\n                            .map(\n                              (x) =>\n                                x[0].toUpperCase() +\n                                x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                                x.slice(x.indexOf(\" \"))\n                            )\n                            .join(\"/\")}\n                        </label>\n                      </p>\n                    );\n                  } else {\n                    return null;\n                  }\n                })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByAge()}\n          onTriggerOpening={() => changeCollapseOpen(\"age\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"age\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {!ageGroupData\n              ? null\n              : ageGroupData\n                  .sort((a, b) => a.localeCompare(b))\n                  .map((age, i) => {\n                    return (\n                      <p key={i}>\n                        <label>\n                          <input\n                            name=\"my-checkbox\"\n                            type=\"checkbox\"\n                            checked={ageFilter.includes(age)}\n                            onChange={() => handleAgeFilters(age)}\n                          />\n                          {age === \"65\" ? \"65+\" : age}\n                        </label>\n                      </p>\n                    );\n                  })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByRace()}\n          onTriggerOpening={() => changeCollapseOpen(\"race\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"race\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {!raceUniqueValues\n              ? null\n              : raceUniqueValues.map((race, i) => {\n                  if (race) {\n                    return (\n                      <p key={i}>\n                        <label>\n                          <input\n                            name=\"my-checkbox\"\n                            type=\"checkbox\"\n                            checked={raceFilter.includes(race)}\n                            onChange={() => handleRaceFilters(race)}\n                          />\n                          {race &&\n                            race\n                              .split(\" \")\n                              .map(\n                                (x) =>\n                                  x[0].toUpperCase() + x.slice(1).toLowerCase()\n                              )\n                              .join(\" \")\n                              .split(\"/\")\n                              .map(\n                                (x) =>\n                                  x[0].toUpperCase() +\n                                  x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                                  x.slice(x.indexOf(\" \"))\n                              )\n                              .join(\"/\")}\n                        </label>\n                      </p>\n                    );\n                  } else {\n                    return null;\n                  }\n                })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterBySex()}\n          onTriggerOpening={() => changeCollapseOpen(\"sex\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"sex\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  checked={sexFilter.includes(\"F\")}\n                  onChange={() => handleSexFilters(\"F\")}\n                />\n                Female\n              </label>\n            </p>\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  checked={sexFilter.includes(\"M\")}\n                  onChange={() => handleSexFilters(\"M\")}\n                />\n                Male\n              </label>\n            </p>\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByBorough()}\n          onTriggerOpening={() => changeCollapseOpen(\"borough\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"borough\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {!boroughUniqueValues\n              ? null\n              : boroughUniqueValues.map((borough, i) => {\n                  return (\n                    <p key={i}>\n                      <label>\n                        <input\n                          name=\"my-checkbox\"\n                          type=\"checkbox\"\n                          checked={boroughFilter.includes(borough)}\n                          onChange={() => handleBoroughFilters(borough)}\n                        />\n                        {borough === \"B\"\n                          ? \"Bronx\"\n                          : borough === \"Q\"\n                          ? \"Queens\"\n                          : borough === \"M\"\n                          ? \"Manhattan\"\n                          : borough === \"K\"\n                          ? \"Brooklyn\"\n                          : borough === \"S\"\n                          ? \"Staten Island\"\n                          : \"Unknown\"}\n                      </label>\n                    </p>\n                  );\n                })}\n          </div>\n        </Collapsible>\n        <span className=\"spacer\" />\n        <div className=\"filter_buttons_container\">\n          <LaddaButton\n            loading={laddaLoading}\n            className=\"apply_filters_button\"\n            onClick={() => {\n              if (!applyingFilters) {\n                dispatch(ACTION_APPLYING_FILTERS());\n              }\n\n              if (!laddaLoading) {\n                changeLaddaLoading(true);\n              }\n\n              setFilters(\n                categoryFilter,\n                offenseFilter,\n                ageFilter,\n                raceFilter,\n                sexFilter,\n                boroughFilter,\n                loadData\n              );\n            }}\n            data-color={\"blue\"}\n            data-size={XL}\n            data-style={EXPAND_LEFT}\n            data-spinner-size={30}\n            data-spinner-color={\"#fff\"}\n            data-spinner-lines={12}\n          >\n            {laddaLoading ? \"APPLYING FILTERS\" : \"APPLY FILTERS\"}\n          </LaddaButton>\n          <LaddaButton\n            loading={resetLaddaLoading}\n            className=\"reset_filters_button\"\n            onClick={() => {\n              if (!resetFilters) {\n                dispatch(ACTION_RESET_FILTERS());\n              }\n\n              if (!resetLaddaLoading) {\n                changeResetLaddaLoading(true);\n              }\n\n              dispatch(ACTION_CHANGE_CATEGORY_FILTER([]));\n              dispatch(ACTION_CHANGE_OFFENSE_FILTER([]));\n              dispatch(ACTION_CHANGE_AGE_FILTER([]));\n              dispatch(ACTION_CHANGE_RACE_FILTER([]));\n              dispatch(ACTION_CHANGE_SEX_FILTER([]));\n              dispatch(ACTION_CHANGE_BOROUGH_FILTER([]));\n\n              setFilters([], [], [], [], [], [], loadData);\n            }}\n            data-color={\"red\"}\n            data-size={XL}\n            data-style={EXPAND_LEFT}\n            data-spinner-size={30}\n            data-spinner-color={\"#fff\"}\n            data-spinner-lines={12}\n          >\n            {resetLaddaLoading ? \"RESETTING\" : \"RESET FILTERS\"}\n          </LaddaButton>\n        </div>\n      </Menu>\n    </div>\n  );\n};\n\nexport default NavigationBar;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst Category = (props) => {\n  const { filteredArrestCategory, graphOption } = props;\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Category</p>\n      <div className=\"bottom_info_pie_container\">\n        {applyingFilters ? (\n          <DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />\n        ) : (\n          <Chart\n            chartType=\"PieChart\"\n            loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n            data={\n              filteredArrestCategory\n                ? [\n                    [\"Category\", \"Number of Arrests\"],\n                    [\n                      \"Felony\",\n                      filteredArrestCategory.filter((x) => x === \"F\").length,\n                    ],\n                    [\n                      \"Misdemeanor\",\n                      filteredArrestCategory.filter((x) => x === \"M\").length,\n                    ],\n                    [\n                      \"Violation\",\n                      filteredArrestCategory.filter(\n                        (x) => x !== \"F\" && x !== \"M\"\n                      ).length,\n                    ],\n                  ]\n                : []\n            }\n            options={{\n              backgroundColor: \"transparent\",\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Category;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst AgeGroup = (props) => {\n  const { filteredAgeGroupData, filteredAgeGroup, graphOption } = props;\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Age Group</p>\n      <div className=\"bottom_info_pie_container\">\n        {applyingFilters ? (\n          <DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />\n        ) : (\n          <Chart\n            chartType=\"PieChart\"\n            loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n            data={\n              [\n                [[\"Age Group\", \"Number of Arrests\"]].concat(\n                  filteredAgeGroupData\n                    .sort((a, b) => a.localeCompare(b))\n                    .map((item) => [\n                      item === \"65\" ? \"65+\" : item,\n                      filteredAgeGroup.filter((x) => x === item).length,\n                    ])\n                ),\n              ][0]\n            }\n            options={{\n              backgroundColor: \"transparent\",\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AgeGroup;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst Race = (props) => {\n  const { filteredRaceUniqueValues, filteredRaceArr, graphOption } = props;\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Race</p>\n      <div className=\"bottom_info_pie_container\">\n        {applyingFilters ? (\n          <DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />\n        ) : (\n          <Chart\n            chartType=\"PieChart\"\n            loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n            data={\n              [\n                [[\"Race\", \"Number of Arrests\"]].concat(\n                  filteredRaceUniqueValues.map((item) => [\n                    item\n                      ? item\n                          .split(\" \")\n                          .map(\n                            (x) => x[0].toUpperCase() + x.slice(1).toLowerCase()\n                          )\n                          .join(\" \")\n                          .split(\"/\")\n                          .map(\n                            (x) =>\n                              x[0].toUpperCase() +\n                              x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                              x.slice(x.indexOf(\" \"))\n                          )\n                          .join(\"/\")\n                      : null,\n                    filteredRaceArr.filter((x) => x === item).length,\n                  ])\n                ),\n              ][0]\n            }\n            options={{\n              backgroundColor: \"transparent\",\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Race;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst Gender = (props) => {\n  const { filteredSexUniqueValues, filteredSexArr, graphOption } = props;\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Sex</p>\n      <div className=\"bottom_info_pie_container\">\n        {applyingFilters ? (\n          <DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />\n        ) : (\n          <Chart\n            chartType=\"PieChart\"\n            loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n            data={\n              [\n                [[\"Sex\", \"Number of Arrests\"]].concat(\n                  filteredSexUniqueValues.map((item) => [\n                    item === \"M\" ? \"Male\" : \"Female\",\n                    filteredSexArr.filter((x) => x === item).length,\n                  ])\n                ),\n              ][0]\n            }\n            options={{\n              backgroundColor: \"transparent\",\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Gender;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst Borough = (props) => {\n  const {\n    filteredBoroughUniqueValues,\n    filteredBoroughArr,\n    graphOption,\n  } = props;\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Borough</p>\n      <div className=\"bottom_info_pie_container\">\n        {applyingFilters ? (\n          <DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />\n        ) : (\n          <Chart\n            chartType=\"PieChart\"\n            loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n            data={\n              [\n                [[\"Borough\", \"Number of Arrests\"]].concat(\n                  filteredBoroughUniqueValues.map((item) => [\n                    item === \"B\"\n                      ? \"Bronx\"\n                      : item === \"Q\"\n                      ? \"Queens\"\n                      : item === \"M\"\n                      ? \"Manhattan\"\n                      : item === \"K\"\n                      ? \"Brooklyn\"\n                      : item === \"S\"\n                      ? \"Staten Island\"\n                      : \"Unknown\",\n                    filteredBoroughArr.filter((x) => x === item).length,\n                  ])\n                ),\n              ][0]\n            }\n            options={{\n              backgroundColor: \"transparent\",\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Borough;\n","import React, { useEffect, useState } from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst TopOffenses = (props) => {\n  const {\n    filteredOffenseDescriptionArr,\n    filteredOffenseDescriptionUniqueValues,\n    graphOption,\n    isSame,\n    usePrevious,\n    isMobileOrTablet,\n    isMediumLaptop,\n  } = props;\n\n  const [sortedArr, changeSortedArr] = useState([]);\n\n  const prevFilteredOffenseDescriptionArr = usePrevious(\n    filteredOffenseDescriptionArr\n  );\n  const prevFilteredOffenseDescriptionUniqueValues = usePrevious(\n    filteredOffenseDescriptionUniqueValues\n  );\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n\n  useEffect(() => {\n    if (\n      filteredOffenseDescriptionArr &&\n      filteredOffenseDescriptionArr.length > 0 &&\n      filteredOffenseDescriptionUniqueValues.length > 0\n    ) {\n      if (\n        filteredOffenseDescriptionArr !== prevFilteredOffenseDescriptionArr ||\n        filteredOffenseDescriptionUniqueValues !==\n          prevFilteredOffenseDescriptionUniqueValues\n      ) {\n        const offenseData = filteredOffenseDescriptionUniqueValues\n          .map((item) => [\n            item,\n            filteredOffenseDescriptionArr.filter((x) => x === item).length,\n          ])\n          .sort((a, b) => {\n            if (a[1] > b[1]) {\n              return 1;\n            } else {\n              return -1;\n            }\n          });\n\n        if (!isSame(offenseData, sortedArr)) {\n          changeSortedArr(offenseData);\n        }\n      }\n    }\n  }, [\n    isSame,\n    filteredOffenseDescriptionArr,\n    filteredOffenseDescriptionUniqueValues,\n    sortedArr,\n    prevFilteredOffenseDescriptionArr,\n    prevFilteredOffenseDescriptionUniqueValues,\n  ]);\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      {sortedArr.length > 0 ? (\n        <>\n          <p className=\"bottom_info_section_title\">Top 5 Offenses</p>\n          <div className=\"bottom_info_pie_container\">\n            {applyingFilters ? (\n              <DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />\n            ) : (\n              <Chart\n                chartType=\"BarChart\"\n                loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n                data={\n                  [\n                    [[\"Offense Description\", \"Number of Arrests\"]].concat(\n                      sortedArr.length > 0\n                        ? sortedArr\n                            .slice(sortedArr.length - 5, sortedArr.length)\n                            .sort((a, b) => {\n                              if (a[1] > b[1]) {\n                                return -1;\n                              } else {\n                                return 1;\n                              }\n                            })\n                        : [\"UNKNOWN\", 1]\n                    ),\n                  ][0]\n                }\n                options={{\n                  backgroundColor: \"transparent\",\n                  legend: { position: \"none\" },\n                  width: isMobileOrTablet ? 300 : isMediumLaptop ? 400 : 600,\n                  bar: isMobileOrTablet ? null : { groupWidth: \"95%\" },\n                  chartArea: isMobileOrTablet\n                    ? null\n                    : { width: \"50%\", height: \"50%\" },\n                }}\n              />\n            )}\n          </div>\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nexport default TopOffenses;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst AgeGroupTimeline = (props) => {\n  const { isMobileOrTablet, isMediumLaptop } = props;\n\n  const ageTimelineColumns = useSelector(\n    (state) => state.ageTimelineColumnsReducer.columns\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n    >\n      <p className=\"bottom_info_section_title\">Age Group Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          legendToggle\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={ageTimelineColumns}\n          options={{\n            backgroundColor: \"transparent\",\n            width: isMobileOrTablet ? 300 : isMediumLaptop ? 400 : 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n            hAxis: {\n              title: \"Dates\",\n            },\n            vAxis: {\n              title: \"# of Arrests\",\n            },\n            explorer: {\n              axis: \"horizontal\",\n              keepInBounds: true,\n              maxZoomIn: 0.2,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default AgeGroupTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst BoroughTimeline = (props) => {\n  const { isMobileOrTablet, isMediumLaptop } = props;\n\n  const boroughTimelineColumns = useSelector(\n    (state) => state.boroughTimelineColumnsReducer.columns\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n    >\n      <p className=\"bottom_info_section_title\">Borough Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          legendToggle\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={boroughTimelineColumns}\n          options={{\n            legendToggle: true,\n            backgroundColor: \"transparent\",\n            width: isMobileOrTablet ? 300 : isMediumLaptop ? 400 : 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n            hAxis: {\n              title: \"Dates\",\n            },\n            vAxis: {\n              title: \"# of Arrests\",\n            },\n            explorer: {\n              axis: \"horizontal\",\n              keepInBounds: true,\n              maxZoomIn: 0.2,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default BoroughTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst CategoryTimeline = (props) => {\n  const { isMobileOrTablet, isMediumLaptop } = props;\n\n  const categoryTimelineColumns = useSelector(\n    (state) => state.categoryTimelineColumnsReducer.columns\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n    >\n      <p className=\"bottom_info_section_title\">Category Trends</p>\n      <div className=\"bottom_info_pie_container category_timeline_container\">\n        <Chart\n          legendToggle\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={categoryTimelineColumns}\n          options={{\n            legendToggle: true,\n            backgroundColor: \"transparent\",\n            width: isMobileOrTablet ? 300 : isMediumLaptop ? 400 : 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n            hAxis: {\n              title: \"Dates\",\n            },\n            vAxis: {\n              title: \"# of Arrests\",\n            },\n            explorer: {\n              axis: \"horizontal\",\n              keepInBounds: true,\n              maxZoomIn: 0.2,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst GenderTimeline = (props) => {\n  const { isMobileOrTablet, isMediumLaptop } = props;\n\n  const sexTimelineColumns = useSelector(\n    (state) => state.sexTimelineColumnsReducer.columns\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n    >\n      <p className=\"bottom_info_section_title\">Gender Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          legendToggle\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={sexTimelineColumns}\n          options={{\n            legendToggle: true,\n            backgroundColor: \"transparent\",\n            width: isMobileOrTablet ? 300 : isMediumLaptop ? 400 : 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n            hAxis: {\n              title: \"Dates\",\n            },\n            vAxis: {\n              title: \"# of Arrests\",\n            },\n            explorer: {\n              axis: \"horizontal\",\n              keepInBounds: true,\n              maxZoomIn: 0.2,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default GenderTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst RaceTimeline = (props) => {\n  const { isMobileOrTablet, isMediumLaptop } = props;\n\n  const raceTimelineColumns = useSelector(\n    (state) => state.raceTimelineColumnsReducer.columns\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n    >\n      <p className=\"bottom_info_section_title\">Race Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          legendToggle\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={raceTimelineColumns}\n          options={{\n            legendToggle: true,\n            backgroundColor: \"transparent\",\n            width: isMobileOrTablet ? 300 : isMediumLaptop ? 400 : 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n            hAxis: {\n              title: \"Dates\",\n            },\n            vAxis: {\n              title: \"# of Arrests\",\n            },\n            explorer: {\n              axis: \"horizontal\",\n              keepInBounds: true,\n              maxZoomIn: 0.2,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default RaceTimeline;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { FaChevronLeft, FaChevronRight } from \"react-icons/fa\";\nimport { GoGraph } from \"react-icons/go\";\nimport { FiMinimize2 } from \"react-icons/fi\";\nimport AliceCarousel from \"react-alice-carousel\";\nimport \"react-alice-carousel/lib/alice-carousel.css\";\nimport \"./BottomInfoPanel.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Category from \"./CarouselItems/Category/Category\";\nimport AgeGroup from \"./CarouselItems/AgeGroup/AgeGroup\";\nimport Race from \"./CarouselItems/Race/Race\";\nimport Gender from \"./CarouselItems/Gender/Gender\";\nimport Borough from \"./CarouselItems/Borough/Borough\";\nimport TopOffenses from \"./CarouselItems/TopOffenses/TopOffenses\";\nimport AgeGroupTimeline from \"./CarouselItems/AgeGroup/AgeGroupTimeline\";\nimport BoroughTimeline from \"./CarouselItems/Borough/BoroughTimeline\";\nimport CategoryTimeline from \"./CarouselItems/Category/CategoryTimeline\";\nimport GenderTimeline from \"./CarouselItems/Gender/GenderTimeline\";\nimport RaceTimeline from \"./CarouselItems/Race/RaceTimeline\";\nimport { RadioGroup, RadioButton } from \"react-radio-buttons\";\nimport { useSelector } from \"react-redux\";\nimport Tippy from \"@tippyjs/react\";\n\nconst BottomInfoPanel = (props) => {\n  const {\n    tooltipVisible,\n    filteredAgeGroup,\n    filteredRaceArr,\n    filteredSexArr,\n    filteredBoroughArr,\n    filteredOffenseDescriptionArr,\n    filteredArrestCategory,\n    filteredUniqueCategory,\n\n    filteredAgeGroupData,\n    filteredRaceUniqueValues,\n    filteredSexUniqueValues,\n    filteredBoroughUniqueValues,\n    filteredOffenseDescriptionUniqueValues,\n\n    currentFilters,\n    isSame,\n    usePrevious,\n    graphOption,\n    changeGraphOption,\n    layersRef,\n    isMobileOrTablet,\n    isMediumLaptop,\n    footerMenuActive,\n    changeFooterMenuActive,\n\n    filteredTimelineAgeGroupData,\n    filteredTimelineBoroughData,\n    filteredTimelineCategoryData,\n    filteredTimelineSexData,\n    filteredTimelineRaceData,\n  } = props;\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n  const trendsAvailable = useSelector(\n    (state) => state.trendsAvailableReducer.available\n  );\n\n  // Timeline Column Data\n  const ageTimelineColumns = useSelector(\n    (state) => state.ageTimelineColumnsReducer.columns\n  );\n  const boroughTimelineColumns = useSelector(\n    (state) => state.boroughTimelineColumnsReducer.columns\n  );\n  const categoryTimelineColumns = useSelector(\n    (state) => state.categoryTimelineColumnsReducer.columns\n  );\n  const raceTimelineColumns = useSelector(\n    (state) => state.raceTimelineColumnsReducer.columns\n  );\n  const sexTimelineColumns = useSelector(\n    (state) => state.sexTimelineColumnsReducer.columns\n  );\n\n  const [firstTimeFooterActive, changeFirstTimeFooterActive] = useState(false);\n  const [arrowTooltipVisible, changeArrowTooltipVisible] = useState(\n    isMobileOrTablet ? false : true\n  );\n  const [timelineTooltipVisible, changeTimelineTooltipVisible] = useState(true);\n\n  let CarouselRef = useRef(null);\n  let CarouselTimelineRef = useRef(null);\n\n  const rightArrow = document.getElementsByClassName(\"carousel_right_arrow\");\n  const aliceCarouselContainer = document.getElementsByClassName(\n    \"alice-carousel\"\n  );\n  const overviewCarouselContainer = document.getElementsByClassName(\n    \"overview_carousel\"\n  );\n  let trendsCarouselContainer = document.getElementsByClassName(\n    \"trends_carousel\"\n  );\n  const categoryTimelineContainer = document.getElementsByClassName(\n    \"category_timeline_container\"\n  );\n  const googleTooltipContainer = document.getElementsByClassName(\n    \"google-visualization-tooltip\"\n  );\n\n  // Hide tooltip when trend dataset is untoggled\n  useEffect(() => {\n    if (graphOption === \"trends\" && !applyingFilters) {\n      const checkForTooltip = setInterval(() => {\n        const tooltip = googleTooltipContainer[0];\n        const circles = document.getElementsByTagName(\"circle\");\n\n        if (tooltip) {\n          const activePanelContainer = document.getElementsByClassName(\n            \"alice-carousel__stage-item __active\"\n          );\n          const activePaths = activePanelContainer[1].getElementsByTagName(\n            \"path\"\n          );\n          const activeText = activePanelContainer[1].getElementsByTagName(\n            \"text\"\n          );\n\n          const valuesLength = (activePaths.length - 2) / 2;\n\n          for (let i = 0; i < valuesLength; i++) {\n            if (activePaths.item(i).getAttribute(\"stroke\") === \"none\") {\n              if (\n                activeText.item(i).textContent.slice(0, 4) ===\n                tooltip.lastChild.firstChild.textContent\n                  .split(\":\")[0]\n                  .slice(0, 4)\n              ) {\n                tooltip.style.display = \"none\";\n\n                for (let j = 0; j < circles.length; j++) {\n                  circles[j].style.display = \"none\";\n                }\n              }\n            }\n          }\n        } else {\n          for (let j = 0; j < circles.length; j++) {\n            circles[j].style.display = \"block\";\n          }\n        }\n      }, 10);\n\n      return () => {\n        clearInterval(checkForTooltip);\n      };\n    }\n  }, [googleTooltipContainer, graphOption, applyingFilters]);\n\n  useEffect(() => {\n    if (graphOption === \"overview\") {\n      if (CarouselTimelineRef.current) {\n        CarouselTimelineRef.current.style.display = \"none\";\n      } else {\n        const findTimelineRefInterval = setInterval(() => {\n          if (CarouselTimelineRef) {\n            if (CarouselRef.current) {\n              CarouselTimelineRef.current.style.display = \"none\";\n              clearInterval(findTimelineRefInterval);\n            }\n          }\n        }, 500);\n      }\n    } else {\n      if (CarouselRef.current) {\n        CarouselRef.current.style.display = \"none\";\n      }\n    }\n  }, [graphOption]);\n\n  useEffect(() => {\n    const graphOptionsContainer = document.getElementsByClassName(\n      \"graph_options_container\"\n    )[0];\n\n    const trendsRadioButton = graphOptionsContainer.lastChild.lastChild;\n\n    if (!trendsAvailable) {\n      trendsRadioButton.style.opacity = 0.7;\n    } else {\n      trendsRadioButton.style.opacity = 1;\n    }\n  }, [trendsAvailable]);\n\n  useEffect(() => {\n    if (!applyingFilters) {\n      for (let i = 0; i < aliceCarouselContainer.length; i++) {\n        if (i === 0) {\n          if (\n            !aliceCarouselContainer[i].className.includes(\"overview_carousel\")\n          ) {\n            aliceCarouselContainer[i].className += \" overview_carousel\";\n          }\n        } else {\n          if (\n            !aliceCarouselContainer[i].className.includes(\"trends_carousel\")\n          ) {\n            aliceCarouselContainer[i].className += \" trends_carousel\";\n          }\n        }\n      }\n    }\n  }, [aliceCarouselContainer, applyingFilters]);\n\n  useEffect(() => {\n    if (graphOption === \"overview\" && !applyingFilters) {\n      if (overviewCarouselContainer) {\n        if (overviewCarouselContainer[0]) {\n          overviewCarouselContainer[0].style.opacity = 1;\n          overviewCarouselContainer[0].style.zIndex = 1;\n        }\n      }\n\n      if (trendsCarouselContainer) {\n        if (trendsCarouselContainer[0]) {\n          trendsCarouselContainer[0].style.opacity = 0;\n          trendsCarouselContainer[0].style.zIndex = -1;\n        } else {\n          const findTrendsCarousel = setInterval(() => {\n            let newTrendsCarouselContainer = document.getElementsByClassName(\n              \"trends_carousel\"\n            );\n\n            if (newTrendsCarouselContainer[0]) {\n              newTrendsCarouselContainer[0].style.opacity = 0;\n              newTrendsCarouselContainer[0].style.zIndex = -1;\n              clearInterval(findTrendsCarousel);\n            }\n          }, 500);\n        }\n      }\n    } else {\n      if (overviewCarouselContainer) {\n        if (overviewCarouselContainer[0]) {\n          overviewCarouselContainer[0].style.opacity = 0;\n          overviewCarouselContainer[0].style.opacity = -1;\n        }\n      }\n\n      if (trendsCarouselContainer) {\n        if (trendsCarouselContainer[0]) {\n          trendsCarouselContainer[0].style.opacity = 1;\n          trendsCarouselContainer[0].style.zIndex = 1;\n        }\n      }\n    }\n  }, [\n    graphOption,\n    overviewCarouselContainer,\n    trendsCarouselContainer,\n    applyingFilters,\n  ]);\n\n  const handleFooterMenuActive = () => {\n    if (footerMenuActive) {\n      changeFooterMenuActive(false);\n    } else {\n      changeFooterMenuActive(true);\n\n      if (!firstTimeFooterActive) {\n        setTimeout(() => {\n          changeArrowTooltipVisible(true);\n        }, 1800);\n\n        changeFirstTimeFooterActive(true);\n      }\n    }\n  };\n\n  const handleDismissTooltips = () => {\n    if (graphOption === \"trends\") {\n      if (timelineTooltipVisible) {\n        changeTimelineTooltipVisible(false);\n      }\n\n      if (arrowTooltipVisible) {\n        changeArrowTooltipVisible(false);\n      }\n    }\n  };\n\n  return (\n    <div\n      className=\"bottom_info_panel_container\"\n      style={{\n        zIndex: isMobileOrTablet\n          ? tooltipVisible\n            ? -1\n            : 10\n          : tooltipVisible\n          ? -1\n          : 0,\n        transform: isMobileOrTablet\n          ? footerMenuActive\n            ? \"translate3d(0, 0, 0)\"\n            : \"translate3d(0, 100%, 0)\"\n          : \"none\",\n      }}\n    >\n      <div\n        className=\"shadow_overlay\"\n        onClick={() => changeFooterMenuActive(false)}\n        style={{\n          opacity: footerMenuActive ? 1 : 0,\n          display: footerMenuActive ? \"block\" : \"none\",\n        }}\n      >\n        {\" \"}\n      </div>\n      <div className=\"footer_menu_trigger\" onClick={handleFooterMenuActive}>\n        {!footerMenuActive ? (\n          <>\n            <GoGraph /> VIEW GRAPHS AND TRENDS\n          </>\n        ) : (\n          <>\n            <FiMinimize2 /> BACK TO ARREST MAP\n          </>\n        )}\n      </div>\n      <div className=\"bottom_info_main_info_box\">\n        <div className=\"filters_applied\">\n          <h2>Filters Applied</h2>\n          {currentFilters.category.length === 0 &&\n          currentFilters.offense.length === 0 &&\n          currentFilters.age.length === 0 &&\n          currentFilters.race.length === 0 &&\n          currentFilters.sex.length === 0 &&\n          currentFilters.borough.length === 0 ? (\n            <p className=\"no_filters_applied_statement\">\n              No filters currently applied\n            </p>\n          ) : (\n            <>\n              <p>\n                <strong>\n                  {currentFilters.category.length === 0\n                    ? null\n                    : \"Categor\" +\n                      (currentFilters.category.length > 1 ? \"ies: \" : \"y: \")}\n                </strong>\n                {currentFilters.category.length === 0\n                  ? null\n                  : currentFilters.category\n                      .map((x) =>\n                        x === \"F\"\n                          ? \"Felony\"\n                          : x === \"M\"\n                          ? \"Misdemeanor\"\n                          : \"Violation\"\n                      )\n                      .join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.offense.length === 0\n                    ? null\n                    : \"Offense\" +\n                      (currentFilters.offense.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.offense.length === 0\n                  ? null\n                  : currentFilters.offense.join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.age.length === 0\n                    ? null\n                    : \"Age\" + (currentFilters.age.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.age.length === 0\n                  ? null\n                  : currentFilters.age\n                      .map((x) => (x === \"65\" ? \"65+\" : x))\n                      .join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.race.length === 0\n                    ? null\n                    : \"Race\" +\n                      (currentFilters.race.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.race.length === 0\n                  ? null\n                  : currentFilters.race.join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.sex.length === 0 ? null : \"Sex: \"}\n                </strong>\n                {currentFilters.sex.length === 0\n                  ? null\n                  : currentFilters.sex\n                      .map((x) => (x === \"M\" ? \"Male\" : \"Female\"))\n                      .join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.borough.length === 0\n                    ? null\n                    : \"Borough\" +\n                      (currentFilters.borough.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.borough.length === 0\n                  ? null\n                  : currentFilters.borough\n                      .map((item) =>\n                        item === \"B\"\n                          ? \"Bronx\"\n                          : item === \"Q\"\n                          ? \"Queens\"\n                          : item === \"M\"\n                          ? \"Manhattan\"\n                          : item === \"K\"\n                          ? \"Brooklyn\"\n                          : item === \"S\"\n                          ? \"Staten Island\"\n                          : \"Unknown\"\n                      )\n                      .join(\", \")}\n              </p>\n            </>\n          )}\n        </div>\n        <div className=\"graph_options_container\">\n          <p>Graph Options</p>\n          <RadioGroup\n            onChange={(value) => changeGraphOption(value)}\n            horizontal\n            value={graphOption}\n          >\n            <RadioButton\n              rootColor=\"rgb(140, 140, 140)\"\n              pointColor=\"rgb(0, 0, 128)\"\n              value=\"overview\"\n            >\n              Overview\n            </RadioButton>\n            <RadioButton\n              rootColor=\"rgb(140, 140, 140)\"\n              pointColor=\"rgb(0, 0, 128)\"\n              value=\"trends\"\n              disabled={!trendsAvailable}\n              disabledColor=\"rgb(211, 211, 211)\"\n            >\n              Trends\n            </RadioButton>\n          </RadioGroup>\n        </div>\n      </div>\n      <div className=\"carousel_container\" onTouchStart={handleDismissTooltips}>\n        <Tippy\n          content=\"Click the left and right arrows to view more graphs\"\n          visible={\n            isMobileOrTablet\n              ? footerMenuActive &&\n                arrowTooltipVisible &&\n                layersRef.current.length > 0 &&\n                (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n                (boroughTimelineColumns\n                  ? boroughTimelineColumns.length > 0\n                  : false) &&\n                (categoryTimelineColumns\n                  ? categoryTimelineColumns.length > 0\n                  : false) &&\n                (raceTimelineColumns\n                  ? raceTimelineColumns.length > 0\n                  : false) &&\n                (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n              : arrowTooltipVisible &&\n                layersRef.current.length > 0 &&\n                (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n                (boroughTimelineColumns\n                  ? boroughTimelineColumns.length > 0\n                  : false) &&\n                (categoryTimelineColumns\n                  ? categoryTimelineColumns.length > 0\n                  : false) &&\n                (raceTimelineColumns\n                  ? raceTimelineColumns.length > 0\n                  : false) &&\n                (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n          }\n          reference={rightArrow[0]}\n          className=\"burger_tooltip\"\n          placement=\"left\"\n          onClickOutside={() => changeArrowTooltipVisible(false)}\n        />\n        <FaChevronLeft\n          color=\"rgb(0, 0, 0)\"\n          className=\"carousel_left_arrow\"\n          onClick={() => {\n            CarouselRef.slidePrev();\n            CarouselTimelineRef.slidePrev();\n\n            if (arrowTooltipVisible) {\n              changeArrowTooltipVisible(false);\n            }\n          }}\n        />\n        <AliceCarousel\n          ref={(el) => (CarouselRef = el)}\n          autoPlay={false}\n          fadeOutAnimation={true}\n          dotsDisabled={true}\n          buttonsDisabled={true}\n          mouseTrackingEnabled={true}\n          playButtonEnabled={false}\n          disableAutoPlayOnAction={false}\n          responsive={{\n            0: { items: 1 },\n            760: { items: 2 },\n            1600: { items: 3 },\n          }}\n          preservePosition={true}\n          infinite={true}\n          items={[\n            <Category\n              key=\"overview\"\n              filteredArrestCategory={filteredArrestCategory}\n              graphOption={graphOption}\n            />,\n            <AgeGroup\n              key=\"overview\"\n              filteredAgeGroup={filteredAgeGroup}\n              filteredAgeGroupData={filteredAgeGroupData}\n              graphOption={graphOption}\n            />,\n            <Race\n              key=\"overview\"\n              filteredRaceUniqueValues={filteredRaceUniqueValues}\n              filteredRaceArr={filteredRaceArr}\n              graphOption={graphOption}\n            />,\n            <Gender\n              key=\"overview\"\n              filteredSexUniqueValues={filteredSexUniqueValues}\n              filteredSexArr={filteredSexArr}\n              graphOption={graphOption}\n            />,\n            <Borough\n              key=\"overview\"\n              filteredBoroughUniqueValues={filteredBoroughUniqueValues}\n              filteredBoroughArr={filteredBoroughArr}\n              graphOption={graphOption}\n            />,\n            <TopOffenses\n              key=\"overview\"\n              filteredOffenseDescriptionArr={filteredOffenseDescriptionArr}\n              filteredOffenseDescriptionUniqueValues={\n                filteredOffenseDescriptionUniqueValues\n              }\n              graphOption={graphOption}\n              isSame={isSame}\n              usePrevious={usePrevious}\n              isMobileOrTablet={isMobileOrTablet}\n              isMediumLaptop={isMediumLaptop}\n            />,\n          ]}\n        />\n        <Tippy\n          content={\n            isMobileOrTablet\n              ? null\n              : \"Scroll to zoom in and out of trend graphs\"\n          }\n          visible={\n            isMobileOrTablet\n              ? false\n              : graphOption === \"trends\" && timelineTooltipVisible\n          }\n          reference={\n            categoryTimelineContainer.length > 2\n              ? categoryTimelineContainer[1]\n              : categoryTimelineContainer[0]\n          }\n          className=\"burger_tooltip trend_tooltip\"\n          placement=\"top\"\n          onClickOutside={() => changeTimelineTooltipVisible(false)}\n        />\n        <Tippy\n          content=\"Toggle data lines by selecting legend items\"\n          visible={graphOption === \"trends\" && timelineTooltipVisible}\n          reference={\n            categoryTimelineContainer.length > 2\n              ? categoryTimelineContainer[1]\n              : categoryTimelineContainer[0]\n          }\n          className=\"burger_tooltip trend_tooltip\"\n          placement={isMobileOrTablet ? \"left\" : \"right\"}\n          offset={isMobileOrTablet ? [-30, -180] : [0, 50]}\n          onClickOutside={() => changeTimelineTooltipVisible(false)}\n        />\n        {applyingFilters ? null : (\n          <AliceCarousel\n            ref={(el) => (CarouselTimelineRef = el)}\n            autoPlay={false}\n            dotsDisabled={true}\n            buttonsDisabled={true}\n            mouseTrackingEnabled={false}\n            playButtonEnabled={false}\n            disableAutoPlayOnAction={false}\n            touchMoveDefaultEvents={false}\n            infinite={true}\n            responsive={{\n              0: { items: 1 },\n              760: { items: 2 },\n              1600: { items: 3 },\n            }}\n            preservePosition={true}\n            items={[\n              <CategoryTimeline\n                key=\"trends\"\n                filteredTimelineCategoryData={filteredTimelineCategoryData}\n                filteredArrestCategory={filteredArrestCategory}\n                filteredUniqueCategory={filteredUniqueCategory}\n                isMobileOrTablet={isMobileOrTablet}\n                isMediumLaptop={isMediumLaptop}\n              />,\n              <AgeGroupTimeline\n                key=\"trends\"\n                filteredAgeGroupData={filteredAgeGroupData}\n                filteredTimelineAgeGroupData={filteredTimelineAgeGroupData}\n                isMobileOrTablet={isMobileOrTablet}\n                isMediumLaptop={isMediumLaptop}\n              />,\n              <BoroughTimeline\n                key=\"trends\"\n                filteredBoroughUniqueValues={filteredBoroughUniqueValues}\n                filteredTimelineBoroughData={filteredTimelineBoroughData}\n                isMobileOrTablet={isMobileOrTablet}\n                isMediumLaptop={isMediumLaptop}\n              />,\n              <RaceTimeline\n                key=\"trends\"\n                filteredRaceUniqueValues={filteredRaceUniqueValues}\n                filteredTimelineRaceData={filteredTimelineRaceData}\n                isMobileOrTablet={isMobileOrTablet}\n                isMediumLaptop={isMediumLaptop}\n              />,\n              <GenderTimeline\n                key=\"trends\"\n                filteredSexUniqueValues={filteredSexUniqueValues}\n                filteredTimelineSexData={filteredTimelineSexData}\n                isMobileOrTablet={isMobileOrTablet}\n                isMediumLaptop={isMediumLaptop}\n              />,\n            ]}\n          />\n        )}\n        <FaChevronRight\n          color=\"rgb(0, 0, 0)\"\n          className=\"carousel_right_arrow\"\n          onClick={() => {\n            CarouselRef.slideNext();\n            CarouselTimelineRef.slideNext();\n\n            if (arrowTooltipVisible) {\n              changeArrowTooltipVisible(false);\n            }\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default BottomInfoPanel;\n","const yearlyTotals = {\n  2006: 371932,\n  2007: 403229,\n  2008: 401526,\n  2009: 421314,\n  2010: 422320,\n  2011: 412856,\n  2012: 396278,\n  2013: 393807,\n  2014: 387725,\n  2015: 339468,\n  2016: 314862,\n  2017: 286223,\n  2018: 246772,\n  2019: 214616,\n  2020: 103375,\n};\n\nexport default yearlyTotals;\n","import React from \"react\";\nimport {\n  CircularProgressbarWithChildren,\n  buildStyles,\n} from \"react-circular-progressbar\";\nimport { GiHandcuffs } from \"react-icons/gi\";\nimport GridLoader from \"react-spinners/GridLoader\";\nimport BounceLoader from \"react-spinners/BounceLoader\";\nimport { css } from \"@emotion/core\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport { useSelector } from \"react-redux\";\nimport Div100vh from \"react-div-100vh\";\n\nconst InitialLoader = (props) => {\n  const { countUp, loaderColor, mapError, applyingFiltersProgressRef } = props;\n\n  const override = css`\n    display: block;\n    margin: 0 auto;\n  `;\n\n  const filteredDataChunks = useSelector(\n    (state) => state.filteredDataChunksReducer.data\n  );\n\n  const totalCount = useSelector((state) => state.totalCountReducer.total);\n\n  return (\n    <Div100vh className=\"loading_container\">\n      {totalCount === 0 ? (\n        <GridLoader\n          css={override}\n          size={50}\n          color={loaderColor}\n          style={{ transition: \"all 0.5s ease\" }}\n          loading={\n            filteredDataChunks === \"\" ||\n            (typeof filteredDataChunks === \"object\" &&\n              filteredDataChunks.flat().length < 90000)\n          }\n        />\n      ) : countUp > 95 ? (\n        <BounceLoader\n          css={override}\n          size={200}\n          color={\"rgb(93, 188, 210)\"}\n          style={{ transition: \"all 0.5s ease\" }}\n          loading={countUp > 95}\n        />\n      ) : (\n        <CircularProgressbarWithChildren\n          value={countUp}\n          styles={buildStyles({\n            strokeLinecap: \"butt\",\n            trailColor: \"#eee\",\n          })}\n        >\n          <GiHandcuffs color=\"#fff\" size=\"4rem\" />\n          <div style={{ fontSize: 30, marginTop: 20, color: \"#fff\" }}>\n            <strong>{countUp}%</strong>\n          </div>\n        </CircularProgressbarWithChildren>\n      )}\n      <p>\n        {mapError\n          ? \"Error Initializing NYPD Arrest Map\"\n          : totalCount === 0\n          ? \"Initializing NYPD Arrest Map\"\n          : countUp > 95\n          ? `Analyzing Arrest Data (${applyingFiltersProgressRef.current}% Done)`\n          : \"Loading Most Recent Arrest Data\"}\n      </p>\n    </Div100vh>\n  );\n};\n\nexport default InitialLoader;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  CircularProgressbarWithChildren,\n  buildStyles,\n} from \"react-circular-progressbar\";\nimport { GiHandcuffs } from \"react-icons/gi\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport Modal from \"react-modal\";\nimport yearlyTotals from \"./YearlyTotals\";\nimport { useSelector } from \"react-redux\";\n\nconst SubsequentLoader = (props) => {\n  const { modalActive, changeModalActive } = props;\n\n  const loadDataChunks = useSelector(\n    (state) => state.loadDataChunksReducer.data\n  );\n  const filteredDataChunks = useSelector(\n    (state) => state.filteredDataChunksReducer.data\n  );\n\n  const [newProgress, changeNewProgress] = useState(0);\n\n  useEffect(() => {\n    if (loadDataChunks[0][modalActive.year.toString()]) {\n      const progress =\n        Number(\n          loadDataChunks[0][modalActive.year.toString()]\n            .map((x) => x.length)\n            .reduce((a, b) => a + b, 0) /\n            yearlyTotals[modalActive.year.toString()]\n        ).toFixed(1) * 100;\n\n      if (newProgress === 100) {\n        changeModalActive({ active: false, year: null });\n      } else {\n        if (progress && progress !== newProgress) {\n          changeNewProgress(progress);\n        }\n      }\n    }\n  }, [\n    loadDataChunks,\n    modalActive.year,\n    changeModalActive,\n    newProgress,\n    filteredDataChunks.length,\n  ]);\n\n  return (\n    <Modal\n      isOpen={modalActive.active}\n      style={{\n        content: {\n          position: \"fixed\",\n          zIndex: 10000,\n          opacity: 0.99,\n          height: \"100%\",\n          backdropFilter: \"blur(5px)\",\n          WebkitBackdropFilter: \"blur(5px)\",\n          paddingBottom: \"10%\",\n          borderRadius: \"none\",\n          width: \"100vw\",\n          top: \"0\",\n          left: \"0\",\n          right: \"0\",\n          bottom: \"0\",\n          border: \"none\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          background: \"rgba(0, 0, 0, 0.5)\",\n        },\n      }}\n    >\n      <CircularProgressbarWithChildren\n        value={newProgress}\n        styles={buildStyles({\n          strokeLinecap: \"butt\",\n          trailColor: \"#eee\",\n        })}\n      >\n        <GiHandcuffs color=\"#fff\" size=\"4rem\" />\n        <div style={{ fontSize: 30, marginTop: 20, color: \"#fff\" }}>\n          <strong>{newProgress}%</strong>\n        </div>\n      </CircularProgressbarWithChildren>\n      <p>Loading {modalActive.year} Arrest Data</p>\n    </Modal>\n  );\n};\n\nexport default SubsequentLoader;\n","const FILTERED_DATA_CHUNKS_ADD_TO_YEAR = \"FILTERED_DATA_CHUNKS_ADD_TO_YEAR\";\n\nconst ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR = (data, dataIndex) => {\n  return {\n    type: FILTERED_DATA_CHUNKS_ADD_TO_YEAR,\n    data,\n    dataIndex,\n  };\n};\n\nexport default ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR;\n","const FILTERED_DATA_CHUNKS_ADD_YEAR = \"FILTERED_DATA_CHUNKS_ADD_YEAR\";\n\nconst ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR = (data) => {\n  return {\n    type: FILTERED_DATA_CHUNKS_ADD_YEAR,\n    data,\n  };\n};\n\nexport default ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR;\n","const ASSIGN_FILTERED_DATA_CHUNKS = \"ASSIGN_FILTERED_DATA_CHUNKS\";\n\nconst ACTION_ASSIGN_FILTERED_DATA_CHUNKS = (data) => {\n  return {\n    type: ASSIGN_FILTERED_DATA_CHUNKS,\n    data,\n  };\n};\n\nexport default ACTION_ASSIGN_FILTERED_DATA_CHUNKS;\n","const INCREMENT_TOTAL_COUNT = \"INCREMENT_TOTAL_COUNT\";\n\nconst ACTION_INCREMENT_TOTAL_COUNT = (dataLength) => {\n  return {\n    type: INCREMENT_TOTAL_COUNT,\n    dataLength,\n  };\n};\n\nexport default ACTION_INCREMENT_TOTAL_COUNT;\n","const ASSIGN_LOAD_DATA = \"ASSIGN_LOAD_DATA\";\n\nconst ACTION_ASSIGN_LOAD_DATA = (data) => {\n  return {\n    type: ASSIGN_LOAD_DATA,\n    data,\n  };\n};\n\nexport default ACTION_ASSIGN_LOAD_DATA;\n","const FILTERED_DATA_CHANGED = \"FILTERED_DATA_CHANGED\";\n\nconst ACTION_FILTERED_DATA_CHANGED = () => {\n  return {\n    type: FILTERED_DATA_CHANGED,\n  };\n};\n\nexport default ACTION_FILTERED_DATA_CHANGED;\n","const FILTERED_DATA_CHANGED_RESET = \"FILTERED_DATA_CHANGED_RESET\";\n\nconst ACTION_FILTERED_DATA_CHANGED_RESET = () => {\n  return {\n    type: FILTERED_DATA_CHANGED_RESET,\n  };\n};\n\nexport default ACTION_FILTERED_DATA_CHANGED_RESET;\n","const TIMELINE_AGE_GROUP_GRAPH_DATA = \"TIMELINE_AGE_GROUP_GRAPH_DATA\";\n\nconst ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA = (data) => {\n  return {\n    type: TIMELINE_AGE_GROUP_GRAPH_DATA,\n    data,\n  };\n};\n\nexport default ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA;\n","const TIMELINE_BOROUGH_GRAPH_DATA = \"TIMELINE_BOROUGH_GRAPH_DATA\";\n\nconst ACTION_TIMELINE_BOROUGH_GRAPH_DATA = (data) => {\n  return {\n    type: TIMELINE_BOROUGH_GRAPH_DATA,\n    data,\n  };\n};\n\nexport default ACTION_TIMELINE_BOROUGH_GRAPH_DATA;\n","const TIMELINE_CATEGORY_GRAPH_DATA = \"TIMELINE_CATEGORY_GRAPH_DATA\";\n\nconst ACTION_TIMELINE_CATEGORY_GRAPH_DATA = (data) => {\n  return {\n    type: TIMELINE_CATEGORY_GRAPH_DATA,\n    data,\n  };\n};\n\nexport default ACTION_TIMELINE_CATEGORY_GRAPH_DATA;\n","const TIMELINE_GENDER_GRAPH_DATA = \"TIMELINE_GENDER_GRAPH_DATA\";\n\nconst ACTION_TIMELINE_GENDER_GRAPH_DATA = (data) => {\n  return {\n    type: TIMELINE_GENDER_GRAPH_DATA,\n    data,\n  };\n};\n\nexport default ACTION_TIMELINE_GENDER_GRAPH_DATA;\n","const TIMELINE_RACE_GRAPH_DATA = \"TIMELINE_RACE_GRAPH_DATA\";\n\nconst ACTION_TIMELINE_RACE_GRAPH_DATA = (data) => {\n  return {\n    type: TIMELINE_RACE_GRAPH_DATA,\n    data,\n  };\n};\n\nexport default ACTION_TIMELINE_RACE_GRAPH_DATA;\n","export default function() {\n  return new Worker(__webpack_public_path__ + \"static/js/setFilterAndTimelineGraphWorkers.ad7e120d.worker.js\");\n}\n","const AGE_TIMELINE_COLUMNS = \"AGE_TIMELINE_COLUMNS\";\n\nconst ACTION_AGE_TIMELINE_COLUMNS = (columns) => {\n  return {\n    type: AGE_TIMELINE_COLUMNS,\n    columns,\n  };\n};\n\nexport default ACTION_AGE_TIMELINE_COLUMNS;\n","const BOROUGH_TIMELINE_COLUMNS = \"BOROUGH_TIMELINE_COLUMNS\";\n\nconst ACTION_BOROUGH_TIMELINE_COLUMNS = (columns) => {\n  return {\n    type: BOROUGH_TIMELINE_COLUMNS,\n    columns,\n  };\n};\n\nexport default ACTION_BOROUGH_TIMELINE_COLUMNS;\n","const CATEGORY_TIMELINE_COLUMNS = \"CATEGORY_TIMELINE_COLUMNS\";\n\nconst ACTION_CATEGORY_TIMELINE_COLUMNS = (columns) => {\n  return {\n    type: CATEGORY_TIMELINE_COLUMNS,\n    columns,\n  };\n};\n\nexport default ACTION_CATEGORY_TIMELINE_COLUMNS;\n","const SEX_TIMELINE_COLUMNS = \"SEX_TIMELINE_COLUMNS\";\n\nconst ACTION_SEX_TIMELINE_COLUMNS = (columns) => {\n  return {\n    type: SEX_TIMELINE_COLUMNS,\n    columns,\n  };\n};\n\nexport default ACTION_SEX_TIMELINE_COLUMNS;\n","const RACE_TIMELINE_COLUMNS = \"RACE_TIMELINE_COLUMNS\";\n\nconst ACTION_RACE_TIMELINE_COLUMNS = (columns) => {\n  return {\n    type: RACE_TIMELINE_COLUMNS,\n    columns,\n  };\n};\n\nexport default ACTION_RACE_TIMELINE_COLUMNS;\n","const APPLYING_FILTERS_RESET = \"APPLYING_FILTERS_RESET\";\n\nconst ACTION_APPLYING_FILTERS_RESET = () => {\n  return {\n    type: APPLYING_FILTERS_RESET,\n  };\n};\n\nexport default ACTION_APPLYING_FILTERS_RESET;\n","import React, { useEffect, useRef } from \"react\";\nimport Popup from \"reactjs-popup\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport { css } from \"@emotion/core\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport \"./ApplyingFiltersPopUp.css\";\nimport \"reactjs-popup/dist/index.css\";\nimport { useSelector } from \"react-redux\";\n\nconst ApplyingFiltersPopUp = (props) => {\n  const { applyingFiltersProgressRef } = props;\n\n  const applyingFiltersRef = useRef(null);\n\n  const override = css`\n    display: block;\n    margin: 0 auto;\n  `;\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n\n  const resetFilters = useSelector((state) => state.resetFiltersReducer.reset);\n\n  useEffect(() => {\n    if (applyingFiltersRef) {\n      if (applyingFiltersRef.current) {\n        if (applyingFilters || resetFilters) {\n          applyingFiltersRef.current.open();\n        } else {\n          applyingFiltersRef.current.close();\n        }\n      }\n    }\n  }, [applyingFilters, resetFilters]);\n\n  return (\n    <Popup\n      className=\"applying_filters\"\n      ref={applyingFiltersRef}\n      modal\n      closeOnDocumentClick={false}\n      closeOnEscape={false}\n    >\n      <div className=\"applying_filters_modal\">\n        <ClipLoader\n          css={override}\n          size={80}\n          color={\"rgb(0, 109, 129)\"}\n          style={{ transition: \"all 0.5s ease\" }}\n          loading={true}\n        />\n        <p>\n          {resetFilters ? \"Resetting\" : \"Applying\"} Filters (\n          {applyingFiltersProgressRef.current}% Done)\n        </p>\n      </div>\n    </Popup>\n  );\n};\n\nexport default ApplyingFiltersPopUp;\n","const NEW_YEAR_FINISHED_LOADING_RESET = \"NEW_YEAR_FINISHED_LOADING_RESET\";\n\nconst ACTION_NEW_YEAR_FINISHED_LOADING_RESET = () => {\n  return {\n    type: NEW_YEAR_FINISHED_LOADING_RESET,\n  };\n};\n\nexport default ACTION_NEW_YEAR_FINISHED_LOADING_RESET;\n","const NEW_YEAR_FINISHED_LOADING = \"NEW_YEAR_FINISHED_LOADING\";\n\nconst ACTION_NEW_YEAR_FINISHED_LOADING = () => {\n  return {\n    type: NEW_YEAR_FINISHED_LOADING,\n  };\n};\n\nexport default ACTION_NEW_YEAR_FINISHED_LOADING;\n","const TRENDS_AVAILABLE = \"TRENDS_AVAILABLE\";\n\nconst ACTION_TRENDS_AVAILABLE = () => {\n  return {\n    type: TRENDS_AVAILABLE,\n  };\n};\n\nexport default ACTION_TRENDS_AVAILABLE;\n","const TRENDS_NOT_AVAILABLE = \"TRENDS_NOT_AVAILABLE\";\n\nconst ACTION_TRENDS_NOT_AVAILABLE = () => {\n  return {\n    type: TRENDS_NOT_AVAILABLE,\n  };\n};\n\nexport default ACTION_TRENDS_NOT_AVAILABLE;\n","const RESET_FILTERS_RESET = \"RESET_FILTERS_RESET\";\n\nconst ACTION_RESET_FILTERS_RESET = () => {\n  return {\n    type: RESET_FILTERS_RESET,\n  };\n};\n\nexport default ACTION_RESET_FILTERS_RESET;\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport DeckGL from \"@deck.gl/react\";\nimport { StaticMap } from \"react-map-gl\";\nimport { ScatterplotLayer } from \"@deck.gl/layers\";\nimport \"./App.css\";\nimport \"./mapbox.css\";\nimport NavigationBar from \"./NavigationBar/NavigationBar\";\nimport BottomInfoPanel from \"./BottomInfoPanel/BottomInfoPanel\";\nimport dayjs from \"dayjs\";\nimport customParseFormat from \"dayjs/plugin/customParseFormat\";\nimport yearlyTotals from \"./YearlyTotals\";\nimport { useCountUp } from \"react-countup\";\nimport InitialLoader from \"./InitialLoader\";\nimport SubsequentLoader from \"./SubsequentLoader\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR from \"./actions/filteredDataChunks/ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR\";\nimport ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR from \"./actions/filteredDataChunks/ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR\";\nimport ACTION_ASSIGN_FILTERED_DATA_CHUNKS from \"./actions/filteredDataChunks/ACTION_ASSIGN_FILTERED_DATA_CHUNKS\";\nimport ACTION_INCREMENT_TOTAL_COUNT from \"./actions/totalCount/ACTION_INCREMENT_TOTAL_COUNT\";\nimport ACTION_ASSIGN_LOAD_DATA from \"./actions/loadData/ACTION_ASSIGN_LOAD_DATA\";\nimport ACTION_FILTERED_DATA_CHANGED from \"./actions/filteredData/ACTION_FILTERED_DATA_CHANGED\";\nimport ACTION_FILTERED_DATA_CHANGED_RESET from \"./actions/filteredData/ACTION_FILTERED_DATA_CHANGED_RESET\";\nimport ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA from \"./actions/timelineGraphData/ageGroup/ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA\";\nimport ACTION_TIMELINE_BOROUGH_GRAPH_DATA from \"./actions/timelineGraphData/borough/ACTION_TIMELINE_BOROUGH_GRAPH_DATA\";\nimport ACTION_TIMELINE_CATEGORY_GRAPH_DATA from \"./actions/timelineGraphData/category/ACTION_TIMELINE_CATEGORY_GRAPH_DATA\";\nimport ACTION_TIMELINE_GENDER_GRAPH_DATA from \"./actions/timelineGraphData/gender/ACTION_TIMELINE_GENDER_GRAPH_DATA\";\nimport ACTION_TIMELINE_RACE_GRAPH_DATA from \"./actions/timelineGraphData/race/ACTION_TIMELINE_RACE_GRAPH_DATA\";\nimport setFilterAndTimelineGraphWorkers from \"worker-loader!./setFilterAndTimelineGraphWorkers.js\"; // eslint-disable-line import/no-webpack-loader-syntax\nimport ACTION_AGE_TIMELINE_COLUMNS from \"./actions/timelineColumns/age/ACTION_AGE_TIMELINE_COLUMNS\";\nimport ACTION_BOROUGH_TIMELINE_COLUMNS from \"./actions/timelineColumns/borough/ACTION_BOROUGH_TIMELINE_COLUMNS\";\nimport ACTION_CATEGORY_TIMELINE_COLUMNS from \"./actions/timelineColumns/category/ACTION_CATEGORY_TIMELINE_COLUMNS\";\nimport ACTION_SEX_TIMELINE_COLUMNS from \"./actions/timelineColumns/sex/ACTION_SEX_TIMELINE_COLUMNS\";\nimport ACTION_RACE_TIMELINE_COLUMNS from \"./actions/timelineColumns/race/ACTION_RACE_TIMELINE_COLUMNS\";\nimport ACTION_APPLYING_FILTERS_RESET from \"./actions/applyingFilters/ACTION_APPLYING_FILTERS_RESET\";\nimport ApplyingFiltersPopUp from \"./ApplyingFiltersPopUp/ApplyingFiltersPopUp\";\nimport ACTION_NEW_YEAR_FINISHED_LOADING_RESET from \"./actions/newYearFinishedLoading/ACTION_NEW_YEAR_FINISHED_LOADING_RESET\";\nimport ACTION_NEW_YEAR_FINISHED_LOADING from \"./actions/newYearFinishedLoading/ACTION_NEW_YEAR_FINISHED_LOADING\";\nimport ACTION_TRENDS_AVAILABLE from \"./actions/trendsAvailable/ACTION_TRENDS_AVAILABLE\";\nimport ACTION_TRENDS_NOT_AVAILABLE from \"./actions/trendsAvailable/ACTION_TRENDS_NOT_AVAILABLE\";\nimport Div100vh from \"react-div-100vh\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { FcRotateToLandscape } from \"react-icons/fc\";\nimport ACTION_RESET_FILTERS_RESET from \"./actions/resetFilters/ACTION_RESET_FILTERS_RESET\";\n\ndayjs.extend(customParseFormat);\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  const loadData = useSelector((state) => state.loadDataReducer.data);\n  const filteredDataChanged = useSelector(\n    (state) => state.filteredDataReducer.changed\n  );\n  const filteredDataChunks = useSelector(\n    (state) => state.filteredDataChunksReducer.data\n  );\n  const newYearFinishedLoading = useSelector(\n    (state) => state.newYearFinishedLoadingReducer.finished\n  );\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n  const resetFilters = useSelector((state) => state.resetFiltersReducer.reset);\n\n  const totalCount = useSelector((state) => state.totalCountReducer.total);\n\n  const ageGroupTimelineGraphData = useSelector(\n    (state) => state.ageGroupTimelineGraphDataReducer.data\n  );\n  const boroughTimelineGraphData = useSelector(\n    (state) => state.boroughTimelineGraphDataReducer.data\n  );\n  const categoryTimelineGraphData = useSelector(\n    (state) => state.categoryTimelineGraphDataReducer.data\n  );\n  const genderTimelineGraphData = useSelector(\n    (state) => state.genderTimelineGraphDataReducer.data\n  );\n  const raceTimelineGraphData = useSelector(\n    (state) => state.raceTimelineGraphDataReducer.data\n  );\n\n  // Timeline Column Data\n  const ageTimelineColumns = useSelector(\n    (state) => state.ageTimelineColumnsReducer.columns\n  );\n  const boroughTimelineColumns = useSelector(\n    (state) => state.boroughTimelineColumnsReducer.columns\n  );\n  const categoryTimelineColumns = useSelector(\n    (state) => state.categoryTimelineColumnsReducer.columns\n  );\n  const raceTimelineColumns = useSelector(\n    (state) => state.raceTimelineColumnsReducer.columns\n  );\n  const sexTimelineColumns = useSelector(\n    (state) => state.sexTimelineColumnsReducer.columns\n  );\n\n  const [mapLoaded, changeMapLoaded] = useState(false);\n  const [tooltipVisible, changeTooltipVisible] = useState(false);\n  const [loaderColor, changeLoaderColor] = useState(\"rgb(93, 188, 210)\");\n  const [mapError, changeMapError] = useState(false);\n  const [modalActive, changeModalActive] = useState({\n    active: false,\n    year: null,\n  });\n  const [mapPostsCompleted, changeMapPostsCompleted] = useState(false);\n  const [\n    readyForTimelineColumnPosts,\n    changeReadyForTimelineColumnPosts,\n  ] = useState(false);\n  const [graphOption, changeGraphOption] = useState(\"overview\");\n  const [footerMenuActive, changeFooterMenuActive] = useState(false);\n\n  const [currentFilters, changeCurrentFilters] = useState({\n    category: [],\n    offense: [],\n    age: [],\n    race: [],\n    sex: [],\n    borough: [],\n  });\n\n  const isMobileOrTablet = useMediaQuery({ maxWidth: 1224 });\n  const isTablet = useMediaQuery({ minWidth: 768 });\n  const isMediumLaptop = useMediaQuery({ maxWidth: 1440 });\n  const isPortrait = useMediaQuery({ orientation: \"portrait\" });\n\n  const [laddaLoading, changeLaddaLoading] = useState(false);\n  const [resetLaddaLoading, changeResetLaddaLoading] = useState(false);\n  const [loadingYears, changeLoadingYears] = useState([]);\n\n  // Web Worker Instances\n  const [workerInstance, changeWorkerInstance] = useState(\"\");\n  const [mapFilterWorkerInstance, changeMapFilterWorkerInstance] = useState(\"\");\n  const [filterWorkerInstance, changeFilterWorkerInstance] = useState(\"\");\n  const [timelineWorkerInstance, changeTimelineWorkerInstance] = useState(\"\");\n  const [\n    setFilterAndTimelineGraphWorkersInstance,\n    changeSetFilterAndTimelineGraphWorkersInstance,\n  ] = useState(\"\");\n\n  const [mapVisible, changeMapVisible] = useState(false);\n\n  // Side Menu Bar States\n  const [menuClicked, changeMenuClicked] = useState(false);\n  const [collapseOpen, changeCollapseOpen] = useState(\"\");\n\n  let layersRef = useRef([]);\n  let applyingFiltersProgressRef = useRef(0);\n  const deckGLRef = useRef(null);\n\n  // Needed for screen-readers\n  useEffect(() => {\n    Modal.setAppElement(\"body\");\n  }, []);\n\n  // Custom Hook to check for previous state\n  const usePrevious = (value) => {\n    const ref = useRef();\n    useEffect(() => {\n      ref.current = value;\n    });\n    return ref.current;\n  };\n\n  const prevFilters = usePrevious(currentFilters);\n\n  const { countUp, update } = useCountUp({\n    start: 0,\n    end:\n      loadData.length > 0\n        ? Number((loadData.length / yearlyTotals[\"2020\"]).toFixed(1)) * 100\n        : 0,\n    delay: 0,\n    duration: 1,\n  });\n\n  useEffect(() => {\n    if (loadData.length > 0) {\n      const newProgress =\n        Number((loadData.length / yearlyTotals[\"2020\"]).toFixed(1)) * 100;\n\n      if (newProgress >= 60) {\n        update(100);\n      } else {\n        update(newProgress);\n      }\n    }\n  }, [update, countUp, loadData]);\n\n  const isSame = (arr1, arr2) =>\n    arr1.length === arr2.length &&\n    arr1.every((item, i) => {\n      return item === arr2[i];\n    });\n\n  const [ageGroup, changeAgeGroup] = useState([]);\n  const [raceArr, changeRaceArr] = useState([]);\n  const [boroughArr, changeBoroughArr] = useState([]);\n  const [offenseDescriptionArr, changeOffenseDescriptionArr] = useState([]);\n  const [filteredArrestCategory, changeFilteredArrestCategory] = useState([]);\n  const [filteredAgeGroup, changeFilteredAgeGroup] = useState([]);\n  const [filteredSexArr, changeFilteredSexArr] = useState([]);\n  const [filteredRaceArr, changeFilteredRaceArr] = useState([]);\n  const [filteredBoroughArr, changeFilteredBoroughArr] = useState([]);\n  const [\n    filteredOffenseDescriptionArr,\n    changeFilteredOffenseDescriptionArr,\n  ] = useState([]);\n  const [filteredUniqueCategory, changeFilteredUniqueCategory] = useState([]);\n  const [\n    filteredTimelineAgeGroupData,\n    changeFilteredTimelineAgeGroupData,\n  ] = useState([]);\n  const [\n    filteredTimelineBoroughData,\n    changeFilteredTimelineBoroughData,\n  ] = useState([]);\n  const [\n    filteredTimelineCategoryData,\n    changeFilteredTimelineCategoryData,\n  ] = useState([]);\n  const [filteredTimelineSexData, changeFilteredTimelineSexData] = useState([]);\n  const [filteredTimelineRaceData, changeFilteredTimelineRaceData] = useState(\n    []\n  );\n\n  const postToTimelineGraphWorker = useCallback(\n    (ageObj, raceObj, categoryObj, sexObj, boroughObj) => {\n      if (setFilterAndTimelineGraphWorkersInstance) {\n        // Send from main thread to web worker\n        setFilterAndTimelineGraphWorkersInstance.postMessage({\n          ageObj,\n          raceObj,\n          categoryObj,\n          sexObj,\n          boroughObj,\n        });\n\n        setFilterAndTimelineGraphWorkersInstance.onmessage = (receivedData) => {\n          applyingFiltersProgressRef.current += 25;\n\n          const ageGroupTimelineGraphData =\n            receivedData.data.ageGroupTimelineGraphData;\n          const raceTimelineGraphData = receivedData.data.raceTimelineGraphData;\n          const categoryTimelineGraphData =\n            receivedData.data.categoryTimelineGraphData;\n          const genderTimelineGraphData =\n            receivedData.data.genderTimelineGraphData;\n          const boroughTimelineGraphData =\n            receivedData.data.boroughTimelineGraphData;\n\n          dispatch(\n            ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA(ageGroupTimelineGraphData)\n          );\n          dispatch(\n            ACTION_TIMELINE_BOROUGH_GRAPH_DATA(boroughTimelineGraphData)\n          );\n          dispatch(\n            ACTION_TIMELINE_CATEGORY_GRAPH_DATA(categoryTimelineGraphData)\n          );\n          dispatch(ACTION_TIMELINE_GENDER_GRAPH_DATA(genderTimelineGraphData));\n          dispatch(ACTION_TIMELINE_RACE_GRAPH_DATA(raceTimelineGraphData));\n        };\n      }\n    },\n    [setFilterAndTimelineGraphWorkersInstance, dispatch]\n  );\n\n  const postToFilteredWorker = useCallback(\n    (\n      ageGroup,\n      raceArr,\n      boroughArr,\n      offenseDescriptionArr,\n      filteredAgeGroup,\n      filteredSexArr,\n      filteredRaceArr,\n      filteredBoroughArr,\n      filteredOffenseDescriptionArr\n    ) => {\n      if (filterWorkerInstance) {\n        // Send from main thread to web worker\n        filterWorkerInstance.postMessage({\n          ageGroup,\n          raceArr,\n          boroughArr,\n          offenseDescriptionArr,\n          filteredAgeGroup,\n          filteredSexArr,\n          filteredRaceArr,\n          filteredBoroughArr,\n          filteredOffenseDescriptionArr,\n        });\n\n        filterWorkerInstance.onmessage = (receivedData) => {\n          applyingFiltersProgressRef.current += 25;\n\n          const parsedData = JSON.parse(receivedData.data);\n\n          const ageGroupData = parsedData.ageGroupData;\n          const raceUniqueValues = parsedData.raceUniqueValues;\n          const boroughUniqueValues = parsedData.boroughUniqueValues;\n          const offenseDescriptionArr = parsedData.offenseDescriptionArr;\n          const filteredAgeGroupData = parsedData.filteredAgeGroupData;\n          const filteredSexUniqueValues = parsedData.filteredSexUniqueValues;\n          const filteredRaceUniqueValues = parsedData.filteredRaceUniqueValues;\n          const filteredBoroughUniqueValues =\n            parsedData.filteredBoroughUniqueValues;\n          const filteredOffenseDescriptionUniqueValues =\n            parsedData.filteredOffenseDescriptionUniqueValues;\n\n          changeFilteredAgeGroupData(filteredAgeGroupData);\n          changeFilteredRaceUniqueValues(filteredRaceUniqueValues);\n          changeFilteredSexUniqueValues(filteredSexUniqueValues);\n          changeFilteredBoroughUniqueValues(filteredBoroughUniqueValues);\n          changeFilteredOffenseDescriptionUniqueValues(\n            filteredOffenseDescriptionUniqueValues\n          );\n          changeAgeGroupData(ageGroupData);\n          changeRaceUniqueValues(raceUniqueValues);\n          changeBoroughUniqueValues(boroughUniqueValues);\n          changeOffenseDescriptionUniqueValues(offenseDescriptionArr);\n          changeReadyForTimelineColumnPosts(true);\n        };\n      }\n    },\n    [filterWorkerInstance]\n  );\n\n  const postToMapFilterWorker = useCallback(\n    (loadData, filteredDataChunks, currentFilters) => {\n      if (mapFilterWorkerInstance) {\n        // Send from main thread to web worker\n        mapFilterWorkerInstance.postMessage({\n          loadData,\n          filteredDataChunks,\n          currentFilters,\n        });\n\n        mapFilterWorkerInstance.onmessage = (receivedData) => {\n          applyingFiltersProgressRef.current += 25;\n\n          const parsedData = JSON.parse(receivedData.data);\n\n          const ageGroup = parsedData.ageGroup;\n          const raceArr = parsedData.raceArr;\n          const boroughArr = parsedData.boroughArr;\n          const offenseDescriptionArr = parsedData.offenseDescriptionArr;\n          const filteredArrestCategory = parsedData.filteredArrestCategory;\n          const filteredAgeGroup = parsedData.filteredAgeGroup;\n          const filteredSexArr = parsedData.filteredSexArr;\n          const filteredRaceArr = parsedData.filteredRaceArr;\n          const filteredBoroughArr = parsedData.filteredBoroughArr;\n          const filteredOffenseDescriptionArr =\n            parsedData.filteredOffenseDescriptionArr;\n          const filteredUniqueCategory = parsedData.filteredUniqueCategory;\n\n          postToFilteredWorker(\n            ageGroup,\n            raceArr,\n            boroughArr,\n            offenseDescriptionArr,\n            filteredAgeGroup,\n            filteredSexArr,\n            filteredRaceArr,\n            filteredBoroughArr,\n            filteredOffenseDescriptionArr\n          );\n\n          changeAgeGroup(ageGroup);\n          changeRaceArr(raceArr);\n          changeBoroughArr(boroughArr);\n          changeOffenseDescriptionArr(offenseDescriptionArr);\n          changeFilteredArrestCategory(filteredArrestCategory);\n          changeFilteredAgeGroup(filteredAgeGroup);\n          changeFilteredSexArr(filteredSexArr);\n          changeFilteredRaceArr(filteredRaceArr);\n          changeFilteredBoroughArr(filteredBoroughArr);\n          changeFilteredOffenseDescriptionArr(filteredOffenseDescriptionArr);\n          changeFilteredUniqueCategory(filteredUniqueCategory);\n        };\n      }\n    },\n    [mapFilterWorkerInstance, postToFilteredWorker]\n  );\n\n  const postToTimelineWorker = useCallback(\n    (chunk) => {\n      if (timelineWorkerInstance) {\n        // Send from main thread to web worker\n        timelineWorkerInstance.postMessage({ chunk });\n\n        timelineWorkerInstance.onmessage = (receivedData) => {\n          applyingFiltersProgressRef.current += 25;\n\n          const parsedData = JSON.parse(receivedData.data);\n\n          const age_group = parsedData.age_group;\n          const borough = parsedData.borough;\n          const category = parsedData.category;\n          const sex = parsedData.sex;\n          const race = parsedData.race;\n\n          changeFilteredTimelineAgeGroupData(age_group);\n          changeFilteredTimelineBoroughData(borough);\n          changeFilteredTimelineCategoryData(category);\n          changeFilteredTimelineSexData(sex);\n          changeFilteredTimelineRaceData(race);\n        };\n      }\n    },\n    [timelineWorkerInstance]\n  );\n\n  const [filteredAgeGroupData, changeFilteredAgeGroupData] = useState([]);\n  const [filteredRaceUniqueValues, changeFilteredRaceUniqueValues] = useState(\n    []\n  );\n  const [filteredSexUniqueValues, changeFilteredSexUniqueValues] = useState([]);\n  const [\n    filteredBoroughUniqueValues,\n    changeFilteredBoroughUniqueValues,\n  ] = useState([]);\n  const [\n    filteredOffenseDescriptionUniqueValues,\n    changeFilteredOffenseDescriptionUniqueValues,\n  ] = useState([]);\n  const [ageGroupData, changeAgeGroupData] = useState([]);\n  const [raceUniqueValues, changeRaceUniqueValues] = useState([]);\n  const [boroughUniqueValues, changeBoroughUniqueValues] = useState([]);\n  const [\n    offenseDescriptionUniqueValues,\n    changeOffenseDescriptionUniqueValues,\n  ] = useState([]);\n\n  useEffect(() => {\n    if (readyForTimelineColumnPosts) {\n      changeReadyForTimelineColumnPosts(false);\n\n      postToTimelineGraphWorker(\n        { unique: filteredAgeGroupData, data: filteredTimelineAgeGroupData },\n        { unique: filteredRaceUniqueValues, data: filteredTimelineRaceData },\n        { unique: filteredUniqueCategory, data: filteredTimelineCategoryData },\n        { unique: filteredSexUniqueValues, data: filteredTimelineSexData },\n        {\n          unique: filteredBoroughUniqueValues,\n          data: filteredTimelineBoroughData,\n        }\n      );\n    }\n  }, [\n    categoryTimelineGraphData.length,\n    filteredAgeGroupData,\n    filteredBoroughUniqueValues,\n    filteredRaceUniqueValues,\n    filteredSexUniqueValues,\n    filteredTimelineAgeGroupData,\n    filteredTimelineBoroughData,\n    filteredTimelineCategoryData,\n    filteredTimelineRaceData,\n    filteredTimelineSexData,\n    filteredUniqueCategory,\n    postToTimelineGraphWorker,\n    readyForTimelineColumnPosts,\n  ]);\n\n  const renderLayers = useCallback(() => {\n    if (applyingFiltersProgressRef.current !== 0) {\n      applyingFiltersProgressRef.current = 0;\n    }\n\n    const yearsFiltered = filteredDataChunks.map((item) =>\n      Number(dayjs(item[5][\"ARREST_DATE\"], \"MM/DD/YYYY\").format(\"YYYY\"))\n    );\n\n    layersRef.current = filteredDataChunks.map((chunk, chunkIndex) => {\n      const yearOfChunk = dayjs(chunk[5][\"ARREST_DATE\"], \"MM/DD/YYYY\").format(\n        \"YYYY\"\n      );\n\n      return new ScatterplotLayer({\n        id: `chunk-${chunkIndex}`,\n        data: chunk,\n        visible: yearsFiltered.flat().includes(Number(yearOfChunk)),\n        filled: true,\n        radiusMinPixels: 2,\n        getPosition: (d) => [Number(d.Longitude), Number(d.Latitude)],\n        getFillColor: (d) =>\n          d.LAW_CAT_CD === \"F\"\n            ? [255, 0, 0]\n            : d.LAW_CAT_CD === \"M\"\n            ? [255, 116, 0]\n            : [255, 193, 0],\n        pickable: true,\n        useDevicePixels: false,\n      });\n    });\n  }, [filteredDataChunks]);\n\n  useEffect(() => {\n    const expectedTotal = yearlyTotals[\"2020\"];\n\n    if (newYearFinishedLoading) {\n      dispatch(ACTION_NEW_YEAR_FINISHED_LOADING_RESET());\n      if (totalCount === expectedTotal && loadData.length === expectedTotal) {\n        dispatch(ACTION_ASSIGN_FILTERED_DATA_CHUNKS([loadData]));\n\n        dispatch(ACTION_FILTERED_DATA_CHANGED());\n      }\n    }\n  }, [newYearFinishedLoading, loadData, dispatch, totalCount]);\n\n  useEffect(() => {\n    if (!filteredDataChanged) {\n      if (mapPostsCompleted) {\n        changeMapPostsCompleted(false);\n      }\n    }\n  }, [filteredDataChanged, mapPostsCompleted]);\n\n  useEffect(() => {\n    const expectedTotal = yearlyTotals[\"2020\"];\n\n    if (totalCount > 0 && totalCount === expectedTotal) {\n      if (filteredDataChanged) {\n        if (!mapPostsCompleted) {\n          renderLayers();\n\n          postToMapFilterWorker(loadData, filteredDataChunks, currentFilters);\n          postToTimelineWorker(filteredDataChunks);\n\n          dispatch(ACTION_FILTERED_DATA_CHANGED_RESET());\n        }\n\n        changeMapPostsCompleted(true);\n      }\n    }\n  }, [\n    loadData,\n    mapPostsCompleted,\n    currentFilters,\n    filteredDataChanged,\n    renderLayers,\n    ageGroup,\n    boroughArr,\n    filteredAgeGroup,\n    filteredBoroughArr,\n    filteredOffenseDescriptionArr,\n    filteredRaceArr,\n    filteredSexArr,\n    offenseDescriptionArr,\n    postToMapFilterWorker,\n    raceArr,\n    dispatch,\n    filteredDataChunks,\n    postToTimelineWorker,\n    filteredUniqueCategory,\n    filteredTimelineCategoryData,\n    totalCount,\n  ]);\n\n  const prevAgeGroupTimelineGraphData = usePrevious(ageGroupTimelineGraphData);\n  const prevBoroughTimelineGraphData = usePrevious(boroughTimelineGraphData);\n  const prevCategoryTimelineGraphData = usePrevious(categoryTimelineGraphData);\n  const prevGenderTimelineGraphData = usePrevious(genderTimelineGraphData);\n  const prevRaceTimelineGraphData = usePrevious(raceTimelineGraphData);\n\n  useEffect(() => {\n    if (ageGroupTimelineGraphData !== prevAgeGroupTimelineGraphData) {\n      if (ageGroupTimelineGraphData.length > 0) {\n        if (\n          filteredAgeGroupData.length ===\n          ageGroupTimelineGraphData[0].length - 1\n        ) {\n          dispatch(\n            ACTION_AGE_TIMELINE_COLUMNS(\n              [\n                [{ type: \"date\", label: \"Date\" }].concat(\n                  filteredAgeGroupData\n                    .sort((a, b) => a.localeCompare(b))\n                    .map((item) => (item === \"65\" ? \"65+\" : item))\n                ),\n              ].concat(ageGroupTimelineGraphData)\n            )\n          );\n        }\n      }\n    }\n\n    if (boroughTimelineGraphData !== prevBoroughTimelineGraphData) {\n      if (boroughTimelineGraphData.length > 0) {\n        if (\n          filteredBoroughUniqueValues.length ===\n          boroughTimelineGraphData[0].length - 1\n        ) {\n          dispatch(\n            ACTION_BOROUGH_TIMELINE_COLUMNS(\n              [\n                [{ type: \"date\", label: \"Date\" }].concat(\n                  filteredBoroughUniqueValues.map((borough) =>\n                    borough === \"B\"\n                      ? \"Bronx\"\n                      : borough === \"Q\"\n                      ? \"Queens\"\n                      : borough === \"M\"\n                      ? \"Manhattan\"\n                      : borough === \"K\"\n                      ? \"Brooklyn\"\n                      : borough === \"S\"\n                      ? \"Staten Island\"\n                      : \"Unknown\"\n                  )\n                ),\n              ].concat(boroughTimelineGraphData)\n            )\n          );\n        }\n      }\n    }\n\n    if (categoryTimelineGraphData !== prevCategoryTimelineGraphData) {\n      if (\n        categoryTimelineGraphData.length > 0 &&\n        filteredUniqueCategory.length > 0\n      ) {\n        const categoryArr = [\n          ...new Set(\n            filteredUniqueCategory.map((x) =>\n              x === \"F\" ? \"Felony\" : x === \"M\" ? \"Misdemeanor\" : \"Violation\"\n            )\n          ),\n        ];\n\n        if (categoryArr.length === categoryTimelineGraphData[0].length - 1) {\n          dispatch(\n            ACTION_CATEGORY_TIMELINE_COLUMNS(\n              [[{ type: \"date\", label: \"Date\" }].concat(categoryArr)].concat(\n                categoryTimelineGraphData\n              )\n            )\n          );\n        }\n      }\n    }\n\n    if (genderTimelineGraphData !== prevGenderTimelineGraphData) {\n      if (genderTimelineGraphData.length > 0) {\n        const genderArr = filteredSexUniqueValues.map((x) =>\n          x === \"F\" ? \"Female\" : \"Male\"\n        );\n\n        if (genderArr.length === genderTimelineGraphData[0].length - 1) {\n          dispatch(\n            ACTION_SEX_TIMELINE_COLUMNS(\n              [[{ type: \"date\", label: \"Date\" }].concat(genderArr)].concat(\n                genderTimelineGraphData\n              )\n            )\n          );\n        }\n      }\n    }\n\n    if (raceTimelineGraphData !== prevRaceTimelineGraphData) {\n      if (raceTimelineGraphData.length > 0) {\n        const raceArr = filteredRaceUniqueValues.map((race) =>\n          race\n            .split(\" \")\n            .map((x) => x[0].toUpperCase() + x.slice(1).toLowerCase())\n            .join(\" \")\n            .split(\"/\")\n            .map(\n              (x) =>\n                x[0].toUpperCase() +\n                x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                x.slice(x.indexOf(\" \"))\n            )\n            .join(\"/\")\n        );\n\n        if (raceArr.length === raceTimelineGraphData[0].length - 1) {\n          dispatch(\n            ACTION_RACE_TIMELINE_COLUMNS(\n              [[{ type: \"date\", label: \"Date\" }].concat(raceArr)].concat(\n                raceTimelineGraphData\n              )\n            )\n          );\n        }\n\n        dispatch(ACTION_TRENDS_AVAILABLE());\n\n        if (applyingFilters) {\n          dispatch(ACTION_APPLYING_FILTERS_RESET());\n        }\n\n        if (resetFilters) {\n          dispatch(ACTION_RESET_FILTERS_RESET());\n        }\n      }\n    }\n  }, [\n    ageGroupTimelineGraphData,\n    boroughTimelineGraphData,\n    categoryTimelineGraphData,\n    dispatch,\n    filteredAgeGroupData,\n    genderTimelineGraphData,\n    prevAgeGroupTimelineGraphData,\n    prevBoroughTimelineGraphData,\n    prevCategoryTimelineGraphData,\n    prevGenderTimelineGraphData,\n    prevRaceTimelineGraphData,\n    raceTimelineGraphData,\n    filteredBoroughUniqueValues,\n    filteredUniqueCategory,\n    filteredRaceUniqueValues,\n    filteredSexUniqueValues,\n    applyingFilters,\n    resetFilters,\n  ]);\n\n  useEffect(() => {\n    if (!mapError) {\n      while (totalCount === 0) {\n        const colorChangeInterval = setInterval(() => {\n          if (loaderColor === \"rgb(93, 188, 210)\") {\n            changeLoaderColor(\"rgb(255, 255, 255)\");\n          } else if (loaderColor === \"rgb(255, 255, 255)\") {\n            changeLoaderColor(\"#f9c124\");\n          } else {\n            changeLoaderColor(\"rgb(93, 188, 210)\");\n          }\n        }, 500);\n\n        return () => {\n          clearInterval(colorChangeInterval);\n        };\n      }\n    } else {\n      changeLoaderColor(\"rgb(255, 0, 0)\");\n    }\n  }, [totalCount, loaderColor, mapError]);\n\n  const token = process.env.REACT_APP_MAPBOX_TOKEN;\n\n  const showTooltip = useCallback(\n    (object, x, y) => {\n      const el = document.getElementsByClassName(\"deck-tooltip\")[0];\n\n      if (object) {\n        if (!tooltipVisible) {\n          changeTooltipVisible(true);\n          document.addEventListener(\"touchstart\", () => (el.style.opacity = 0));\n        }\n\n        const {\n          ARREST_DATE,\n          LAW_CAT_CD,\n          OFNS_DESC,\n          PD_DESC,\n          AGE_GROUP,\n          PERP_SEX,\n          PERP_RACE,\n        } = object;\n        el.innerHTML = `\n<p><strong>Date of Arrest:</strong> ${ARREST_DATE}</p>\n<p><strong>Category:</strong> ${\n          LAW_CAT_CD === \"F\"\n            ? \"Felony\"\n            : LAW_CAT_CD === \"M\"\n            ? \"Misdemeanor\"\n            : \"Violation\"\n        }</p>\n<p><strong>Offense:</strong> ${OFNS_DESC}</p>\n<p><strong>Offense Description:</strong> ${PD_DESC}</p>\n<p><strong>Perpetrator's Age Group:</strong> ${AGE_GROUP}</p>\n<p><strong>Perpetrator's Sex:</strong> ${\n          PERP_SEX === \"M\" ? \"Male\" : \"Female\"\n        }</p>\n<p><strong>Perpetrator's Race:</strong> ${PERP_RACE.toLowerCase()\n          .split(\" \")\n          .map((x) => x[0].toUpperCase() + x.slice(1))\n          .join(\" \")}</p>\n`;\n        el.style.display = \"inline-block\";\n        el.style.background = \"#000\";\n        el.style.color = \"rgb(235, 235, 235)\";\n        el.style.fontSize = \"1rem\";\n        el.style.overflowWrap = \"break-word\";\n        el.style.lineHeight = \"1rem\";\n        el.style.maxWidth = \"10rem\";\n        el.style.opacity = 0.9;\n        el.style.left = x + \"px\";\n        el.style.top = y + \"px\";\n      } else {\n        if (tooltipVisible) {\n          changeTooltipVisible(false);\n        }\n        el.style.opacity = 0;\n      }\n    },\n    [tooltipVisible]\n  );\n\n  const onNewDataArrive = useCallback(\n    (chunk, dataIndex, firstMessage, lastMessage) => {\n      // Year does not exist, create new year and add data\n      if (firstMessage) {\n        dispatch(ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR(chunk.data));\n\n        dispatch(ACTION_ASSIGN_LOAD_DATA(chunk.data));\n      } else {\n        if (lastMessage) {\n          dispatch(ACTION_NEW_YEAR_FINISHED_LOADING());\n        }\n\n        // Year exists, add additional data to it\n        dispatch(\n          ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR(chunk.data, dataIndex)\n        );\n\n        dispatch(ACTION_ASSIGN_LOAD_DATA(chunk.data));\n      }\n    },\n    [dispatch]\n  );\n\n  const dataFetch = useCallback(\n    (year, dataIndex) => {\n      if (workerInstance) {\n        // Send from main thread to web worker\n        workerInstance.postMessage(year);\n\n        workerInstance.onmessage = (receivedData) => {\n          const data = JSON.parse(receivedData.data);\n          const parsedData = JSON.parse(data.data);\n          const chunkArr = parsedData.chunkArr;\n          const firstMessage = parsedData.firstMessage;\n          const lastMessage = parsedData.lastMessage;\n\n          dispatch(ACTION_INCREMENT_TOTAL_COUNT(chunkArr.length));\n\n          onNewDataArrive(\n            {\n              year: data.year,\n              data: chunkArr,\n            },\n            dataIndex,\n            firstMessage,\n            lastMessage\n          );\n        };\n      }\n    },\n    [onNewDataArrive, workerInstance, dispatch]\n  );\n\n  const setFilters = (\n    category,\n    offense,\n    age,\n    race,\n    sex,\n    borough,\n    suppliedData\n  ) => {\n    if (setFilterAndTimelineGraphWorkersInstance) {\n      if (applyingFiltersProgressRef.current !== 0) {\n        applyingFiltersProgressRef.current = 0;\n      }\n\n      if (graphOption === \"trends\") {\n        changeGraphOption(\"overview\");\n      }\n      changeCollapseOpen(\"\");\n      changeMenuClicked(false);\n      dispatch(ACTION_TRENDS_NOT_AVAILABLE());\n\n      // Send from main thread to web worker\n      setFilterAndTimelineGraphWorkersInstance.postMessage({\n        category: category,\n        offense: offense,\n        age: age,\n        race: race,\n        sex: sex,\n        borough: borough,\n        suppliedData: suppliedData,\n      });\n\n      setFilterAndTimelineGraphWorkersInstance.onmessage = (receivedData) => {\n        const assignFilteredData = receivedData.data.assignFilteredData;\n\n        if (assignFilteredData) {\n          dispatch(ACTION_ASSIGN_FILTERED_DATA_CHUNKS(assignFilteredData));\n\n          changeCurrentFilters({\n            category: category,\n            offense: offense,\n            age: age,\n            race: race,\n            sex: sex,\n            borough: borough,\n          });\n\n          dispatch(ACTION_FILTERED_DATA_CHANGED());\n        }\n      };\n\n      setTimeout(() => changeLaddaLoading(false), 1000);\n      setTimeout(() => changeResetLaddaLoading(false), 1000);\n    }\n  };\n\n  useEffect(() => {\n    if (currentFilters && prevFilters) {\n      if (!isSame(Object.values(currentFilters), Object.values(prevFilters))) {\n        renderLayers();\n      }\n    }\n  }, [currentFilters, prevFilters, renderLayers, dispatch, filteredDataChunks]);\n\n  useEffect(() => {\n    if (!mapFilterWorkerInstance) {\n      const response = `self.onmessage = (e) => {\n        const dataSent = e.data;\n\n        const loadData = dataSent.loadData;\n        const filteredDataChunks = dataSent.filteredDataChunks;\n        const currentFilters = dataSent.currentFilters;\n\n        const filterArrIncluded = (\n          x,\n          filterExactName,\n          filterGeneralName\n        ) => {\n          if (x !== filterExactName) {\n            if (currentFilters[filterGeneralName]) {\n              if (currentFilters[filterGeneralName].length > 0) {\n                return currentFilters[filterGeneralName].includes(x);\n              } else {\n                return true;\n              }\n            } else {\n              return true;\n            }\n          } else {\n            return false;\n          }\n        };\n\n        const dataReducerFunction = (\n          chunk,\n          filterExactName,\n          filterGeneralName\n        ) => {\n          return chunk.reduce((acc, curr) => {\n            const exactName = curr[filterExactName];\n\n            if (filterArrIncluded(exactName, filterGeneralName)) {\n              acc.push(exactName);\n            }\n\n            return acc;\n          }, []);\n        };\n\n        const boroughLoadDataReducerFunction = (\n          chunk,\n          filterExactName\n        ) => {\n          return chunk.reduce((acc, curr) => {\n            const currentName = (x) => {\n              if (\n                x[filterExactName] === \"K\" &&\n                Number(x.Latitude) > 40.73912\n              ) {\n                return \"B\";\n              } else if (\n                x[filterExactName] === \"M\" &&\n                Number(x.Longitude) > -73.920961 &&\n                Number(x.Latitude) < 40.800709\n              ) {\n                return \"Q\";\n              } else if (\n                x[filterExactName] === \"B\" &&\n                Number(x.Latitude) < 40.697465\n              ) {\n                return \"K\";\n              } else if (\n                x[filterExactName] === \"Q\" &&\n                Number(x.Longitude) < -73.962745\n              ) {\n                return \"M\";\n              } else if (\n                x[filterExactName] === \"Q\" &&\n                Number(x.Longitude) < -73.878559 &&\n                Number(x.Latitude) > 40.787907\n              ) {\n                return \"B\";\n              } else {\n                return x[filterExactName];\n              }\n            };\n\n            const currentPushItem = currentName(curr);\n\n            if (filterArrIncluded(currentPushItem)) {\n              acc.push(currentPushItem);\n            }\n\n            return acc;\n          }, []);\n        };\n\n        const filteredDataChunksReducerFunction = (\n          filterExactName,\n          filterGeneralName\n        ) => {\n          const yearsArr = filteredDataChunks.map((x) => {\n            const date = x[5][filterExactName];\n\n            return Number(date.substring(date.length - 4, date.length));\n          });\n\n          const dateFilterArrIncluded = (item, index, generalName) => {\n            if (item !== filterExactName) {\n              if (currentFilters[generalName]) {\n                if (currentFilters[generalName].length > 0) {\n                  if (\n                    currentFilters[generalName].includes(\n                      yearsArr[index]\n                    )\n                  ) {\n                    return true;\n                  } else {\n                    return false;\n                  }\n                } else {\n                  return true;\n                }\n              } else {\n                return false;\n              }\n            } else {\n              return false;\n            }\n          };\n\n          return filteredDataChunks\n            .map((x, i) => [\n              ...new Set(\n                x.reduce((acc, curr) => {\n                  const exactName = curr[filterExactName];\n\n                  if (filterGeneralName === \"category\") {\n                    if (\n                      filterArrIncluded(\n                        exactName,\n                        filterExactName,\n                        filterGeneralName\n                      )\n                    ) {\n                      acc.push(exactName);\n                    }\n                  } else {\n                    if (\n                      dateFilterArrIncluded(\n                        exactName,\n                        i,\n                        filterGeneralName\n                      )\n                    ) {\n                      acc.push(exactName);\n                    }\n                  }\n\n                  return acc;\n                }, [])\n              ),\n            ])\n            .flat();\n        };\n\n        postMessage(\n          JSON.stringify({\n            ageGroup: dataReducerFunction(loadData, \"AGE_GROUP\"),\n            raceArr: dataReducerFunction(loadData, \"PERP_RACE\"),\n            boroughArr: boroughLoadDataReducerFunction(\n              loadData,\n              \"ARREST_BORO\"\n            ),\n            offenseDescriptionArr: dataReducerFunction(\n              loadData,\n              \"OFNS_DESC\"\n            ),\n            filteredArrestCategory: dataReducerFunction(\n              filteredDataChunks[0],\n              \"LAW_CAT_CD\",\n              \"category\"\n            ),\n            filteredAgeGroup: dataReducerFunction(\n              filteredDataChunks[0],\n              \"AGE_GROUP\",\n              \"age\"\n            ),\n            filteredSexArr: dataReducerFunction(\n              filteredDataChunks[0],\n              \"PERP_SEX\",\n              \"sex\"\n            ),\n            filteredRaceArr: dataReducerFunction(\n              filteredDataChunks[0],\n              \"PERP_RACE\",\n              \"race\"\n            ),\n            filteredBoroughArr: boroughLoadDataReducerFunction(\n              filteredDataChunks[0],\n              \"ARREST_BORO\",\n              \"borough\"\n            ),\n            filteredOffenseDescriptionArr: dataReducerFunction(\n              filteredDataChunks[0],\n              \"OFNS_DESC\",\n              \"offense\"\n            ),\n            filteredUniqueCategory: filteredDataChunksReducerFunction(\n              \"LAW_CAT_CD\",\n              \"category\"\n            ),\n          })\n        );\n      };`;\n\n      // Creates inline web worker from anonymous function\n      const blobURL = URL.createObjectURL(\n        new Blob([response], { type: \"application/javascript\" })\n      );\n\n      const mapFilterWorker = new Worker(blobURL);\n\n      changeMapFilterWorkerInstance(mapFilterWorker);\n    }\n  }, [mapFilterWorkerInstance]);\n\n  useEffect(() => {\n    if (!timelineWorkerInstance) {\n      const response = `self.onmessage = (e) => {\n        const dataSent = e.data;\n\n        const chunk = dataSent.chunk;\n\n        const filteredDataChunksReducerFunction = (\n          filterGeneralName,\n          filterExactName\n        ) => {\n          return chunk.map((item) =>\n            item.reduce((acc, curr) => {\n              const formatName = (x) => {\n                return {\n                  date: x[\"ARREST_DATE\"],\n                  [filterGeneralName]:\n                    filterGeneralName === \"category\"\n                      ? x[filterExactName] === \"F\"\n                        ? \"Felony\"\n                        : x[filterExactName] === \"M\"\n                        ? \"Misdemeanor\"\n                        : \"Violation\"\n                      : filterGeneralName === \"sex\"\n                      ? x[filterExactName] === \"F\"\n                        ? \"Female\"\n                        : \"Male\"\n                      : x[filterExactName],\n                };\n              };\n\n              const notNameMatchFilter = (x) =>\n                x.date !== \"ARREST_DATE\" &&\n                x[filterGeneralName] !== filterExactName;\n\n              const newPushItem = formatName(curr);\n\n              if (notNameMatchFilter(newPushItem)) {\n                acc.push(newPushItem);\n              }\n\n              return acc;\n            }, [])\n          );\n        };\n\n        postMessage(\n          JSON.stringify({\n            age_group: filteredDataChunksReducerFunction(\n              \"age_group\",\n              \"AGE_GROUP\"\n            ),\n            borough: filteredDataChunksReducerFunction(\n              \"borough\",\n              \"ARREST_BORO\"\n            ),\n            category: filteredDataChunksReducerFunction(\n              \"category\",\n              \"LAW_CAT_CD\"\n            ),\n            sex: filteredDataChunksReducerFunction(\"sex\", \"PERP_SEX\"),\n            race: filteredDataChunksReducerFunction(\n              \"race\",\n              \"PERP_RACE\"\n            ),\n          })\n        );\n      }`;\n\n      // Creates inline web worker from anonymous function\n      const blobURL = URL.createObjectURL(\n        new Blob([response], { type: \"application/javascript\" })\n      );\n\n      const timelineWorker = new Worker(blobURL);\n\n      changeTimelineWorkerInstance(timelineWorker);\n    }\n  }, [timelineWorkerInstance]);\n\n  useEffect(() => {\n    if (!setFilterAndTimelineGraphWorkersInstance) {\n      const worker = new setFilterAndTimelineGraphWorkers();\n\n      changeSetFilterAndTimelineGraphWorkersInstance(worker);\n    }\n  }, [setFilterAndTimelineGraphWorkersInstance]);\n\n  useEffect(() => {\n    if (!filterWorkerInstance) {\n      const response = `self.onmessage = (e) => {\n        const hasNumber = (input) => {\n          return /[0-9]/.test(input); \n        };\n\n        const dataSent = e.data;\n\n        const ageGroup = dataSent.ageGroup;\n        const raceArr = dataSent.raceArr;\n        const boroughArr = dataSent.boroughArr;\n        const offenseDescriptionArr = dataSent.offenseDescriptionArr;\n        const filteredAgeGroup = dataSent.filteredAgeGroup;\n        const filteredSexArr = dataSent.filteredSexArr;\n        const filteredRaceArr = dataSent.filteredRaceArr;\n        const filteredBoroughArr = dataSent.filteredBoroughArr;\n        const filteredOffenseDescriptionArr =\n          dataSent.filteredOffenseDescriptionArr;\n\n        const uniqueValuesReducerFunction = (\n          arrName,\n          categoryName,\n          arr\n        ) =>\n          arr\n            ? [...new Set(arr)]\n                .filter((x) => x !== categoryName)\n                .sort((a, b) => {\n                  if (\n                    arrName === \"filteredAgeGroupData\" ||\n                    arrName === \"ageGroupData\"\n                  ) {\n                    const first = hasNumber(a)\n                      ? Number(\n                          a.split(a[0] === \"<\" ? \"<\" : \"-\")[\n                            a[0] === \"<\" ? 1 : 0\n                          ]\n                        )\n                      : null;\n                    const second = hasNumber(b)\n                      ? Number(\n                          b.split(b[0] === \"<\" ? \"<\" : \"-\")[\n                            b[0] === \"<\" ? 1 : 0\n                          ]\n                        )\n                      : null;\n\n                    return first - second;\n                  } else {\n                    // Sort in increasing order\n                    return a - b;\n                  }\n                })\n            : [];\n\n        postMessage(\n          JSON.stringify({\n            ageGroupData: uniqueValuesReducerFunction(\n              \"ageGroupData\",\n              \"AGE_GROUP\",\n              ageGroup\n            ),\n            raceUniqueValues: uniqueValuesReducerFunction(\n              \"raceUniqueValues\",\n              \"PERP_RACE\",\n              raceArr\n            ),\n            boroughUniqueValues: uniqueValuesReducerFunction(\n              \"boroughUniqueValues\",\n              \"ARREST_BORO\",\n              boroughArr\n            ),\n            offenseDescriptionArr: uniqueValuesReducerFunction(\n              \"offenseDescriptionArr\",\n              \"OFNS_DESC\",\n              offenseDescriptionArr\n            ),\n            filteredAgeGroupData: uniqueValuesReducerFunction(\n              \"filteredAgeGroupData\",\n              \"AGE_GROUP\",\n              filteredAgeGroup\n            ),\n            filteredSexUniqueValues: uniqueValuesReducerFunction(\n              \"filteredSexUniqueValues\",\n              \"PERP_SEX\",\n              filteredSexArr\n            ),\n            filteredRaceUniqueValues: uniqueValuesReducerFunction(\n              \"filteredRaceUniqueValues\",\n              \"PERP_RACE\",\n              filteredRaceArr\n            ),\n            filteredBoroughUniqueValues: uniqueValuesReducerFunction(\n              \"filteredBoroughUniqueValues\",\n              \"ARREST_BORO\",\n              filteredBoroughArr\n            ),\n            filteredOffenseDescriptionUniqueValues: uniqueValuesReducerFunction(\n              \"filteredOffenseDescriptionUniqueValues\",\n              \"OFNS_DESC\",\n              filteredOffenseDescriptionArr\n            ),\n          })\n        );\n      };`;\n\n      // Creates inline web worker from anonymous function\n      const blobURL = URL.createObjectURL(\n        new Blob([response], { type: \"application/javascript\" })\n      );\n\n      const filterWorker = new Worker(blobURL);\n\n      changeFilterWorkerInstance(filterWorker);\n    }\n  }, [filterWorkerInstance]);\n\n  useEffect(() => {\n    if (!workerInstance) {\n      // Creates inline web worker from anonymous function\n      const blobURL = URL.createObjectURL(\n        new Blob(\n          [\n            \"(\",\n\n            (() => {\n              // Creates new websocket instance\n              let ws = \"\";\n\n              if (process.env.NODE_ENV === \"production\") {\n                const host = \"wss://nypd-arrest-map.herokuapp.com\";\n\n                ws = new WebSocket(host);\n              } else {\n                ws = new WebSocket(\"ws://localhost:4000\");\n              }\n\n              onmessage = (e) => {\n                const year = e.data;\n\n                if (ws.readyState === 1) {\n                  // Receive from main thread and send to websocket\n                  ws.send(year);\n                }\n\n                ws.onopen = () => {\n                  // Send one byte to websocket every 55 seconds to keep socket from closing itself on idle\n                  setInterval(() => {\n                    ws.send(\".\");\n                  }, 55000);\n\n                  // Receive from main thread and send to websocket\n                  ws.send(year);\n                };\n\n                // Send from websocket to main thread\n                ws.onmessage = ({ data }) => {\n                  // Faster to JSON.stringify() then postMessage() a string than to postMessage() an object.\n                  if (data) {\n                    postMessage(JSON.stringify({ year: year, data: data }));\n                  }\n                };\n              };\n            }).toString(),\n\n            \")()\",\n          ],\n          { type: \"application/javascript\" }\n        )\n      );\n\n      const socketWorker = new Worker(blobURL);\n\n      changeWorkerInstance(socketWorker);\n    }\n  }, [workerInstance]);\n\n  useEffect(() => {\n    if (workerInstance) {\n      if (loadData.length === 0) {\n        if (loadingYears.length === 0) {\n          if (isMobileOrTablet) {\n            if (isPortrait) {\n              changeLoadingYears([2020]);\n              dataFetch(2020, filteredDataChunks.length);\n            }\n          } else {\n            changeLoadingYears([2020]);\n            dataFetch(2020, filteredDataChunks.length);\n          }\n        }\n      } else {\n        if (loadingYears.length > 0 && loadData.length === 0) {\n          dataFetch(loadingYears[0], filteredDataChunks.length);\n          changeLoadingYears([]);\n        }\n      }\n    }\n  }, [\n    workerInstance,\n    dataFetch,\n    loadingYears,\n    filteredDataChunks.length,\n    isPortrait,\n    isMobileOrTablet,\n    loadData.length,\n    totalCount,\n  ]);\n\n  useEffect(() => {\n    if (totalCount > 90000) {\n      if (\n        ageTimelineColumns &&\n        boroughTimelineColumns &&\n        categoryTimelineColumns &&\n        raceTimelineColumns &&\n        sexTimelineColumns\n      ) {\n        if (ageTimelineColumns.length > 0) {\n          if (boroughTimelineColumns.length > 0) {\n            if (categoryTimelineColumns.length > 0) {\n              if (raceTimelineColumns.length > 0) {\n                if (sexTimelineColumns.length > 0) {\n                  if (!mapVisible) {\n                    changeMapVisible(true);\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }, [\n    totalCount,\n    mapVisible,\n    ageTimelineColumns,\n    boroughTimelineColumns,\n    categoryTimelineColumns,\n    raceTimelineColumns,\n    sexTimelineColumns,\n  ]);\n\n  return (\n    <div>\n      <div\n        className=\"mobile_landscape_block\"\n        style={{\n          display: isMobileOrTablet ? (isPortrait ? \"none\" : \"flex\") : \"none\",\n        }}\n      >\n        <FcRotateToLandscape />\n        <p>\n          NYPD Arrest Map is available only for desktop mode or mobile portrait\n          mode.\n        </p>\n      </div>\n      {layersRef.current.length === 0 ||\n      (ageTimelineColumns ? ageTimelineColumns.length === 0 : true) ||\n      (boroughTimelineColumns ? boroughTimelineColumns.length === 0 : true) ||\n      (categoryTimelineColumns ? categoryTimelineColumns.length === 0 : true) ||\n      (raceTimelineColumns ? raceTimelineColumns.length === 0 : true) ||\n      (sexTimelineColumns ? sexTimelineColumns.length === 0 : true) ? (\n        <InitialLoader\n          countUp={countUp}\n          loaderColor={loaderColor}\n          mapError={mapError}\n          applyingFiltersProgressRef={applyingFiltersProgressRef}\n        />\n      ) : null}\n      {modalActive.active && modalActive.year ? (\n        <SubsequentLoader\n          modalActive={modalActive}\n          changeModalActive={changeModalActive}\n        />\n      ) : null}\n      <Div100vh\n        className=\"nypd_arrest_map_container\"\n        style={{\n          opacity:\n            layersRef.current.length === 0 ||\n            (ageTimelineColumns ? ageTimelineColumns.length === 0 : true) ||\n            (boroughTimelineColumns\n              ? boroughTimelineColumns.length === 0\n              : true) ||\n            (categoryTimelineColumns\n              ? categoryTimelineColumns.length === 0\n              : true) ||\n            (raceTimelineColumns ? raceTimelineColumns.length === 0 : true) ||\n            (sexTimelineColumns ? sexTimelineColumns.length === 0 : true)\n              ? 0\n              : 1,\n        }}\n      >\n        <NavigationBar\n          loadData={loadData}\n          raceUniqueValues={raceUniqueValues}\n          boroughUniqueValues={boroughUniqueValues}\n          offenseDescriptionUniqueValues={offenseDescriptionUniqueValues}\n          ageGroupData={ageGroupData}\n          setFilters={setFilters}\n          changeLaddaLoading={changeLaddaLoading}\n          laddaLoading={laddaLoading}\n          resetLaddaLoading={resetLaddaLoading}\n          changeResetLaddaLoading={changeResetLaddaLoading}\n          menuClicked={menuClicked}\n          changeMenuClicked={changeMenuClicked}\n          collapseOpen={collapseOpen}\n          changeCollapseOpen={changeCollapseOpen}\n          layersRef={layersRef}\n          footerMenuActive={footerMenuActive}\n          isMobileOrTablet={isMobileOrTablet}\n          isTablet={isTablet}\n          currentFilters={currentFilters}\n          isSame={isSame}\n        />\n        <DeckGL\n          initialViewState={{\n            longitude: -73.935242,\n            latitude: 40.73061,\n            zoom: window.innerWidth < 1200 ? 9 : 11,\n            minZoom: 9,\n            pitch: 0,\n            bearing: 0,\n          }}\n          ref={deckGLRef}\n          layers={layersRef.current}\n          pickingRadius={20}\n          controller={true}\n          onLoad={() => changeMapLoaded(true)}\n          onError={() => changeMapError(true)}\n          onHover={({ object, x, y }) => showTooltip(object, x, y)}\n          useDevicePixels={false}\n        >\n          <StaticMap\n            mapStyle=\"mapbox://styles/mapbox/dark-v9\"\n            preventStyleDiffing={true}\n            mapboxApiAccessToken={token}\n          />\n        </DeckGL>\n        {mapLoaded ? (\n          <>\n            <ApplyingFiltersPopUp\n              applyingFiltersProgressRef={applyingFiltersProgressRef}\n            />\n            <BottomInfoPanel\n              isSame={isSame}\n              mapVisible={mapVisible}\n              loadData={loadData}\n              tooltipVisible={tooltipVisible}\n              filteredArrestCategory={filteredArrestCategory}\n              filteredAgeGroupData={filteredAgeGroupData}\n              filteredRaceUniqueValues={filteredRaceUniqueValues}\n              filteredSexUniqueValues={filteredSexUniqueValues}\n              filteredBoroughUniqueValues={filteredBoroughUniqueValues}\n              filteredOffenseDescriptionUniqueValues={\n                filteredOffenseDescriptionUniqueValues\n              }\n              filteredUniqueCategory={filteredUniqueCategory}\n              filteredAgeGroup={filteredAgeGroup}\n              filteredRaceArr={filteredRaceArr}\n              filteredSexArr={filteredSexArr}\n              filteredBoroughArr={filteredBoroughArr}\n              filteredOffenseDescriptionArr={filteredOffenseDescriptionArr}\n              usePrevious={usePrevious}\n              currentFilters={currentFilters}\n              filteredTimelineAgeGroupData={filteredTimelineAgeGroupData}\n              filteredTimelineBoroughData={filteredTimelineBoroughData}\n              filteredTimelineCategoryData={filteredTimelineCategoryData}\n              filteredTimelineSexData={filteredTimelineSexData}\n              filteredTimelineRaceData={filteredTimelineRaceData}\n              graphOption={graphOption}\n              changeGraphOption={changeGraphOption}\n              layersRef={layersRef}\n              footerMenuActive={footerMenuActive}\n              changeFooterMenuActive={changeFooterMenuActive}\n              isMobileOrTablet={isMobileOrTablet}\n              isMediumLaptop={isMediumLaptop}\n            />\n          </>\n        ) : null}\n      </Div100vh>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { wrapStore } from \"redux-in-worker\";\nimport storeWorker from \"worker-loader!./store.worker.js\"; // eslint-disable-line import/no-webpack-loader-syntax\n\nrequire(\"dotenv\").config();\n\nconst initialState = {\n  loadDataReducer: { data: [] },\n  filteredDataReducer: {\n    changed: false,\n  },\n  filteredDataChunksReducer: {\n    data: [],\n  },\n  newYearFinishedLoadingReducer: { finished: false },\n  ageFilterReducer: {\n    age: [],\n  },\n  boroughFilterReducer: { borough: [] },\n  categoryFilterReducer: { category: [] },\n  offenseFilterReducer: { offense: [] },\n  raceFilterReducer: { race: [] },\n  sexFilterReducer: { sex: [] },\n  ageTimelineColumnsReducer: { columns: [] },\n  boroughTimelineColumnsReducer: { columns: [] },\n  categoryTimelineColumnsReducer: { columns: [] },\n  raceTimelineColumnsReducer: { columns: [] },\n  sexTimelineColumnsReducer: { columns: [] },\n  ageGroupTimelineGraphDataReducer: { data: [] },\n  boroughTimelineGraphDataReducer: { data: [] },\n  categoryTimelineGraphDataReducer: { data: [] },\n  genderTimelineGraphDataReducer: { data: [] },\n  raceTimelineGraphDataReducer: { data: [] },\n  totalCountReducer: { total: 0 },\n  applyingFiltersReducer: { filters: false },\n  resetFiltersReducer: { reset: false },\n  trendsAvailableReducer: { available: false },\n};\n\nconst store = wrapStore(new storeWorker(), initialState);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","export default function() {\n  return new Worker(__webpack_public_path__ + \"static/js/store.worker.30a9de6f.worker.js\");\n}\n"],"sourceRoot":""}