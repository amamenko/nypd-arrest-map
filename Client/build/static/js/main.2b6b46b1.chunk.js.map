{"version":3,"sources":["inobounce.js","NavigationBar/NavigationBar.js","BottomInfoPanel/CarouselItems/Category/Category.js","BottomInfoPanel/CarouselItems/AgeGroup/AgeGroup.js","BottomInfoPanel/CarouselItems/Race/Race.js","BottomInfoPanel/CarouselItems/Gender/Gender.js","BottomInfoPanel/CarouselItems/Borough/Borough.js","BottomInfoPanel/CarouselItems/TopOffenses/TopOffenses.js","BottomInfoPanel/CarouselItems/AgeGroup/AgeGroupTimeline.js","BottomInfoPanel/CarouselItems/Borough/BoroughTimeline.js","BottomInfoPanel/CarouselItems/Category/CategoryTimeline.js","BottomInfoPanel/CarouselItems/Gender/GenderTimeline.js","BottomInfoPanel/CarouselItems/Race/RaceTimeline.js","BottomInfoPanel/BottomInfoPanel.js","YearlyTotals.js","App.js","index.js"],"names":["global","startY","enabled","supportsPassiveOption","opts","Object","defineProperty","get","window","addEventListener","e","handleTouchmove","evt","el","target","zoom","innerWidth","document","documentElement","clientWidth","touches","length","body","style","getComputedStyle","nodeName","getAttribute","scrolling","getPropertyValue","overflowY","height","parseInt","isScrollable","canScroll","scrollHeight","offsetHeight","curY","screenY","isAtTop","scrollTop","isAtBottom","preventDefault","parentNode","handleTouchstart","enable","passive","testDiv","createElement","appendChild","WebkitOverflowScrolling","scrollSupport","removeChild","iNoBounce","disable","removeEventListener","isEnabled","module","exports","define","this","NavigationBar","props","loadData","raceUniqueValues","boroughUniqueValues","ageGroupData","offenseDescriptionUniqueValues","setFilters","initialScreenWidth","currentScreenWidth","pointClicked","changeLaddaLoading","laddaLoading","loadedYears","filteredData","handleDownloadYear","yearFilter","changeYearFilter","categoryFilter","changeCategoryFilter","offenseFilter","changeOffenseFilter","ageFilter","changeAgeFilter","raceFilter","changeRaceFilter","sexFilter","changeSexFilter","boroughFilter","changeBoroughFilter","logoContainerRef","useRef","burgerMenu","getElementsByClassName","mapboxAttribRef","useState","tooltipVisible","changeTooltipVisible","menuClicked","changeMenuClicked","collapseOpen","changeCollapseOpen","handleCategoryFilters","category","includes","filter","x","handleSexFilters","sex","useEffect","overviewTippy","getElementById","cssText","className","content","minWidth","current","maxWidth","color","sort","join","flat","toLocaleString","visible","allowHTML","reference","placement","ref","href","onClickOutside","right","customBurgerIcon","onOpen","onClose","isOpen","trigger","fill","onTriggerOpening","onTriggerClosing","open","newArr","i","Number","Date","getFullYear","push","renderYears","map","year","key","onClick","handleYearFilters","name","type","defaultChecked","desc","offense","split","toUpperCase","slice","toLowerCase","indexOf","age","handleAgeFilters","race","handleRaceFilters","borough","handleBoroughFilters","loading","data-color","data-size","XL","data-style","EXPAND_LEFT","data-spinner-size","data-spinner-color","data-spinner-lines","Category","filteredArrestCategory","graphOption","onDragStart","visibility","chartType","loader","size","data","options","backgroundColor","AgeGroup","filteredAgeGroupData","filteredAgeGroup","concat","item","Race","filteredRaceUniqueValues","filteredRaceArr","Gender","filteredSexUniqueValues","filteredSexArr","Borough","filteredBoroughUniqueValues","filteredBoroughArr","TopOffenses","filteredOffenseDescriptionArr","filteredOffenseDescriptionUniqueValues","sortedArr","a","b","bar","groupWidth","legend","position","width","chartArea","AgeGroupTimeline","filteredUniqueDates","filteredTimelineAgeGroupData","label","dayjs","isBefore","date","dateArr","age_group","BoroughTimeline","filteredTimelineBoroughData","CategoryTimeline","filteredTimelineCategoryData","filteredUniqueCategory","uniqueValues","categoryArr","GenderTimeline","filteredTimelineSexData","genderArr","RaceTimeline","filteredTimelineRaceData","raceArr","BottomInfoPanel","currentFilters","CarouselRef","changeGraphOption","zIndex","onChange","value","horizontal","rootColor","pointColor","slidePrev","autoPlayInterval","autoPlay","fadeOutAnimation","dotsDisabled","mouseTrackingEnabled","playButtonEnabled","disableAutoPlayOnAction","responsive","0","items","preservePosition","slideNext","yearlyTotals","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","ws","WebSocket","extend","customParseFormat","App","mapLoaded","changeMapLoaded","loadedData","changeLoadedData","loaderColor","changeLoaderColor","mapError","changeMapError","layers","changeLayers","changeLoadedYears","loadingYears","changeLoadingYears","fetchProgress","changeFetchProgress","mapVisible","changeMapVisible","changeCurrentFilters","changeCurrentScreenWidth","layersRef","loadDataChunks","filteredDataChunks","toastId","useLayoutEffect","updateSize","override","css","index","self","hasNumber","input","test","ageGroup","AGE_GROUP","PERP_RACE","boroughArr","ARREST_BORO","Latitude","Longitude","offenseDescriptionArr","OFNS_DESC","LAW_CAT_CD","PERP_SEX","ARREST_DATE","colorChangeInterval","setInterval","clearInterval","token","process","REACT_APP_MAPBOX_TOKEN","renderLayers","useCallback","arr1","arr2","yearsFiltered","format","chunk","chunkIndex","yearOfChunk","ScatterplotLayer","id","filled","radiusMinPixels","getPosition","d","getFillColor","pickable","parameters","depthTest","every","onNewDataArrive","chunkYear","assign","loadedDataArr","keys","keyName","flattenedArray","currentValue","j","currentRef","selectedYear","toString","progressInterval","refProgress","reduce","toFixed","toast","update","progress","render","TYPE","SUCCESS","autoClose","closeButton","dismissTimer","setTimeout","dismiss","clearTimeout","info","hideProgressBar","dataFetch","send","onmessage","compressed_data","LZString","decompressFromEncodedURIComponent","JSON","parse","onopen","event","console","log","showTooltip","object","y","PD_DESC","innerHTML","display","background","fontSize","overflowWrap","lineHeight","opacity","left","top","mapVisibleDelay","transition","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","newYears","initialViewState","longitude","latitude","minZoom","pitch","bearing","controller","onHover","pickingRadius","onLoad","onError","mapStyle","mapboxApiAccessToken","require","config","ReactDOM"],"mappings":"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","file":"static/js/main.2b6b46b1.chunk.js","sourcesContent":["/*! iNoBounce - v0.1.6\n * https://github.com/lazd/iNoBounce/\n * Copyright (c) 2013 Larry Davis <lazdnet@gmail.com>; Licensed BSD */\n(function (global) {\n  // Stores the Y position where the touch started\n  var startY = 0;\n\n  // Store enabled status\n  var enabled = false;\n\n  var supportsPassiveOption = false;\n  try {\n    var opts = Object.defineProperty({}, \"passive\", {\n      get: function () {\n        return (supportsPassiveOption = true);\n      },\n    });\n    window.addEventListener(\"test\", null, opts);\n  } catch (e) {}\n\n  var handleTouchmove = function (evt) {\n    // Get the element that was scrolled upon\n    var el = evt.target;\n\n    // Allow zooming\n    var zoom = window.innerWidth / window.document.documentElement.clientWidth;\n    if (evt.touches.length > 1 || zoom !== 1) {\n      return;\n    }\n\n    // Check all parent elements for scrollability\n    while (el !== document.body && el !== document) {\n      // Get some style properties\n      var style = window.getComputedStyle(el);\n\n      if (!style) {\n        // If we've encountered an element we can't compute the style for, get out\n        break;\n      }\n\n      // Ignore range input element\n      if (el.nodeName === \"INPUT\" && el.getAttribute(\"type\") === \"range\") {\n        return;\n      }\n\n      var scrolling = style.getPropertyValue(\"-webkit-overflow-scrolling\");\n      var overflowY = style.getPropertyValue(\"overflow-y\");\n      var height = parseInt(style.getPropertyValue(\"height\"), 10);\n\n      // Determine if the element should scroll\n      var isScrollable =\n        scrolling === \"touch\" &&\n        (overflowY === \"auto\" || overflowY === \"scroll\");\n      var canScroll = el.scrollHeight > el.offsetHeight;\n\n      if (isScrollable && canScroll) {\n        // Get the current Y position of the touch\n        var curY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n\n        // Determine if the user is trying to scroll past the top or bottom\n        // In this case, the window will bounce, so we have to prevent scrolling completely\n        var isAtTop = startY <= curY && el.scrollTop === 0;\n        var isAtBottom =\n          startY >= curY && el.scrollHeight - el.scrollTop === height;\n\n        // Stop a bounce bug when at the bottom or top of the scrollable element\n        if (isAtTop || isAtBottom) {\n          evt.preventDefault();\n        }\n\n        // No need to continue up the DOM, we've done our job\n        return;\n      }\n\n      // Test the next parent\n      el = el.parentNode;\n    }\n\n    // Stop the bouncing -- no parents are scrollable\n    evt.preventDefault();\n  };\n\n  var handleTouchstart = function (evt) {\n    // Store the first Y position of the touch\n    startY = evt.touches ? evt.touches[0].screenY : evt.screenY;\n  };\n\n  var enable = function () {\n    // Listen to a couple key touch events\n    window.addEventListener(\n      \"touchstart\",\n      handleTouchstart,\n      supportsPassiveOption ? { passive: false } : false\n    );\n    window.addEventListener(\n      \"touchmove\",\n      handleTouchmove,\n      supportsPassiveOption ? { passive: false } : false\n    );\n    enabled = true;\n  };\n\n  var disable = function () {\n    // Stop listening\n    window.removeEventListener(\"touchstart\", handleTouchstart, false);\n    window.removeEventListener(\"touchmove\", handleTouchmove, false);\n    enabled = false;\n  };\n\n  var isEnabled = function () {\n    return enabled;\n  };\n\n  // Enable by default if the browser supports -webkit-overflow-scrolling\n  // Test this by setting the property with JavaScript on an element that exists in the DOM\n  // Then, see if the property is reflected in the computed style\n  var testDiv = document.createElement(\"div\");\n  document.documentElement.appendChild(testDiv);\n  testDiv.style.WebkitOverflowScrolling = \"touch\";\n  var scrollSupport =\n    \"getComputedStyle\" in window &&\n    window.getComputedStyle(testDiv)[\"-webkit-overflow-scrolling\"] === \"touch\";\n  document.documentElement.removeChild(testDiv);\n\n  if (scrollSupport) {\n    enable();\n  }\n\n  // A module to support enabling/disabling iNoBounce\n  var iNoBounce = {\n    enable: enable,\n    disable: disable,\n    isEnabled: isEnabled,\n  };\n\n  if (typeof module !== \"undefined\" && module.exports) {\n    // Node.js Support\n    module.exports = iNoBounce;\n  }\n  if (typeof global.define === \"function\") {\n    // AMD Support\n    (function (define) {\n      define(\"iNoBounce\", [], function () {\n        return iNoBounce;\n      });\n    })(global.define);\n  } else {\n    // Browser support\n    global.iNoBounce = iNoBounce;\n  }\n})(this);\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { slide as Menu } from \"react-burger-menu\";\nimport { BsFilterRight } from \"react-icons/bs\";\nimport { FaCircle, FaCloudDownloadAlt, FaPlus } from \"react-icons/fa\";\nimport Collapsible from \"react-collapsible\";\nimport Tippy from \"@tippyjs/react\";\nimport LaddaButton, { XL, EXPAND_LEFT } from \"react-ladda\";\nimport \"tippy.js/dist/tippy.css\";\nimport \"./NavigationBar.css\";\nimport \"./burgermenu.css\";\n\nconst NavigationBar = (props) => {\n  const {\n    loadData,\n    raceUniqueValues,\n    boroughUniqueValues,\n    ageGroupData,\n    offenseDescriptionUniqueValues,\n    setFilters,\n    initialScreenWidth,\n    currentScreenWidth,\n    pointClicked,\n    changeLaddaLoading,\n    laddaLoading,\n    loadedYears,\n    filteredData,\n    handleDownloadYear,\n    yearFilter,\n    changeYearFilter,\n    categoryFilter,\n    changeCategoryFilter,\n    offenseFilter,\n    changeOffenseFilter,\n    ageFilter,\n    changeAgeFilter,\n    raceFilter,\n    changeRaceFilter,\n    sexFilter,\n    changeSexFilter,\n    boroughFilter,\n    changeBoroughFilter,\n  } = props;\n\n  const logoContainerRef = useRef(null);\n\n  const burgerMenu = document.getElementsByClassName(\"bm-burger-button\");\n  const mapboxAttribRef = document.getElementsByClassName(\n    \"mapboxgl-ctrl-bottom-left\"\n  );\n  const [tooltipVisible, changeTooltipVisible] = useState(true);\n  const [menuClicked, changeMenuClicked] = useState(false);\n  const [collapseOpen, changeCollapseOpen] = useState(\"\");\n\n  const filterByYear = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Year</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByCategory = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Category</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByOffense = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Offense</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByAge = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Age Group</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByRace = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Race</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterBySex = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Sex</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByBorough = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Borough</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const handleBurgerMenuClick = () => {\n    if (menuClicked) {\n      changeMenuClicked(false);\n    } else {\n      changeMenuClicked(true);\n      changeTooltipVisible(false);\n    }\n  };\n\n  const renderYears = () => {\n    const newArr = [];\n\n    for (let i = 2006; i < Number(new Date().getFullYear() + 1); i++) {\n      newArr.push(i);\n    }\n\n    return newArr;\n  };\n\n  const handleYearFilters = (year) => {\n    if (yearFilter.includes(year)) {\n      changeYearFilter(yearFilter.filter((x) => x !== year));\n    } else {\n      changeYearFilter([...yearFilter, year]);\n    }\n  };\n\n  const handleCategoryFilters = (category) => {\n    if (categoryFilter.includes(category)) {\n      changeCategoryFilter(categoryFilter.filter((x) => x !== category));\n    } else {\n      changeCategoryFilter([...categoryFilter, category]);\n    }\n  };\n\n  const handleOffenseFilters = (offense) => {\n    if (offenseFilter.includes(offense)) {\n      changeOffenseFilter(offenseFilter.filter((x) => x !== offense));\n    } else {\n      changeOffenseFilter([...offenseFilter, offense]);\n    }\n  };\n\n  const handleAgeFilters = (age) => {\n    if (ageFilter.includes(age)) {\n      changeAgeFilter(ageFilter.filter((x) => x !== age));\n    } else {\n      changeAgeFilter([...ageFilter, age]);\n    }\n  };\n\n  const handleRaceFilters = (race) => {\n    if (raceFilter.includes(race)) {\n      changeRaceFilter(raceFilter.filter((x) => x !== race));\n    } else {\n      changeRaceFilter([...raceFilter, race]);\n    }\n  };\n\n  const handleSexFilters = (sex) => {\n    if (sexFilter.includes(sex)) {\n      changeSexFilter(sexFilter.filter((x) => x !== sex));\n    } else {\n      changeSexFilter([...sexFilter, sex]);\n    }\n  };\n\n  const handleBoroughFilters = (borough) => {\n    if (boroughFilter.includes(borough)) {\n      changeBoroughFilter(boroughFilter.filter((x) => x !== borough));\n    } else {\n      changeBoroughFilter([...boroughFilter, borough]);\n    }\n  };\n\n  useEffect(() => {\n    const overviewTippy = document.getElementById(\"tippy-4\");\n\n    if (!currentScreenWidth) {\n      if (initialScreenWidth < 768) {\n        if (overviewTippy) {\n          if (pointClicked) {\n            overviewTippy.style.cssText = \"z-index: -1 !important;\";\n          } else {\n            overviewTippy.style.cssText = \"z-index: 0 !important;\";\n          }\n        }\n      }\n    } else {\n      if (currentScreenWidth < 768) {\n        if (overviewTippy) {\n          if (pointClicked) {\n            overviewTippy.style.cssText = \"z-index: -1 !important;\";\n          } else {\n            overviewTippy.style.cssText = \"z-index: 0 !important;\";\n          }\n        }\n      }\n    }\n  }, [pointClicked, currentScreenWidth, initialScreenWidth]);\n\n  return (\n    <div className=\"navigation_bar_container\">\n      <Tippy\n        content={\n          <div\n            className=\"overview_tooltip_content\"\n            style={{\n              minWidth:\n                logoContainerRef.current &&\n                logoContainerRef.current.clientWidth,\n              maxWidth:\n                logoContainerRef.current &&\n                logoContainerRef.current.clientWidth,\n            }}\n          >\n            <p style={{ color: \"rgb(166, 166, 166)\" }}>\n              Data Last Updated: July 22, 2020\n            </p>\n            <p>\n              Showing Arrest Data for{\" \"}\n              <strong>{loadedYears.sort().join(\", \")}</strong>\n            </p>\n            <p>\n              Total Number of Arrests Shown: <br />\n              <strong>\n                {filteredData.flat().length.toLocaleString()}\n              </strong> of <strong>{loadData.length.toLocaleString()}</strong>\n            </p>\n          </div>\n        }\n        visible={typeof loadData === \"object\" && loadData.flat().length > 70000}\n        allowHTML={true}\n        reference={\n          !currentScreenWidth\n            ? initialScreenWidth >= 767\n              ? logoContainerRef.current\n              : mapboxAttribRef[0]\n            : currentScreenWidth >= 767\n            ? logoContainerRef.current\n            : mapboxAttribRef[0]\n        }\n        className=\"overview_tooltip\"\n        placement=\"bottom-start\"\n      />\n      <Tippy\n        content={\n          <div\n            className=\"map_legend_container\"\n            style={{\n              minWidth:\n                logoContainerRef.current &&\n                logoContainerRef.current.clientWidth,\n              maxWidth:\n                logoContainerRef.current &&\n                logoContainerRef.current.clientWidth,\n            }}\n          >\n            <p>Map Legend</p>\n            <div className=\"map_legend_items_container\">\n              <div className=\"map_legend_element\">\n                <FaCircle color=\"rgb(255, 0, 0)\" />\n                <p>Felony</p>\n              </div>\n              <div className=\"map_legend_element\">\n                <FaCircle color=\"rgb(255, 116, 0)\" />\n                <p>Misdemeanor</p>\n              </div>\n              <div className=\"map_legend_element\">\n                <FaCircle color=\"rgb(255, 193, 0)\" />\n                <p>Violation</p>\n              </div>\n            </div>\n          </div>\n        }\n        visible={typeof loadData === \"object\" && loadData.flat().length > 70000}\n        allowHTML={true}\n        reference={mapboxAttribRef[0]}\n        className=\"overview_tooltip legend_tooltip\"\n        placement=\"top-start\"\n      />\n      <div className=\"nypd_arrest_map_logo_container\" ref={logoContainerRef}>\n        <a href=\"/\">\n          <p>NYPD</p>\n          <p>Arrest</p>\n          <p>Map</p>\n        </a>\n      </div>\n      <Tippy\n        content=\"Click here to set data filters\"\n        visible={\n          tooltipVisible &&\n          typeof loadData === \"object\" &&\n          loadData.flat().length > 70000\n        }\n        reference={burgerMenu[0]}\n        className=\"burger_tooltip\"\n        placement=\"bottom-end\"\n        onClickOutside={() => changeTooltipVisible(false)}\n      />\n      <Menu\n        right\n        className=\"navbar_nav_menu\"\n        customBurgerIcon={<BsFilterRight color=\"rgb(93, 188, 210)\" />}\n        onOpen={handleBurgerMenuClick}\n        onClose={() => changeMenuClicked(false)}\n        isOpen={menuClicked}\n      >\n        <Collapsible\n          trigger={filterByYear()}\n          onTriggerOpening={() => changeCollapseOpen(\"year\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"year\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {renderYears().map((year, i) => {\n              return (\n                <p\n                  key={i}\n                  style={{\n                    color: loadedYears.includes(year)\n                      ? \"#000\"\n                      : \"rgb(166, 166, 166)\",\n                  }}\n                  className={\n                    loadedYears.includes(year) ? null : \"unfetched_year_button\"\n                  }\n                  onClick={() => {\n                    if (loadedYears.includes(year)) {\n                      handleYearFilters(year);\n                    } else {\n                      handleDownloadYear(year);\n                      changeYearFilter([...yearFilter, year]);\n                    }\n                  }}\n                >\n                  <label>\n                    {loadedYears.includes(year) ? (\n                      <input\n                        name=\"my-checkbox\"\n                        type=\"checkbox\"\n                        defaultChecked={loadedYears.includes(year)}\n                      />\n                    ) : (\n                      <FaCloudDownloadAlt className=\"year_download_icon\" />\n                    )}\n                    {loadedYears.includes(year)\n                      ? year\n                      : `${year} (Click to load data)`}\n                  </label>\n                </p>\n              );\n            })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByCategory()}\n          onTriggerOpening={() => changeCollapseOpen(\"category\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"category\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  onClick={() => handleCategoryFilters(\"F\")}\n                />\n                Felony\n              </label>\n            </p>\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  onClick={() => handleCategoryFilters(\"M\")}\n                />\n                Misdemeanor\n              </label>\n            </p>\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  onClick={() => handleCategoryFilters(\"V\")}\n                />\n                Violation\n              </label>\n            </p>\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByOffense()}\n          onTriggerOpening={() => changeCollapseOpen(\"description\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"description\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {offenseDescriptionUniqueValues.map((desc, i) => {\n              if (\n                desc &&\n                !(desc.includes(\"OTHER STATE LAWS\") && desc.includes(\"(\"))\n              ) {\n                return (\n                  <p key={i}>\n                    <label>\n                      <input\n                        name=\"my-checkbox\"\n                        type=\"checkbox\"\n                        onClick={() => handleOffenseFilters(desc)}\n                      />\n                      {desc\n                        .split(\" \")\n                        .map(\n                          (x) => x[0].toUpperCase() + x.slice(1).toLowerCase()\n                        )\n                        .join(\" \")\n                        .split(\"/\")\n                        .map(\n                          (x) =>\n                            x[0].toUpperCase() +\n                            x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                            x.slice(x.indexOf(\" \"))\n                        )\n                        .join(\"/\")}\n                    </label>\n                  </p>\n                );\n              } else {\n                return null;\n              }\n            })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByAge()}\n          onTriggerOpening={() => changeCollapseOpen(\"age\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"age\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {ageGroupData.map((age, i) => {\n              return (\n                <p key={i}>\n                  <label>\n                    <input\n                      name=\"my-checkbox\"\n                      type=\"checkbox\"\n                      onClick={() => handleAgeFilters(age)}\n                    />\n                    {age === \"65\" ? \"65+\" : age}\n                  </label>\n                </p>\n              );\n            })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByRace()}\n          onTriggerOpening={() => changeCollapseOpen(\"race\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"race\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {raceUniqueValues.map((race, i) => {\n              if (race) {\n                return (\n                  <p key={i}>\n                    <label>\n                      <input\n                        name=\"my-checkbox\"\n                        type=\"checkbox\"\n                        onClick={() => handleRaceFilters(race)}\n                      />\n                      {race &&\n                        race\n                          .split(\" \")\n                          .map(\n                            (x) => x[0].toUpperCase() + x.slice(1).toLowerCase()\n                          )\n                          .join(\" \")\n                          .split(\"/\")\n                          .map(\n                            (x) =>\n                              x[0].toUpperCase() +\n                              x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                              x.slice(x.indexOf(\" \"))\n                          )\n                          .join(\"/\")}\n                    </label>\n                  </p>\n                );\n              } else {\n                return null;\n              }\n            })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterBySex()}\n          onTriggerOpening={() => changeCollapseOpen(\"sex\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"sex\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  onClick={() => handleSexFilters(\"F\")}\n                />\n                Female\n              </label>\n            </p>\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  onClick={() => handleSexFilters(\"M\")}\n                />\n                Male\n              </label>\n            </p>\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByBorough()}\n          onTriggerOpening={() => changeCollapseOpen(\"borough\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"borough\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {boroughUniqueValues.map((borough, i) => {\n              return (\n                <p key={i}>\n                  <label>\n                    <input\n                      name=\"my-checkbox\"\n                      type=\"checkbox\"\n                      onClick={() => handleBoroughFilters(borough)}\n                    />\n                    {borough === \"B\"\n                      ? \"Bronx\"\n                      : borough === \"Q\"\n                      ? \"Queens\"\n                      : borough === \"M\"\n                      ? \"Manhattan\"\n                      : borough === \"K\"\n                      ? \"Brooklyn\"\n                      : borough === \"S\"\n                      ? \"Staten Island\"\n                      : \"Unknown\"}\n                  </label>\n                </p>\n              );\n            })}\n          </div>\n        </Collapsible>\n        <span className=\"spacer\" />\n        <LaddaButton\n          loading={laddaLoading}\n          className=\"apply_filters_button\"\n          onClick={() => {\n            changeLaddaLoading(true);\n            setFilters(\n              yearFilter,\n              categoryFilter,\n              offenseFilter,\n              ageFilter,\n              raceFilter,\n              sexFilter,\n              boroughFilter\n            );\n          }}\n          data-color={\"blue\"}\n          data-size={XL}\n          data-style={EXPAND_LEFT}\n          data-spinner-size={30}\n          data-spinner-color={\"#fff\"}\n          data-spinner-lines={12}\n        >\n          {laddaLoading ? \"APPLYING FILTERS\" : \"APPLY FILTERS\"}\n        </LaddaButton>\n      </Menu>\n    </div>\n  );\n};\n\nexport default NavigationBar;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst Category = (props) => {\n  const { filteredArrestCategory, graphOption } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ visibility: graphOption === \"overview\" ? \"visible\" : \"hidden\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Category</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={[\n            [\"Category\", \"Number of Arrests\"],\n            [\"Felony\", filteredArrestCategory.filter((x) => x === \"F\").length],\n            [\n              \"Misdemeanor\",\n              filteredArrestCategory.filter((x) => x === \"M\").length,\n            ],\n            [\n              \"Violation\",\n              filteredArrestCategory.filter((x) => x !== \"F\" && x !== \"M\")\n                .length,\n            ],\n          ]}\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Category;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst AgeGroup = (props) => {\n  const { filteredAgeGroupData, filteredAgeGroup, graphOption } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ visibility: graphOption === \"overview\" ? \"visible\" : \"hidden\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Age Group</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[\"Age Group\", \"Number of Arrests\"]].concat(\n                filteredAgeGroupData.map((item) => [\n                  item === \"65\" ? \"65+\" : item,\n                  filteredAgeGroup.filter((x) => x === item).length,\n                ])\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default AgeGroup;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst Race = (props) => {\n  const { filteredRaceUniqueValues, filteredRaceArr, graphOption } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ visibility: graphOption === \"overview\" ? \"visible\" : \"hidden\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Race</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[\"Race\", \"Number of Arrests\"]].concat(\n                filteredRaceUniqueValues.map((item) => [\n                  item\n                    ? item\n                        .split(\" \")\n                        .map(\n                          (x) => x[0].toUpperCase() + x.slice(1).toLowerCase()\n                        )\n                        .join(\" \")\n                        .split(\"/\")\n                        .map(\n                          (x) =>\n                            x[0].toUpperCase() +\n                            x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                            x.slice(x.indexOf(\" \"))\n                        )\n                        .join(\"/\")\n                    : null,\n                  filteredRaceArr.filter((x) => x === item).length,\n                ])\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Race;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst Gender = (props) => {\n  const { filteredSexUniqueValues, filteredSexArr, graphOption } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ visibility: graphOption === \"overview\" ? \"visible\" : \"hidden\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Sex</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[\"Sex\", \"Number of Arrests\"]].concat(\n                filteredSexUniqueValues.map((item) => [\n                  item === \"M\" ? \"Male\" : \"Female\",\n                  filteredSexArr.filter((x) => x === item).length,\n                ])\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Gender;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst Borough = (props) => {\n  const {\n    filteredBoroughUniqueValues,\n    filteredBoroughArr,\n    graphOption,\n  } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ visibility: graphOption === \"overview\" ? \"visible\" : \"hidden\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Borough</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[\"Borough\", \"Number of Arrests\"]].concat(\n                filteredBoroughUniqueValues.map((item) => [\n                  item === \"B\"\n                    ? \"Bronx\"\n                    : item === \"Q\"\n                    ? \"Queens\"\n                    : item === \"M\"\n                    ? \"Manhattan\"\n                    : item === \"K\"\n                    ? \"Brooklyn\"\n                    : item === \"S\"\n                    ? \"Staten Island\"\n                    : \"Unknown\",\n                  filteredBoroughArr.filter((x) => x === item).length,\n                ])\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Borough;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\n\nconst TopOffenses = (props) => {\n  const {\n    filteredOffenseDescriptionArr,\n    filteredOffenseDescriptionUniqueValues,\n    graphOption,\n  } = props;\n\n  const sortedArr =\n    filteredOffenseDescriptionArr.length > 0 &&\n    filteredOffenseDescriptionUniqueValues.length > 0\n      ? filteredOffenseDescriptionUniqueValues\n          .map((item) => [\n            item,\n            filteredOffenseDescriptionArr.filter((x) => x === item).length,\n          ])\n          .sort((a, b) => {\n            if (a[1] > b[1]) {\n              return 1;\n            } else {\n              return -1;\n            }\n          })\n      : null;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ visibility: graphOption === \"overview\" ? \"visible\" : \"hidden\" }}\n    >\n      {sortedArr ? (\n        <>\n          <p className=\"bottom_info_section_title\">Top 5 Offenses</p>\n          <div className=\"bottom_info_pie_container\">\n            <Chart\n              chartType=\"BarChart\"\n              loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n              data={\n                [\n                  [[\"Offense Description\", \"Number of Arrests\"]].concat(\n                    sortedArr\n                      ? sortedArr\n                          .slice(sortedArr.length - 5, sortedArr.length)\n                          .sort((a, b) => {\n                            if (a[1] > b[1]) {\n                              return -1;\n                            } else {\n                              return 1;\n                            }\n                          })\n                      : [\"UNKNOWN\", 1]\n                  ),\n                ][0]\n              }\n              options={{\n                backgroundColor: \"transparent\",\n                bar: { groupWidth: \"95%\" },\n                legend: { position: \"none\" },\n                width: 600,\n                chartArea: { width: \"50%\", height: \"50%\" },\n              }}\n            />\n          </div>\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nexport default TopOffenses;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport dayjs from \"dayjs\";\n\nconst AgeGroupTimeline = (props) => {\n  const {\n    filteredUniqueDates,\n    filteredTimelineAgeGroupData,\n    filteredAgeGroupData,\n    graphOption,\n  } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ visibility: graphOption === \"trends\" ? \"visible\" : \"hidden\" }}\n    >\n      <p className=\"bottom_info_section_title\">Age Group Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [\n                [{ type: \"date\", label: \"Date\" }].concat(\n                  filteredAgeGroupData.map((item) =>\n                    item === \"65\" ? \"65+\" : item\n                  )\n                ),\n              ].concat(\n                filteredUniqueDates.length > 0 &&\n                  filteredAgeGroupData.length > 0\n                  ? filteredUniqueDates[0]\n                      .sort((a, b) => {\n                        if (\n                          dayjs(a, \"MM/DD/YYYY\").isBefore(\n                            dayjs(b, \"MM/DD/YYYY\")\n                          )\n                        ) {\n                          return -1;\n                        } else {\n                          return 1;\n                        }\n                      })\n                      .map((date) => {\n                        const dateArr = date ? date.split(\"/\") : null;\n                        const dateObj =\n                          dateArr.length > 0\n                            ? new Date(dateArr[2], dateArr[0] - 1, dateArr[1])\n                            : null;\n\n                        return [\n                          dateObj,\n                          filteredAgeGroupData.map(\n                            (item) =>\n                              filteredTimelineAgeGroupData[0].filter(\n                                (x) => x.date === date && x.age_group === item\n                              ).length\n                          ),\n                        ].flat();\n                      })\n                  : []\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n            width: 650,\n            chartArea: { width: \"50%\", height: \"50%\" },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default AgeGroupTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport dayjs from \"dayjs\";\n\nconst BoroughTimeline = (props) => {\n  const {\n    filteredUniqueDates,\n    filteredTimelineBoroughData,\n    filteredBoroughUniqueValues,\n    graphOption,\n  } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ visibility: graphOption === \"trends\" ? \"visible\" : \"hidden\" }}\n    >\n      <p className=\"bottom_info_section_title\">Borough Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [\n                [{ type: \"date\", label: \"Date\" }].concat(\n                  filteredBoroughUniqueValues.map((borough) =>\n                    borough === \"B\"\n                      ? \"Bronx\"\n                      : borough === \"Q\"\n                      ? \"Queens\"\n                      : borough === \"M\"\n                      ? \"Manhattan\"\n                      : borough === \"K\"\n                      ? \"Brooklyn\"\n                      : borough === \"S\"\n                      ? \"Staten Island\"\n                      : \"Unknown\"\n                  )\n                ),\n              ].concat(\n                filteredUniqueDates.length > 0 &&\n                  filteredBoroughUniqueValues.length > 0\n                  ? filteredUniqueDates[0]\n                      .sort((a, b) => {\n                        if (\n                          dayjs(a, \"MM/DD/YYYY\").isBefore(\n                            dayjs(b, \"MM/DD/YYYY\")\n                          )\n                        ) {\n                          return -1;\n                        } else {\n                          return 1;\n                        }\n                      })\n                      .map((date) => {\n                        const dateArr = date ? date.split(\"/\") : null;\n                        const dateObj =\n                          dateArr.length > 0\n                            ? new Date(dateArr[2], dateArr[0] - 1, dateArr[1])\n                            : null;\n\n                        return [\n                          dateObj,\n                          filteredBoroughUniqueValues.map(\n                            (item) =>\n                              filteredTimelineBoroughData[0].filter(\n                                (x) => x.date === date && x.borough === item\n                              ).length\n                          ),\n                        ].flat();\n                      })\n                  : []\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n            width: 650,\n            chartArea: { width: \"50%\", height: \"50%\" },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default BoroughTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport dayjs from \"dayjs\";\n\nconst CategoryTimeline = (props) => {\n  const {\n    filteredUniqueDates,\n    filteredTimelineCategoryData,\n    filteredUniqueCategory,\n    graphOption,\n    uniqueValues,\n  } = props;\n\n  const categoryArr = filteredUniqueCategory[0]\n    ? filteredUniqueCategory[0]\n        .map((x) =>\n          x === \"F\" ? \"Felony\" : x === \"M\" ? \"Misdemeanor\" : \"Violation\"\n        )\n        .filter(uniqueValues)\n    : [];\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ visibility: graphOption === \"trends\" ? \"visible\" : \"hidden\" }}\n    >\n      <p className=\"bottom_info_section_title\">Category Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[{ type: \"date\", label: \"Date\" }].concat(categoryArr)].concat(\n                filteredUniqueDates.length > 0\n                  ? filteredUniqueDates[0]\n                      .sort((a, b) => {\n                        if (\n                          dayjs(a, \"MM/DD/YYYY\").isBefore(\n                            dayjs(b, \"MM/DD/YYYY\")\n                          )\n                        ) {\n                          return -1;\n                        } else {\n                          return 1;\n                        }\n                      })\n                      .map((date) => {\n                        const dateArr = date ? date.split(\"/\") : null;\n                        const dateObj =\n                          dateArr.length > 0\n                            ? new Date(dateArr[2], dateArr[0] - 1, dateArr[1])\n                            : null;\n\n                        return [\n                          dateObj,\n                          categoryArr.map(\n                            (item) =>\n                              filteredTimelineCategoryData[0].filter(\n                                (x) => x.date === date && x.category === item\n                              ).length\n                          ),\n                        ].flat();\n                      })\n                  : []\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n            width: 650,\n            chartArea: { width: \"50%\", height: \"50%\" },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport dayjs from \"dayjs\";\n\nconst GenderTimeline = (props) => {\n  const {\n    filteredUniqueDates,\n    filteredTimelineSexData,\n    filteredSexUniqueValues,\n    graphOption,\n  } = props;\n\n  const genderArr = filteredSexUniqueValues.map((x) =>\n    x === \"F\" ? \"Female\" : \"Male\"\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ visibility: graphOption === \"trends\" ? \"visible\" : \"hidden\" }}\n    >\n      <p className=\"bottom_info_section_title\">Gender Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[{ type: \"date\", label: \"Date\" }].concat(genderArr)].concat(\n                filteredUniqueDates.length > 0\n                  ? filteredUniqueDates[0]\n                      .sort((a, b) => {\n                        if (\n                          dayjs(a, \"MM/DD/YYYY\").isBefore(\n                            dayjs(b, \"MM/DD/YYYY\")\n                          )\n                        ) {\n                          return -1;\n                        } else {\n                          return 1;\n                        }\n                      })\n                      .map((date) => {\n                        const dateArr = date ? date.split(\"/\") : null;\n                        const dateObj =\n                          dateArr.length > 0\n                            ? new Date(dateArr[2], dateArr[0] - 1, dateArr[1])\n                            : null;\n\n                        return [\n                          dateObj,\n                          genderArr.map(\n                            (item) =>\n                              filteredTimelineSexData[0].filter(\n                                (x) => x.date === date && x.sex === item\n                              ).length\n                          ),\n                        ].flat();\n                      })\n                  : []\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n            width: 650,\n            chartArea: { width: \"50%\", height: \"50%\" },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default GenderTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport dayjs from \"dayjs\";\n\nconst RaceTimeline = (props) => {\n  const {\n    filteredUniqueDates,\n    filteredTimelineRaceData,\n    filteredRaceUniqueValues,\n    graphOption,\n  } = props;\n\n  const raceArr = filteredRaceUniqueValues.map((race) =>\n    race\n      .split(\" \")\n      .map((x) => x[0].toUpperCase() + x.slice(1).toLowerCase())\n      .join(\" \")\n      .split(\"/\")\n      .map(\n        (x) =>\n          x[0].toUpperCase() +\n          x.slice(1, x.indexOf(\" \")).toLowerCase() +\n          x.slice(x.indexOf(\" \"))\n      )\n      .join(\"/\")\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ visibility: graphOption === \"trends\" ? \"visible\" : \"hidden\" }}\n    >\n      <p className=\"bottom_info_section_title\">Race Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={\n            [\n              [[{ type: \"date\", label: \"Date\" }].concat(raceArr)].concat(\n                filteredUniqueDates.length > 0\n                  ? filteredUniqueDates[0]\n                      .sort((a, b) => {\n                        if (\n                          dayjs(a, \"MM/DD/YYYY\").isBefore(\n                            dayjs(b, \"MM/DD/YYYY\")\n                          )\n                        ) {\n                          return -1;\n                        } else {\n                          return 1;\n                        }\n                      })\n                      .map((date) => {\n                        const dateArr = date ? date.split(\"/\") : null;\n                        const dateObj =\n                          dateArr.length > 0\n                            ? new Date(dateArr[2], dateArr[0] - 1, dateArr[1])\n                            : null;\n\n                        return [\n                          dateObj,\n                          raceArr.map(\n                            (item) =>\n                              filteredTimelineRaceData[0].filter(\n                                (x) =>\n                                  x.date === date &&\n                                  x.race\n                                    .split(\" \")\n                                    .map(\n                                      (x) =>\n                                        x[0].toUpperCase() +\n                                        x.slice(1).toLowerCase()\n                                    )\n                                    .join(\" \")\n                                    .split(\"/\")\n                                    .map(\n                                      (x) =>\n                                        x[0].toUpperCase() +\n                                        x\n                                          .slice(1, x.indexOf(\" \"))\n                                          .toLowerCase() +\n                                        x.slice(x.indexOf(\" \"))\n                                    )\n                                    .join(\"/\") === item\n                              ).length\n                          ),\n                        ].flat();\n                      })\n                  : []\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n            width: 650,\n            chartArea: { width: \"50%\", height: \"50%\" },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default RaceTimeline;\n","import React, { useRef, useState } from \"react\";\nimport { FaChevronLeft, FaChevronRight } from \"react-icons/fa\";\nimport AliceCarousel from \"react-alice-carousel\";\nimport \"react-alice-carousel/lib/alice-carousel.css\";\nimport \"./BottomInfoPanel.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Category from \"./CarouselItems/Category/Category\";\nimport AgeGroup from \"./CarouselItems/AgeGroup/AgeGroup\";\nimport Race from \"./CarouselItems/Race/Race\";\nimport Gender from \"./CarouselItems/Gender/Gender\";\nimport Borough from \"./CarouselItems/Borough/Borough\";\nimport TopOffenses from \"./CarouselItems/TopOffenses/TopOffenses\";\nimport AgeGroupTimeline from \"./CarouselItems/AgeGroup/AgeGroupTimeline\";\nimport BoroughTimeline from \"./CarouselItems/Borough/BoroughTimeline\";\nimport CategoryTimeline from \"./CarouselItems/Category/CategoryTimeline\";\nimport GenderTimeline from \"./CarouselItems/Gender/GenderTimeline\";\nimport RaceTimeline from \"./CarouselItems/Race/RaceTimeline\";\nimport { RadioGroup, RadioButton } from \"react-radio-buttons\";\n\nconst BottomInfoPanel = (props) => {\n  const {\n    tooltipVisible,\n    filteredAgeGroup,\n    filteredRaceArr,\n    filteredSexArr,\n    filteredBoroughArr,\n    filteredOffenseDescriptionArr,\n    filteredArrestCategory,\n    filteredUniqueCategory,\n\n    uniqueValues,\n\n    filteredAgeGroupData,\n    filteredRaceUniqueValues,\n    filteredSexUniqueValues,\n    filteredBoroughUniqueValues,\n    filteredOffenseDescriptionUniqueValues,\n\n    currentFilters,\n    loadedYears,\n\n    filteredUniqueDates,\n    filteredTimelineAgeGroupData,\n    filteredTimelineBoroughData,\n    filteredTimelineCategoryData,\n    filteredTimelineSexData,\n    filteredTimelineRaceData,\n  } = props;\n\n  let CarouselRef = useRef(null);\n\n  const [graphOption, changeGraphOption] = useState(\"overview\");\n\n  return (\n    <div\n      className=\"bottom_info_panel_container\"\n      style={{ zIndex: tooltipVisible ? -1 : 0 }}\n    >\n      <div className=\"bottom_info_main_info_box\">\n        <div className=\"filters_applied\">\n          <h2>Filters Applied</h2>\n          {currentFilters.year.length === 0 &&\n          currentFilters.category.length === 0 &&\n          currentFilters.offense.length === 0 &&\n          currentFilters.age.length === 0 &&\n          currentFilters.race.length === 0 &&\n          currentFilters.sex.length === 0 &&\n          currentFilters.borough.length === 0 ? (\n            <p className=\"no_filters_applied_statement\">\n              No filters currently applied\n            </p>\n          ) : (\n            <>\n              <p>\n                <strong>\n                  {currentFilters.year.length === 0 ||\n                  currentFilters.year.length === loadedYears.length\n                    ? null\n                    : currentFilters.year.length === 1\n                    ? \"Year: \"\n                    : \"Years: \"}\n                </strong>\n                {currentFilters.year.length === 0 ||\n                currentFilters.year.length === loadedYears.length\n                  ? null\n                  : currentFilters.year.join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.category.length === 0\n                    ? null\n                    : \"Categor\" +\n                      (currentFilters.category.length > 1 ? \"ies: \" : \"y: \")}\n                </strong>\n                {currentFilters.category.length === 0\n                  ? null\n                  : currentFilters.category\n                      .map((x) =>\n                        x === \"F\"\n                          ? \"Felony\"\n                          : x === \"M\"\n                          ? \"Misdemeanor\"\n                          : \"Violation\"\n                      )\n                      .join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.offense.length === 0\n                    ? null\n                    : \"Offense\" +\n                      (currentFilters.offense.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.offense.length === 0\n                  ? null\n                  : currentFilters.offense.join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.age.length === 0\n                    ? null\n                    : \"Age\" + (currentFilters.age.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.age.length === 0\n                  ? null\n                  : currentFilters.age\n                      .map((x) => (x === \"65\" ? \"65+\" : x))\n                      .join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.race.length === 0\n                    ? null\n                    : \"Race\" +\n                      (currentFilters.race.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.race.length === 0\n                  ? null\n                  : currentFilters.race.join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.sex.length === 0 ? null : \"Sex: \"}\n                </strong>\n                {currentFilters.sex.length === 0\n                  ? null\n                  : currentFilters.sex\n                      .map((x) => (x === \"M\" ? \"Male\" : \"Female\"))\n                      .join(\", \")}\n              </p>\n              <p>\n                <strong>\n                  {currentFilters.borough.length === 0\n                    ? null\n                    : \"Borough\" +\n                      (currentFilters.borough.length === 1 ? \": \" : \"s: \")}\n                </strong>\n                {currentFilters.borough.length === 0\n                  ? null\n                  : currentFilters.borough\n                      .map((item) =>\n                        item === \"B\"\n                          ? \"Bronx\"\n                          : item === \"Q\"\n                          ? \"Queens\"\n                          : item === \"M\"\n                          ? \"Manhattan\"\n                          : item === \"K\"\n                          ? \"Brooklyn\"\n                          : item === \"S\"\n                          ? \"Staten Island\"\n                          : \"Unknown\"\n                      )\n                      .join(\", \")}\n              </p>\n            </>\n          )}\n        </div>\n        <div className=\"graph_options_container\">\n          <p>Graph Options</p>\n          <RadioGroup\n            onChange={(value) => changeGraphOption(value)}\n            horizontal\n            value={graphOption}\n          >\n            <RadioButton\n              rootColor=\"rgb(190, 190, 190)\"\n              pointColor=\"rgb(0, 0, 128)\"\n              value=\"overview\"\n            >\n              Overview\n            </RadioButton>\n            <RadioButton\n              rootColor=\"rgb(190, 190, 190)\"\n              pointColor=\"rgb(0, 0, 128)\"\n              value=\"trends\"\n            >\n              Trends Over Time\n            </RadioButton>\n          </RadioGroup>\n        </div>\n      </div>\n      <div className=\"carousel_container\">\n        <FaChevronLeft\n          color=\"rgb(0, 0, 0)\"\n          className=\"carousel_left_arrow\"\n          onClick={() => CarouselRef.slidePrev()}\n        />\n        <AliceCarousel\n          ref={(el) => (CarouselRef = el)}\n          autoPlayInterval={5000}\n          autoPlay={true}\n          fadeOutAnimation={true}\n          dotsDisabled={true}\n          mouseTrackingEnabled={true}\n          playButtonEnabled={false}\n          disableAutoPlayOnAction={false}\n          responsive={{\n            0: { items: 4 },\n          }}\n          preservePosition={true}\n          items={\n            graphOption === \"overview\"\n              ? [\n                  <Category\n                    filteredArrestCategory={filteredArrestCategory}\n                    graphOption={graphOption}\n                  />,\n                  <AgeGroup\n                    filteredAgeGroup={filteredAgeGroup}\n                    filteredAgeGroupData={filteredAgeGroupData}\n                    graphOption={graphOption}\n                  />,\n                  <Race\n                    filteredRaceUniqueValues={filteredRaceUniqueValues}\n                    filteredRaceArr={filteredRaceArr}\n                    graphOption={graphOption}\n                  />,\n                  <Gender\n                    filteredUniqueDates={filteredUniqueDates}\n                    filteredSexUniqueValues={filteredSexUniqueValues}\n                    filteredSexArr={filteredSexArr}\n                    graphOption={graphOption}\n                  />,\n                  <Borough\n                    filteredBoroughUniqueValues={filteredBoroughUniqueValues}\n                    filteredBoroughArr={filteredBoroughArr}\n                    graphOption={graphOption}\n                  />,\n                  <TopOffenses\n                    filteredOffenseDescriptionArr={\n                      filteredOffenseDescriptionArr\n                    }\n                    filteredOffenseDescriptionUniqueValues={\n                      filteredOffenseDescriptionUniqueValues\n                    }\n                    graphOption={graphOption}\n                  />,\n                ]\n              : [\n                  <CategoryTimeline\n                    filteredTimelineCategoryData={filteredTimelineCategoryData}\n                    filteredUniqueDates={filteredUniqueDates}\n                    filteredArrestCategory={filteredArrestCategory}\n                    graphOption={graphOption}\n                    filteredUniqueCategory={filteredUniqueCategory}\n                    uniqueValues={uniqueValues}\n                  />,\n                  <AgeGroupTimeline\n                    filteredAgeGroupData={filteredAgeGroupData}\n                    filteredUniqueDates={filteredUniqueDates}\n                    filteredTimelineAgeGroupData={filteredTimelineAgeGroupData}\n                    graphOption={graphOption}\n                  />,\n                  <BoroughTimeline\n                    filteredBoroughUniqueValues={filteredBoroughUniqueValues}\n                    filteredUniqueDates={filteredUniqueDates}\n                    filteredTimelineBoroughData={filteredTimelineBoroughData}\n                    graphOption={graphOption}\n                  />,\n                  <RaceTimeline\n                    filteredRaceUniqueValues={filteredRaceUniqueValues}\n                    filteredUniqueDates={filteredUniqueDates}\n                    filteredTimelineRaceData={filteredTimelineRaceData}\n                    graphOption={graphOption}\n                  />,\n                  <GenderTimeline\n                    filteredUniqueDates={filteredUniqueDates}\n                    filteredSexUniqueValues={filteredSexUniqueValues}\n                    filteredTimelineSexData={filteredTimelineSexData}\n                    graphOption={graphOption}\n                  />,\n                ]\n          }\n        />\n        <FaChevronRight\n          color=\"rgb(0, 0, 0)\"\n          className=\"carousel_right_arrow\"\n          onClick={() => CarouselRef.slideNext()}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default BottomInfoPanel;\n","const yearlyTotals = {\n  2006: 371932,\n  2007: 403229,\n  2008: 401526,\n  2009: 421314,\n  2010: 422320,\n  2011: 412856,\n  2012: 396278,\n  2013: 393807,\n  2014: 387725,\n  2015: 339468,\n  2016: 314862,\n  2017: 286223,\n  2018: 246772,\n  2019: 214616,\n  2020: 74783,\n};\n\nexport default yearlyTotals;\n","import React, {\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useRef,\n  useState,\n} from \"react\";\nimport DeckGL from \"@deck.gl/react\";\nimport { StaticMap } from \"react-map-gl\";\nimport { ScatterplotLayer } from \"@deck.gl/layers\";\nimport \"./App.css\";\nimport \"./mapbox.css\";\nimport NavigationBar from \"./NavigationBar/NavigationBar\";\nimport iNoBounce from \"./inobounce\";\nimport BottomInfoPanel from \"./BottomInfoPanel/BottomInfoPanel\";\nimport { css } from \"@emotion/core\";\nimport GridLoader from \"react-spinners/GridLoader\";\nimport dayjs from \"dayjs\";\nimport customParseFormat from \"dayjs/plugin/customParseFormat\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport yearlyTotals from \"./YearlyTotals\";\nimport LZString from \"lz-string\";\n\nconst ws = new WebSocket(\"ws://localhost:4000\");\n\ndayjs.extend(customParseFormat);\n\nconst App = () => {\n  const [mapLoaded, changeMapLoaded] = useState(false);\n  const [loadedData, changeLoadedData] = useState(\"\");\n  const [tooltipVisible, changeTooltipVisible] = useState(false);\n  const [loaderColor, changeLoaderColor] = useState(\"rgb(93, 188, 210)\");\n  const [mapError, changeMapError] = useState(false);\n  const [layers, changeLayers] = useState([]);\n  const [loadedYears, changeLoadedYears] = useState([]);\n  const [laddaLoading, changeLaddaLoading] = useState(false);\n  const [loadingYears, changeLoadingYears] = useState([]);\n  const [fetchProgress, changeFetchProgress] = useState(0);\n  const [mapVisible, changeMapVisible] = useState(false);\n\n  // Filters\n  const [yearFilter, changeYearFilter] = useState([2020]);\n  const [categoryFilter, changeCategoryFilter] = useState([]);\n  const [offenseFilter, changeOffenseFilter] = useState([]);\n  const [ageFilter, changeAgeFilter] = useState([]);\n  const [raceFilter, changeRaceFilter] = useState([]);\n  const [sexFilter, changeSexFilter] = useState([]);\n  const [boroughFilter, changeBoroughFilter] = useState([]);\n  const [currentFilters, changeCurrentFilters] = useState({\n    year: [],\n    category: [],\n    offense: [],\n    age: [],\n    race: [],\n    sex: [],\n    borough: [],\n  });\n\n  // Browser width on initial opening of app\n  const [initialScreenWidth] = useState(window.innerWidth);\n  // Current browser width if different from initial browser width\n  const [currentScreenWidth, changeCurrentScreenWidth] = useState(\"\");\n\n  let layersRef = useRef([]);\n  let loadDataChunks = useRef([{}]);\n  let filteredDataChunks = useRef([]);\n  let toastId = useRef(null);\n\n  const isSame = (arr1, arr2) =>\n    arr1.length === arr2.length &&\n    arr1.every((item, i) => {\n      return item === arr2[i];\n    });\n\n  useLayoutEffect(() => {\n    const updateSize = () => {\n      if (window.innerWidth !== currentScreenWidth) {\n        changeCurrentScreenWidth(window.innerWidth);\n      }\n    };\n\n    window.addEventListener(\"resize\", updateSize);\n\n    return () => {\n      window.removeEventListener(\"resize\", updateSize);\n    };\n  }, [currentScreenWidth]);\n\n  const override = css`\n    display: block;\n    margin: 0 auto;\n  `;\n\n  const uniqueValues = (value, index, self) => {\n    return self.indexOf(value) === index;\n  };\n\n  const loadData = loadedData ? loadedData.flat() : [\"\"];\n\n  const filteredData = filteredDataChunks.current.flat();\n\n  const hasNumber = (input) => {\n    return /\\d/.test(input);\n  };\n\n  const ageGroup =\n    loadData.length > 0 &&\n    loadData.map((x) => x.AGE_GROUP).filter((x) => x !== \"AGE_GROUP\");\n  const raceArr =\n    loadData.length > 0 &&\n    loadData.map((x) => x.PERP_RACE).filter((x) => x !== \"PERP_RACE\");\n  const boroughArr =\n    loadData.length > 0 &&\n    loadData\n      .map((x) => {\n        if (x.ARREST_BORO === \"K\" && Number(x.Latitude) > 40.73912) {\n          return \"B\";\n        } else if (\n          x.ARREST_BORO === \"M\" &&\n          Number(x.Longitude) > -73.920961 &&\n          Number(x.Latitude) < 40.800709\n        ) {\n          return \"Q\";\n        } else if (x.ARREST_BORO === \"B\" && Number(x.Latitude) < 40.697465) {\n          return \"K\";\n        } else if (x.ARREST_BORO === \"Q\" && Number(x.Longitude) < -73.962745) {\n          return \"M\";\n        } else if (\n          x.ARREST_BORO === \"Q\" &&\n          Number(x.Longitude) < -73.878559 &&\n          Number(x.Latitude) > 40.787907\n        ) {\n          return \"B\";\n        } else {\n          return x.ARREST_BORO;\n        }\n      })\n      .filter((x) => x !== \"ARREST_BORO\");\n  const offenseDescriptionArr =\n    loadData.length > 0 &&\n    loadData.map((x) => x.OFNS_DESC !== \"OFNS_DESC\" && x.OFNS_DESC);\n\n  const filteredArrestCategory = filteredData\n    .map((x) => x.LAW_CAT_CD)\n    .filter((x) => x !== \"LAW_CAT_CD\");\n  const filteredAgeGroup = filteredData\n    .map((x) => x.AGE_GROUP)\n    .filter((x) => x !== \"AGE_GROUP\");\n  const filteredSexArr = filteredData\n    .map((x) => x.PERP_SEX)\n    .filter((x) => x !== \"PERP_SEX\");\n  const filteredRaceArr = filteredData\n    .map((x) => x.PERP_RACE)\n    .filter((x) => x !== \"PERP_RACE\");\n  const filteredBoroughArr = filteredData\n    .map((x) => {\n      if (x.ARREST_BORO === \"K\" && Number(x.Latitude) > 40.77) {\n        return \"B\";\n      } else if (\n        x.ARREST_BORO === \"M\" &&\n        Number(x.Longitude) > -73.920961 &&\n        Number(x.Latitude) < 40.800709\n      ) {\n        return \"Q\";\n      } else if (x.ARREST_BORO === \"B\" && Number(x.Latitude) < 40.697465) {\n        return \"K\";\n      } else if (\n        (x.ARREST_BORO === \"B\" &&\n          Number(x.Latitude) > 40.796669 &&\n          Number(x.Longitude) < -73.932786) ||\n        (x.ARREST_BORO === \"B\" &&\n          Number(x.Latitude) < 40.796669 &&\n          Number(x.Longitude) < -73.98)\n      ) {\n        return \"M\";\n      } else if (x.ARREST_BORO === \"Q\" && Number(x.Longitude) < -73.962745) {\n        return \"M\";\n      } else if (\n        x.ARREST_BORO === \"Q\" &&\n        Number(x.Longitude) < -73.878559 &&\n        Number(x.Latitude) > 40.787907\n      ) {\n        return \"B\";\n      } else {\n        return x.ARREST_BORO;\n      }\n    })\n    .filter((x) => x !== \"ARREST_BORO\");\n  const filteredOffenseDescriptionArr = filteredData.map(\n    (x) => x.OFNS_DESC !== \"OFNS_DESC\" && x.OFNS_DESC\n  );\n\n  const filteredUniqueCategory = filteredDataChunks.current.map((item) =>\n    item\n      .map((x) => x.LAW_CAT_CD)\n      .filter((x) => x !== \"LAW_CAT_CD\")\n      .filter(uniqueValues)\n  );\n\n  const filteredUniqueDates = filteredDataChunks.current.map((item) =>\n    item\n      .map((x) => x.ARREST_DATE)\n      .filter((x) => x !== \"ARREST_DATE\")\n      .filter(uniqueValues)\n  );\n\n  const filteredTimelineAgeGroupData = filteredDataChunks.current.map((item) =>\n    item\n      .map((x) => {\n        return {\n          date: x.ARREST_DATE,\n          age_group: x.AGE_GROUP,\n        };\n      })\n      .filter((x) => x.date !== \"ARREST_DATE\" && x.age_group !== \"AGE_GROUP\")\n  );\n\n  const filteredTimelineBoroughData = filteredDataChunks.current.map((item) =>\n    item\n      .map((x) => {\n        return {\n          date: x.ARREST_DATE,\n          borough: x.ARREST_BORO,\n        };\n      })\n      .filter((x) => x.date !== \"ARREST_DATE\" && x.borough !== \"ARREST_BORO\")\n  );\n\n  const filteredTimelineCategoryData = filteredDataChunks.current.map((item) =>\n    item\n      .map((x) => {\n        return {\n          date: x.ARREST_DATE,\n          category:\n            x.LAW_CAT_CD === \"F\"\n              ? \"Felony\"\n              : x.LAW_CAT_CD === \"M\"\n              ? \"Misdemeanor\"\n              : \"Violation\",\n        };\n      })\n      .filter((x) => x.date !== \"ARREST_DATE\" && x.category !== \"LAW_CAT_CD\")\n  );\n\n  const filteredTimelineSexData = filteredDataChunks.current.map((item) =>\n    item\n      .map((x) => {\n        return {\n          date: x.ARREST_DATE,\n          sex: x.PERP_SEX === \"F\" ? \"Female\" : \"Male\",\n        };\n      })\n      .filter((x) => x.date !== \"ARREST_DATE\" && x.sex !== \"PERP_SEX\")\n  );\n\n  const filteredTimelineRaceData = filteredDataChunks.current.map((item) =>\n    item\n      .map((x) => {\n        return {\n          date: x.ARREST_DATE,\n          race: x.PERP_RACE,\n        };\n      })\n      .filter((x) => x.date !== \"ARREST_DATE\" && x.race !== \"PERP_RACE\")\n  );\n\n  const filteredAgeGroupData = filteredAgeGroup\n    .filter(uniqueValues)\n    .sort((a, b) => {\n      const first = hasNumber(a)\n        ? Number(a.split(a[0] === \"<\" ? \"<\" : \"-\")[a[0] === \"<\" ? 1 : 0])\n        : null;\n      const second = hasNumber(b)\n        ? Number(b.split(b[0] === \"<\" ? \"<\" : \"-\")[b[0] === \"<\" ? 1 : 0])\n        : null;\n\n      return first - second;\n    });\n  const filteredRaceUniqueValues = filteredRaceArr.filter(uniqueValues).sort();\n  const filteredSexUniqueValues = filteredSexArr.filter(uniqueValues).sort();\n  const filteredBoroughUniqueValues = filteredBoroughArr\n    .filter(uniqueValues)\n    .sort();\n  const filteredOffenseDescriptionUniqueValues = filteredOffenseDescriptionArr\n    .filter(uniqueValues)\n    .sort();\n\n  const ageGroupData = ageGroup.filter(uniqueValues).sort((a, b) => {\n    const first = hasNumber(a)\n      ? Number(a.split(a[0] === \"<\" ? \"<\" : \"-\")[a[0] === \"<\" ? 1 : 0])\n      : null;\n    const second = hasNumber(b)\n      ? Number(b.split(b[0] === \"<\" ? \"<\" : \"-\")[b[0] === \"<\" ? 1 : 0])\n      : null;\n\n    return first - second;\n  });\n  const raceUniqueValues = raceArr.filter(uniqueValues).sort();\n  const boroughUniqueValues = boroughArr.filter(uniqueValues).sort();\n  const offenseDescriptionUniqueValues = offenseDescriptionArr\n    .filter(uniqueValues)\n    .sort();\n\n  useEffect(() => {\n    if (!mapError) {\n      while (loadedData === \"\") {\n        const colorChangeInterval = setInterval(() => {\n          if (loaderColor === \"rgb(93, 188, 210)\") {\n            changeLoaderColor(\"rgb(255, 255, 255)\");\n          } else if (loaderColor === \"rgb(255, 255, 255)\") {\n            changeLoaderColor(\"#f9c124\");\n          } else {\n            changeLoaderColor(\"rgb(93, 188, 210)\");\n          }\n        }, 500);\n\n        return () => {\n          clearInterval(colorChangeInterval);\n        };\n      }\n    } else {\n      changeLoaderColor(\"rgb(255, 0, 0)\");\n    }\n  }, [loadedData, loaderColor, mapError]);\n\n  // Used to prevent rubber banding effect on mobile phones\n  useEffect(() => {\n    iNoBounce.enable();\n  }, []);\n\n  const token = process.env.REACT_APP_MAPBOX_TOKEN;\n\n  const renderLayers = useCallback(() => {\n    const yearsFiltered = filteredDataChunks.current.map((item) =>\n      item\n        .map((x) => x.ARREST_DATE)\n        .filter((x) => x !== \"ARREST_DATE\")\n        .map((x) => Number(dayjs(x, \"MM/DD/YYYY\").format(\"YYYY\")))\n        .filter(uniqueValues)\n    );\n\n    if (layers.length !== filteredDataChunks.length) {\n      layersRef.current = filteredDataChunks.current.map(\n        (chunk, chunkIndex) => {\n          const yearOfChunk = chunk\n            .map((x) => x.ARREST_DATE)\n            .filter((x) => x !== \"ARREST_DATE\")\n            .map((x) => dayjs(x, \"MM/DD/YYYY\").format(\"YYYY\"))\n            .filter(uniqueValues);\n\n          return new ScatterplotLayer({\n            id: `chunk-${chunkIndex}`,\n            data: chunk,\n            visible: yearsFiltered.flat().includes(Number(yearOfChunk[0])),\n            filled: true,\n            radiusMinPixels: 3,\n            getPosition: (d) => [Number(d.Longitude), Number(d.Latitude)],\n            getFillColor: (d) =>\n              d.LAW_CAT_CD === \"F\"\n                ? [255, 0, 0]\n                : d.LAW_CAT_CD === \"M\"\n                ? [255, 116, 0]\n                : [255, 193, 0],\n            pickable: true,\n            parameters: {\n              depthTest: false,\n            },\n          });\n        }\n      );\n\n      if (!isSame(layers, layersRef.current)) {\n        changeLayers(layersRef.current);\n      }\n    }\n  }, [filteredDataChunks, layers]);\n\n  const onNewDataArrive = useCallback(\n    (chunk) => {\n      const chunkYear = chunk.year;\n\n      if (!loadDataChunks.current[0][chunkYear]) {\n        Object.assign(loadDataChunks.current[0], { [chunkYear]: [chunk.data] });\n      } else {\n        loadDataChunks.current[0][chunkYear].push(chunk.data);\n      }\n\n      const splitChunks = Object.keys(loadDataChunks.current[0]).map(\n        (item, i) => {\n          return { [item]: loadDataChunks.current[0][item] };\n        }\n      );\n\n      const loadedDataArr = splitChunks.map((x) => {\n        const keyName = Object.keys(x)[0];\n\n        let flattenedArray = [];\n\n        for (let i = 0; i < x[keyName].length; i++) {\n          let currentValue = x[keyName][i];\n          for (let j = 0; j < currentValue.length; j++) {\n            flattenedArray.push(currentValue[j]);\n          }\n        }\n        return flattenedArray;\n      });\n\n      filteredDataChunks.current = loadedDataArr;\n\n      changeLoadedData(loadedDataArr);\n\n      if (layers.length === 0 || layers.length !== loadedDataArr.length) {\n        renderLayers();\n      }\n    },\n    [loadDataChunks, renderLayers, layers.length]\n  );\n\n  useEffect(() => {\n    const currentRef = loadDataChunks.current;\n    const selectedYear = loadingYears[0]\n      ? loadingYears[0].toString().slice()\n      : null;\n\n    if (loadingYears[0]) {\n      const progressInterval = setInterval(() => {\n        if (currentRef[0][selectedYear.toString()]) {\n          const refProgress = (\n            currentRef[0][selectedYear.toString()]\n              .map((x) => x.length)\n              .reduce((a, b) => a + b, 0) /\n            yearlyTotals[selectedYear.toString()]\n          ).toFixed(1);\n\n          if (toastId.current) {\n            if (fetchProgress !== refProgress) {\n              changeFetchProgress(Number(refProgress));\n            }\n          }\n        }\n\n        return () => {\n          clearInterval(progressInterval);\n        };\n      }, 500);\n    }\n  }, [fetchProgress, loadingYears]);\n\n  useEffect(() => {\n    if (fetchProgress < 1 && toastId.current) {\n      toast.update(toastId.current, {\n        progress: fetchProgress,\n      });\n    } else if (fetchProgress === 1) {\n      toast.update(toastId.current, {\n        render: `Data for ${loadingYears[0].toString()} successfully loaded`,\n        type: toast.TYPE.SUCCESS,\n        autoClose: false,\n        progress: 1.0,\n        closeButton: true,\n      });\n\n      const dismissTimer = setTimeout(() => {\n        toast.dismiss();\n      }, 10000);\n\n      return () => {\n        clearTimeout(dismissTimer);\n      };\n    }\n  }, [fetchProgress, loadingYears]);\n\n  useEffect(() => {\n    if (loadingYears.length > 0) {\n      const selectedYear = loadingYears[0];\n\n      if (!toastId.current) {\n        toastId.current = toast.info(`Loading ${selectedYear} data`, {\n          position: \"top-center\",\n          autoClose: false,\n          hideProgressBar: false,\n          progress: 0,\n        });\n      }\n    }\n  }, [loadingYears, fetchProgress]);\n\n  const splitChunks = Object.keys(loadDataChunks.current[0]).map((item, i) => {\n    return { [item]: loadDataChunks.current[0][item] };\n  });\n\n  const loadedDataArr = splitChunks.map((x, i) => {\n    const keyName = Object.keys(loadDataChunks.current[0])[i];\n\n    let flattenedArray = [];\n\n    if (x[keyName]) {\n      for (let i = 0; i < x[keyName].length; i++) {\n        let currentValue = x[keyName][i];\n        for (let j = 0; j < currentValue.length; j++) {\n          flattenedArray.push(currentValue[j]);\n        }\n      }\n    }\n    return flattenedArray;\n  });\n\n  const dataFetch = useCallback(\n    (year) => {\n      if (!loadedYears.includes(2020)) {\n        ws.onopen = (event) => {\n          ws.send(year);\n\n          // Send one bite to websocket every 55 seconds to keep socket from closing itself on idle\n          setInterval(() => {\n            ws.send(\".\");\n          }, 55000);\n\n          ws.onmessage = (compressed_data) => {\n            const data = LZString.decompressFromEncodedURIComponent(\n              compressed_data.data\n            );\n            console.log(JSON.parse(data));\n            onNewDataArrive({ year: year, data: JSON.parse(data) });\n            if (!loadedYears.includes(year)) {\n              changeLoadedYears([...loadedYears, year]);\n            }\n\n            if (fetchProgress === 1) {\n              if (loadedYears.includes(year)) {\n                changeLoadedYears([...loadedYears, year]);\n              }\n              if (loadingYears.length > 0) {\n                changeLoadingYears([]);\n              }\n              if (laddaLoading) {\n                changeLaddaLoading(false);\n              }\n            }\n          };\n        };\n      } else {\n        ws.send(year);\n\n        ws.onmessage = (compressed_data) => {\n          const data = LZString.decompressFromEncodedURIComponent(\n            compressed_data.data\n          );\n\n          onNewDataArrive({ year: year, data: JSON.parse(data) });\n\n          if (!loadedYears.includes(year)) {\n            changeLoadedYears([...loadedYears, year]);\n          }\n\n          if (fetchProgress === 1) {\n            changeFetchProgress(0);\n            if (!loadedYears.includes(year)) {\n              changeLoadedYears([...loadedYears, year]);\n            }\n            if (loadingYears.length > 0) {\n              changeLoadingYears([]);\n            }\n            if (laddaLoading) {\n              changeLaddaLoading(false);\n            }\n          }\n        };\n      }\n    },\n    [\n      loadedYears,\n      onNewDataArrive,\n      laddaLoading,\n      loadingYears.length,\n      fetchProgress,\n    ]\n  );\n\n  const handleDownloadYear = (year) => {\n    changeLoadingYears([year]);\n  };\n\n  const setFilters = (year, category, offense, age, race, sex, borough) => {\n    const newYears = year.filter((item) => !loadedYears.includes(item));\n\n    changeCurrentFilters({\n      year: year,\n      category: category,\n      offense: offense,\n      age: age,\n      race: race,\n      sex: sex,\n      borough: borough,\n    });\n\n    filteredDataChunks.current = loadedDataArr.map((chunk) => {\n      return chunk.filter((x) => {\n        if (\n          (year.includes(\n            Number(dayjs(x.ARREST_DATE, \"MM/DD/YYYY\").format(\"YYYY\"))\n          ) ||\n            year.length === 0) &&\n          (category.includes(x.LAW_CAT_CD) || category.length === 0) &&\n          (offense.includes(x.OFNS_DESC) || offense.length === 0) &&\n          (age.includes(x.AGE_GROUP) || age.length === 0) &&\n          (race.includes(x.PERP_RACE) || race.length === 0) &&\n          (sex.includes(x.PERP_SEX) || sex.length === 0) &&\n          (race.includes(x.PERP_RACE) || race.length === 0) &&\n          (borough.includes(\n            x.ARREST_BORO === \"K\" && Number(x.Latitude) > 40.77\n              ? \"B\"\n              : x.ARREST_BORO === \"M\" &&\n                Number(x.Longitude) > -73.920961 &&\n                Number(x.Latitude) < 40.800709\n              ? \"Q\"\n              : x.ARREST_BORO === \"B\" && Number(x.Latitude) < 40.697465\n              ? \"K\"\n              : (x.ARREST_BORO === \"B\" &&\n                  Number(x.Latitude) > 40.796669 &&\n                  Number(x.Longitude) < -73.932786) ||\n                (x.ARREST_BORO === \"B\" &&\n                  Number(x.Latitude) < 40.796669 &&\n                  Number(x.Longitude) < -73.98)\n              ? \"M\"\n              : x.ARREST_BORO === \"Q\" && Number(x.Longitude) < -73.962745\n              ? \"M\"\n              : x.ARREST_BORO === \"Q\" &&\n                Number(x.Longitude) < -73.878559 &&\n                Number(x.Latitude) > 40.787907\n              ? \"B\"\n              : x.ARREST_BORO\n          ) ||\n            borough.length === 0)\n        ) {\n          return true;\n        } else {\n          return false;\n        }\n      });\n    });\n\n    if (!newYears.length > 0) {\n      setTimeout(() => changeLaddaLoading(false), 2000);\n    }\n\n    renderLayers();\n  };\n\n  useEffect(() => {\n    if (!loadedYears.includes(2020)) {\n      dataFetch(2020);\n    } else if (\n      loadingYears.length > 0 &&\n      !loadDataChunks.current[0][loadingYears[0]]\n    ) {\n      dataFetch(loadingYears[0]);\n    }\n  }, [onNewDataArrive, loadedData, loadedYears, dataFetch, loadingYears]);\n\n  const showTooltip = (object, x, y) => {\n    const el = document.getElementsByClassName(\"deck-tooltip\")[0];\n\n    if (object) {\n      if (!tooltipVisible) {\n        changeTooltipVisible(true);\n      }\n\n      const {\n        ARREST_DATE,\n        LAW_CAT_CD,\n        OFNS_DESC,\n        PD_DESC,\n        AGE_GROUP,\n        PERP_SEX,\n        PERP_RACE,\n      } = object;\n      el.innerHTML = `\n      <p><strong>Date of Arrest:</strong> ${ARREST_DATE}</p>\n      <p><strong>Category:</strong> ${\n        LAW_CAT_CD === \"F\"\n          ? \"Felony\"\n          : LAW_CAT_CD === \"M\"\n          ? \"Misdemeanor\"\n          : \"Violation\"\n      }</p>\n      <p><strong>Offense:</strong> ${OFNS_DESC}</p>\n      <p><strong>Offense Description:</strong> ${PD_DESC}</p>\n      <p><strong>Perpetrator's Age Group:</strong> ${AGE_GROUP}</p>\n      <p><strong>Perpetrator's Sex:</strong> ${\n        PERP_SEX === \"M\" ? \"Male\" : \"Female\"\n      }</p>\n      <p><strong>Perpetrator's Race:</strong> ${PERP_RACE.toLowerCase()\n        .split(\" \")\n        .map((x) => x[0].toUpperCase() + x.slice(1))\n        .join(\" \")}</p>\n  `;\n      el.style.display = \"inline-block\";\n      el.style.background = \"#000\";\n      el.style.color = \"rgb(235, 235, 235)\";\n      el.style.fontSize = \"1rem\";\n      el.style.overflowWrap = \"break-word\";\n      el.style.lineHeight = \"1rem\";\n      el.style.maxWidth = \"10rem\";\n      el.style.opacity = 0.9;\n      el.style.left = x + \"px\";\n      el.style.top = y + \"px\";\n    } else {\n      if (tooltipVisible) {\n        changeTooltipVisible(false);\n      }\n      el.style.opacity = 0;\n    }\n  };\n\n  useEffect(() => {\n    if (typeof loadedData === \"object\" && loadedData.flat().length > 70000) {\n      const mapVisibleDelay = setTimeout(() => changeMapVisible(true), 3000);\n\n      return () => {\n        clearTimeout(mapVisibleDelay);\n      };\n    }\n  }, [loadedData]);\n\n  return (\n    <>\n      <div\n        className=\"loading_container\"\n        style={{\n          display:\n            loadedData === \"\" ||\n            (typeof loadedData === \"object\" && loadedData.flat().length < 70000)\n              ? \"flex\"\n              : \"none\",\n        }}\n      >\n        <GridLoader\n          css={override}\n          size={50}\n          color={loaderColor}\n          style={{ transition: \"all 0.5s ease\" }}\n          loading={\n            loadedData === \"\" ||\n            (typeof loadedData === \"object\" && loadedData.flat().length < 70000)\n          }\n        />\n        <p>\n          {mapError\n            ? \"Error Initializing NYPD Arrest Map\"\n            : \"Initializing NYPD Arrest Map\"}\n        </p>\n      </div>\n      <div\n        className=\"nypd_arrest_map_container\"\n        style={{\n          opacity:\n            loadedData === \"\" ||\n            (typeof loadedData === \"object\" && loadedData.flat().length < 70000)\n              ? 0\n              : 1,\n        }}\n      >\n        <ToastContainer\n          position=\"bottom-center\"\n          autoClose={false}\n          hideProgressBar={false}\n          newestOnTop={false}\n          closeOnClick={false}\n          rtl={false}\n          pauseOnFocusLoss={false}\n          draggable={false}\n          pauseOnHover={false}\n        />\n        <NavigationBar\n          loadData={loadedData ? loadedData.flat() : [\"\"]}\n          raceUniqueValues={raceUniqueValues}\n          boroughUniqueValues={boroughUniqueValues}\n          offenseDescriptionUniqueValues={offenseDescriptionUniqueValues}\n          ageGroupData={ageGroupData}\n          setFilters={setFilters}\n          initialScreenWidth={initialScreenWidth}\n          currentScreenWidth={currentScreenWidth}\n          loadedYears={loadedYears}\n          pointClicked={tooltipVisible}\n          changeLaddaLoading={changeLaddaLoading}\n          laddaLoading={laddaLoading}\n          filteredData={filteredDataChunks.current}\n          handleDownloadYear={handleDownloadYear}\n          yearFilter={yearFilter}\n          changeYearFilter={changeYearFilter}\n          categoryFilter={categoryFilter}\n          changeCategoryFilter={changeCategoryFilter}\n          offenseFilter={offenseFilter}\n          changeOffenseFilter={changeOffenseFilter}\n          ageFilter={ageFilter}\n          changeAgeFilter={changeAgeFilter}\n          raceFilter={raceFilter}\n          changeRaceFilter={changeRaceFilter}\n          sexFilter={sexFilter}\n          changeSexFilter={changeSexFilter}\n          boroughFilter={boroughFilter}\n          changeBoroughFilter={changeBoroughFilter}\n        />\n        <DeckGL\n          initialViewState={{\n            longitude: -73.935242,\n            latitude: 40.73061,\n            zoom: window.innerWidth < 1200 ? 9 : 11,\n            minZoom: 9,\n            pitch: 0,\n            bearing: 0,\n          }}\n          controller={true}\n          layers={layersRef.current}\n          onHover={({ object, x, y }) => showTooltip(object, x, y)}\n          onClick={({ object, x, y }) => showTooltip(object, x, y)}\n          pickingRadius={10}\n          onLoad={() => changeMapLoaded(true)}\n          onError={(e) => changeMapError(true)}\n        >\n          <StaticMap\n            mapStyle=\"mapbox://styles/mapbox/dark-v9\"\n            mapboxApiAccessToken={token}\n          />\n        </DeckGL>\n        {mapLoaded ? (\n          <BottomInfoPanel\n            mapVisible={mapVisible}\n            loadData={loadData}\n            loadDataChunks={loadDataChunks.current}\n            tooltipVisible={tooltipVisible}\n            filteredArrestCategory={filteredArrestCategory}\n            filteredAgeGroupData={filteredAgeGroupData}\n            filteredRaceUniqueValues={filteredRaceUniqueValues}\n            filteredSexUniqueValues={filteredSexUniqueValues}\n            filteredBoroughUniqueValues={filteredBoroughUniqueValues}\n            filteredOffenseDescriptionUniqueValues={\n              filteredOffenseDescriptionUniqueValues\n            }\n            filteredUniqueCategory={filteredUniqueCategory}\n            filteredAgeGroup={filteredAgeGroup}\n            filteredRaceArr={filteredRaceArr}\n            filteredSexArr={filteredSexArr}\n            filteredBoroughArr={filteredBoroughArr}\n            filteredOffenseDescriptionArr={filteredOffenseDescriptionArr}\n            loadedYears={loadedYears}\n            currentFilters={currentFilters}\n            filteredUniqueDates={filteredUniqueDates}\n            filteredTimelineAgeGroupData={filteredTimelineAgeGroupData}\n            filteredTimelineBoroughData={filteredTimelineBoroughData}\n            filteredTimelineCategoryData={filteredTimelineCategoryData}\n            filteredTimelineSexData={filteredTimelineSexData}\n            filteredTimelineRaceData={filteredTimelineRaceData}\n            uniqueValues={uniqueValues}\n          />\n        ) : null}\n      </div>\n    </>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nrequire(\"dotenv\").config();\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}