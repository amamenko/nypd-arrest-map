{"version":3,"sources":["YearlyTotals.js","NavigationBar/InfoPopUp/InfoPopUp.js","actions/filters/category/ACTION_CHANGE_CATEGORY_FILTER.js","actions/filters/offense/ACTION_CHANGE_OFFENSE_FILTER.js","actions/filters/age/ACTION_CHANGE_AGE_FILTER.js","actions/filters/race/ACTION_CHANGE_RACE_FILTER.js","actions/filters/sex/ACTION_CHANGE_SEX_FILTER.js","actions/filters/borough/ACTION_CHANGE_BOROUGH_FILTER.js","actions/applyingFilters/ACTION_APPLYING_FILTERS.js","actions/resetFilters/ACTION_RESET_FILTERS.js","NavigationBar/NavigationBar.js","BottomInfoPanel/CarouselItems/Category/Category.js","BottomInfoPanel/CarouselItems/AgeGroup/AgeGroup.js","BottomInfoPanel/CarouselItems/Race/Race.js","BottomInfoPanel/CarouselItems/Gender/Gender.js","BottomInfoPanel/CarouselItems/Borough/Borough.js","BottomInfoPanel/CarouselItems/TopOffenses/TopOffenses.js","BottomInfoPanel/CarouselItems/AgeGroup/AgeGroupTimeline.js","BottomInfoPanel/CarouselItems/Borough/BoroughTimeline.js","BottomInfoPanel/CarouselItems/Category/CategoryTimeline.js","BottomInfoPanel/CarouselItems/Gender/GenderTimeline.js","BottomInfoPanel/CarouselItems/Race/RaceTimeline.js","BottomInfoPanel/BottomInfoPanel.js","InitialLoader.js","SubsequentLoader.js","actions/filteredDataChunks/ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR.js","actions/filteredDataChunks/ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR.js","actions/filteredDataChunks/ACTION_ASSIGN_FILTERED_DATA_CHUNKS.js","actions/totalCount/ACTION_INCREMENT_TOTAL_COUNT.js","actions/loadData/ACTION_ASSIGN_LOAD_DATA.js","actions/filteredData/ACTION_FILTERED_DATA_CHANGED.js","actions/filteredData/ACTION_FILTERED_DATA_CHANGED_RESET.js","actions/timelineGraphData/ageGroup/ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA.js","actions/timelineGraphData/borough/ACTION_TIMELINE_BOROUGH_GRAPH_DATA.js","actions/timelineGraphData/category/ACTION_TIMELINE_CATEGORY_GRAPH_DATA.js","actions/timelineGraphData/gender/ACTION_TIMELINE_GENDER_GRAPH_DATA.js","actions/timelineGraphData/race/ACTION_TIMELINE_RACE_GRAPH_DATA.js","setFilterAndTimelineGraphWorkers.js","actions/timelineColumns/age/ACTION_AGE_TIMELINE_COLUMNS.js","actions/timelineColumns/borough/ACTION_BOROUGH_TIMELINE_COLUMNS.js","actions/timelineColumns/category/ACTION_CATEGORY_TIMELINE_COLUMNS.js","actions/timelineColumns/sex/ACTION_SEX_TIMELINE_COLUMNS.js","actions/timelineColumns/race/ACTION_RACE_TIMELINE_COLUMNS.js","actions/applyingFilters/ACTION_APPLYING_FILTERS_RESET.js","ApplyingFiltersPopUp/ApplyingFiltersPopUp.js","actions/newYearFinishedLoading/ACTION_NEW_YEAR_FINISHED_LOADING_RESET.js","actions/newYearFinishedLoading/ACTION_NEW_YEAR_FINISHED_LOADING.js","actions/trendsAvailable/ACTION_TRENDS_AVAILABLE.js","actions/trendsAvailable/ACTION_TRENDS_NOT_AVAILABLE.js","actions/resetFilters/ACTION_RESET_FILTERS_RESET.js","App.js","index.js","store.worker.js"],"names":["yearlyTotals","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","2020","lastUpdatedDate","InfoPopUp","props","footerMenuActive","isMobileOrTablet","trigger","className","style","pointerEvents","color","opacity","transition","modal","close","onClick","href","target","rel","ACTION_CHANGE_CATEGORY_FILTER","category","type","ACTION_CHANGE_OFFENSE_FILTER","offense","ACTION_CHANGE_AGE_FILTER","age","ACTION_CHANGE_RACE_FILTER","race","ACTION_CHANGE_SEX_FILTER","sex","ACTION_CHANGE_BOROUGH_FILTER","borough","ACTION_APPLYING_FILTERS","ACTION_RESET_FILTERS","NavigationBar","loadData","raceUniqueValues","boroughUniqueValues","ageGroupData","offenseDescriptionUniqueValues","setFilters","changeLaddaLoading","laddaLoading","resetLaddaLoading","changeResetLaddaLoading","menuClicked","changeMenuClicked","collapseOpen","changeCollapseOpen","layersRef","isTablet","currentFilters","isSame","dispatch","useDispatch","applyingFilters","useSelector","state","applyingFiltersReducer","filters","filteredDataChunks","filteredDataChunksReducer","data","totalCount","totalCountReducer","total","categoryFilter","categoryFilterReducer","ageFilter","ageFilterReducer","boroughFilter","boroughFilterReducer","sexFilter","sexFilterReducer","offenseFilter","offenseFilterReducer","raceFilter","raceFilterReducer","resetFilters","resetFiltersReducer","reset","ageTimelineColumns","ageTimelineColumnsReducer","columns","boroughTimelineColumns","boroughTimelineColumnsReducer","categoryTimelineColumns","categoryTimelineColumnsReducer","raceTimelineColumns","raceTimelineColumnsReducer","sexTimelineColumns","sexTimelineColumnsReducer","logoContainerRef","useRef","burgerMenu","document","getElementsByClassName","mapboxAttribRef","footerMenuTrigger","overviewTip","mapDetailsTip","mapLegend","resetFiltersButton","applyFiltersButton","useState","tooltipVisible","changeTooltipVisible","handleCategoryFilters","includes","filter","item","copyArr","slice","push","sort","handleSexFilters","useEffect","setProperty","length","tooltipHideDelay","setTimeout","clearTimeout","filterMenu","scrollContainers","scrollTop","i","content","placement","minWidth","current","clientWidth","maxWidth","flat","toLocaleString","visible","allowHTML","reference","ref","textAlign","duration","arrow","onClickOutside","right","customBurgerIcon","onOpen","onClose","isOpen","fill","onTriggerOpening","onTriggerClosing","open","name","checked","onChange","map","desc","descUnique","handleOffenseFilters","split","x","toUpperCase","toLowerCase","join","indexOf","a","b","localeCompare","uniqueAge","handleAgeFilters","uniqueRace","handleRaceFilters","uniqueBorough","handleBoroughFilters","loading","data-color","data-size","XL","data-style","EXPAND_LEFT","data-spinner-size","data-spinner-color","data-spinner-lines","Category","filteredArrestCategory","graphOption","graphsDrawn","changeGraphsDrawn","chartEvents","eventName","callback","onDragStart","e","preventDefault","display","chartType","options","backgroundColor","AgeGroup","filteredAgeGroupData","filteredAgeGroup","concat","Race","filteredRaceUniqueValues","filteredRaceArr","size","loader","Gender","filteredSexUniqueValues","filteredSexArr","Borough","filteredBoroughUniqueValues","filteredBoroughArr","TopOffenses","filteredOffenseDescriptionArr","filteredOffenseDescriptionUniqueValues","usePrevious","isMediumLaptop","sortedArr","changeSortedArr","prevFilteredOffenseDescriptionArr","prevFilteredOffenseDescriptionUniqueValues","offenseData","legend","position","width","bar","groupWidth","chartArea","height","AgeGroupTimeline","isTinyPhone","legendToggle","hAxis","title","vAxis","explorer","axis","keepInBounds","maxZoomIn","BoroughTimeline","CategoryTimeline","GenderTimeline","RaceTimeline","BottomInfoPanel","filteredUniqueCategory","useOnClickOutside","changeGraphOption","changeFooterMenuActive","filteredTimelineAgeGroupData","filteredTimelineBoroughData","filteredTimelineCategoryData","filteredTimelineSexData","filteredTimelineRaceData","trendsAvailable","trendsAvailableReducer","available","firstTimeFooterActive","changeFirstTimeFooterActive","arrowTooltipVisible","changeArrowTooltipVisible","timelineTooltipVisible","changeTimelineTooltipVisible","firstTimeTrendsActive","changeFirstTimeTrendsActive","footerLoaderActive","changeFooterLoaderActive","CarouselRef","CarouselTimelineRef","bottomInfoPanelRef","rightArrow","aliceCarouselContainer","categoryTimelineContainer","googleTooltipContainer","deckGLWrapper","getElementById","override","css","checkForTooltip","setInterval","tooltip","circles","getElementsByTagName","activePanelContainer","activePaths","activeText","valuesLength","getAttribute","textContent","lastChild","firstChild","j","clearInterval","trendsRadioButton","findCarouselInterval","handleFooterMenuActive","zIndex","transform","WebkitFilter","value","horizontal","rootColor","pointColor","disabled","disabledColor","onTouchStart","paddingLeft","slidePrev","el","autoPlay","fadeOutAnimation","disableDotsControls","disableButtonsControls","mouseTracking","playButtonEnabled","responsive","0","items","760","1224","1800","infinite","circle","offset","touchMoveDefaultEvents","2000","slideNext","InitialLoader","countUp","loaderColor","mapError","applyingFiltersProgressRef","styles","buildStyles","strokeLinecap","trailColor","fontSize","marginTop","SubsequentLoader","modalActive","changeModalActive","loadDataChunks","loadDataChunksReducer","newProgress","changeNewProgress","year","toString","progress","Number","reduce","toFixed","active","backdropFilter","WebkitBackdropFilter","paddingBottom","borderRadius","top","left","bottom","border","flexDirection","alignItems","justifyContent","background","ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR","dataIndex","ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR","ACTION_ASSIGN_FILTERED_DATA_CHUNKS","ACTION_INCREMENT_TOTAL_COUNT","dataLength","ACTION_ASSIGN_LOAD_DATA","ACTION_FILTERED_DATA_CHANGED","ACTION_FILTERED_DATA_CHANGED_RESET","ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA","ACTION_TIMELINE_BOROUGH_GRAPH_DATA","ACTION_TIMELINE_CATEGORY_GRAPH_DATA","ACTION_TIMELINE_GENDER_GRAPH_DATA","ACTION_TIMELINE_RACE_GRAPH_DATA","Worker_fn","Worker","ACTION_AGE_TIMELINE_COLUMNS","ACTION_BOROUGH_TIMELINE_COLUMNS","ACTION_CATEGORY_TIMELINE_COLUMNS","ACTION_SEX_TIMELINE_COLUMNS","ACTION_RACE_TIMELINE_COLUMNS","ACTION_APPLYING_FILTERS_RESET","ApplyingFiltersPopUp","applyingFiltersRef","closeOnDocumentClick","closeOnEscape","ACTION_NEW_YEAR_FINISHED_LOADING_RESET","ACTION_NEW_YEAR_FINISHED_LOADING","ACTION_TRENDS_AVAILABLE","ACTION_TRENDS_NOT_AVAILABLE","ACTION_RESET_FILTERS_RESET","dayjs","extend","customParseFormat","App","loadDataReducer","filteredDataChanged","filteredDataReducer","changed","newYearFinishedLoading","newYearFinishedLoadingReducer","finished","ageGroupTimelineGraphData","ageGroupTimelineGraphDataReducer","boroughTimelineGraphData","boroughTimelineGraphDataReducer","categoryTimelineGraphData","categoryTimelineGraphDataReducer","genderTimelineGraphData","genderTimelineGraphDataReducer","raceTimelineGraphData","raceTimelineGraphDataReducer","mapLoaded","changeMapLoaded","changeLoaderColor","changeMapError","mapPostsCompleted","changeMapPostsCompleted","readyForTimelineColumnPosts","changeReadyForTimelineColumnPosts","changeCurrentFilters","useMediaQuery","isPortrait","orientation","loadingYears","changeLoadingYears","workerInstance","changeWorkerInstance","mapFilterWorkerInstance","changeMapFilterWorkerInstance","filterWorkerInstance","changeFilterWorkerInstance","timelineWorkerInstance","changeTimelineWorkerInstance","setFilterAndTimelineGraphWorkersInstance","changeSetFilterAndTimelineGraphWorkersInstance","mapVisible","changeMapVisible","deckGLRef","lastUpdatedYear","format","Modal","setAppElement","prevFilters","useCountUp","start","end","delay","update","arr1","arr2","every","ageGroup","changeAgeGroup","raceArr","changeRaceArr","boroughArr","changeBoroughArr","offenseDescriptionArr","changeOffenseDescriptionArr","changeFilteredArrestCategory","changeFilteredAgeGroup","changeFilteredSexArr","changeFilteredRaceArr","changeFilteredBoroughArr","changeFilteredOffenseDescriptionArr","changeFilteredUniqueCategory","changeFilteredTimelineAgeGroupData","changeFilteredTimelineBoroughData","changeFilteredTimelineCategoryData","changeFilteredTimelineSexData","changeFilteredTimelineRaceData","postToTimelineGraphWorker","useCallback","ageObj","raceObj","categoryObj","sexObj","boroughObj","postMessage","onmessage","receivedData","postToFilteredWorker","parsedData","JSON","parse","changeFilteredAgeGroupData","changeFilteredRaceUniqueValues","changeFilteredSexUniqueValues","changeFilteredBoroughUniqueValues","changeFilteredOffenseDescriptionUniqueValues","changeAgeGroupData","changeRaceUniqueValues","changeBoroughUniqueValues","changeOffenseDescriptionUniqueValues","postToMapFilterWorker","postToTimelineWorker","chunk","age_group","unique","renderLayers","yearsFiltered","chunkIndex","yearOfChunk","ScatterplotLayer","id","filled","radiusMinPixels","getPosition","d","Longitude","Latitude","getFillColor","LAW_CAT_CD","pickable","useDevicePixels","expectedTotal","prevAgeGroupTimelineGraphData","prevBoroughTimelineGraphData","prevCategoryTimelineGraphData","prevGenderTimelineGraphData","prevRaceTimelineGraphData","label","categoryArr","Set","genderArr","colorChangeInterval","showTooltip","object","y","addEventListener","ARREST_DATE","OFNS_DESC","PD_DESC","AGE_GROUP","PERP_SEX","PERP_RACE","innerHTML","overflowWrap","lineHeight","onNewDataArrive","firstMessage","lastMessage","dataFetch","chunkArr","Object","values","blobURL","URL","createObjectURL","Blob","mapFilterWorker","timelineWorker","worker","setFilterAndTimelineGraphWorkers","filterWorker","ws","WebSocket","readyState","send","onopen","stringify","socketWorker","suppliedData","assignFilteredData","initialViewState","longitude","latitude","zoom","window","innerWidth","minZoom","pitch","bearing","layers","pickingRadius","controller","onLoad","onError","onHover","mapStyle","preventStyleDiffing","mapboxApiAccessToken","process","handler","listener","contains","removeEventListener","require","config","store","wrapStore","ReactDOM","render"],"mappings":"2dAmBeA,EAnBM,CACnBC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,KAAM,OACNC,gBAAiB,oB,4FCqFJC,G,cA7FG,SAACC,GAAW,IACpBC,EAAuCD,EAAvCC,iBAAkBC,EAAqBF,EAArBE,iBAE1B,OACE,cAAC,IAAD,CACEC,QACE,qBACEC,UAAU,wBACVC,MAAO,CACLC,cAAeJ,GACXD,EACE,OAEF,OAPR,SAUE,cAAC,IAAD,CACEM,MAAM,qBACNF,MAAO,CACLG,QAASP,EAAmB,GAAM,EAClCQ,WAAY,mBAEdL,UAAU,kBAIhBM,OAAK,EAtBP,SAwBG,SAACC,GAAD,OACC,sBAAKP,UAAU,QAAf,UACE,wBAAQA,UAAU,QAAQQ,QAASD,EAAnC,kBAGA,qBAAKP,UAAU,SAAf,mCACA,sBAAKA,UAAU,UAAf,wFAEe,IACb,mBACES,KAAK,uFACLC,OAAO,SACPC,IAAI,sBAHN,6CAMK,IATP,6PAcE,uBACA,uBAfF,0OAoBE,uBACA,uBArBF,qVA4BE,uBACA,uBACA,gGAGA,sBAAKX,UAAU,yBAAf,UACE,mBACES,KAAK,8CACLC,OAAO,SACPC,IAAI,sBAHN,SAKE,cAAC,IAAD,CAAUR,MAAM,WAElB,mBACEM,KAAK,yDACLC,OAAO,SACPC,IAAI,sBAHN,SAKE,cAAC,IAAD,CAAYR,MAAM,WAEpB,mBAAGM,KAAK,6EAAR,SACE,cAAC,IAAD,CAAQN,MAAM,yB,QClFfS,EAPuB,SAACC,GACrC,MAAO,CACLC,KAJ2B,yBAK3BD,aCIWE,EAPsB,SAACC,GACpC,MAAO,CACLF,KAJ0B,wBAK1BE,YCIWC,EAPkB,SAACC,GAChC,MAAO,CACLJ,KAJsB,oBAKtBI,QCIWC,EAPmB,SAACC,GACjC,MAAO,CACLN,KAJuB,qBAKvBM,SCIWC,EAPkB,SAACC,GAChC,MAAO,CACLR,KAJsB,oBAKtBQ,QCIWC,EAPsB,SAACC,GACpC,MAAO,CACLV,KAJ0B,wBAK1BU,YCGWC,EANiB,WAC9B,MAAO,CACLX,KAJqB,qBCQVY,EANc,WAC3B,MAAO,CACLZ,KAJkB,kBCwgCPa,EAl/BO,SAAC/B,GAAW,IAE9BgC,EAoBEhC,EApBFgC,SACAC,EAmBEjC,EAnBFiC,iBACAC,EAkBElC,EAlBFkC,oBACAC,EAiBEnC,EAjBFmC,aACAC,EAgBEpC,EAhBFoC,+BACAC,EAeErC,EAfFqC,WACAC,EAcEtC,EAdFsC,mBACAC,EAaEvC,EAbFuC,aACAC,EAYExC,EAZFwC,kBACAC,EAWEzC,EAXFyC,wBACAC,EAUE1C,EAVF0C,YACAC,EASE3C,EATF2C,kBACAC,EAQE5C,EARF4C,aACAC,EAOE7C,EAPF6C,mBACAC,EAME9C,EANF8C,UACA5C,EAKEF,EALFE,iBACAD,EAIED,EAJFC,iBACA8C,EAGE/C,EAHF+C,SACAC,EAEEhD,EAFFgD,eACAC,EACEjD,EADFiD,OAGIC,EAAWC,cAEXC,EAAkBC,aACtB,SAACC,GAAD,OAAWA,EAAMC,uBAAuBC,WAEpCC,EAAqBJ,aACzB,SAACC,GAAD,OAAWA,EAAMI,0BAA0BC,QAEvCC,EAAaP,aAAY,SAACC,GAAD,OAAWA,EAAMO,kBAAkBC,SAG5DC,EAAiBV,aACrB,SAACC,GAAD,OAAWA,EAAMU,sBAAsB/C,YAEnCgD,EAAYZ,aAAY,SAACC,GAAD,OAAWA,EAAMY,iBAAiB5C,OAC1D6C,EAAgBd,aACpB,SAACC,GAAD,OAAWA,EAAMc,qBAAqBxC,WAElCyC,EAAYhB,aAAY,SAACC,GAAD,OAAWA,EAAMgB,iBAAiB5C,OAC1D6C,EAAgBlB,aACpB,SAACC,GAAD,OAAWA,EAAMkB,qBAAqBpD,WAElCqD,EAAapB,aAAY,SAACC,GAAD,OAAWA,EAAMoB,kBAAkBlD,QAC5DmD,EAAetB,aAAY,SAACC,GAAD,OAAWA,EAAMsB,oBAAoBC,SAGhEC,EAAqBzB,aACzB,SAACC,GAAD,OAAWA,EAAMyB,0BAA0BC,WAEvCC,GAAyB5B,aAC7B,SAACC,GAAD,OAAWA,EAAM4B,8BAA8BF,WAE3CG,GAA0B9B,aAC9B,SAACC,GAAD,OAAWA,EAAM8B,+BAA+BJ,WAE5CK,GAAsBhC,aAC1B,SAACC,GAAD,OAAWA,EAAMgC,2BAA2BN,WAExCO,GAAqBlC,aACzB,SAACC,GAAD,OAAWA,EAAMkC,0BAA0BR,WAGvCS,GAAmBC,iBAAO,MAE1BC,GAAaC,SAASC,uBAAuB,oBAC7CC,GAAkBF,SAASC,uBAC/B,6BAEIE,GAAoBH,SAASC,uBACjC,uBAEIG,GAAcJ,SAASC,uBAAuB,oBAC9CI,GAAgBL,SAASC,uBAC7B,iCAEIK,GAAYN,SAASC,uBACzB,mCAEIM,GAAqBP,SAASC,uBAClC,wBAEIO,GAAqBR,SAASC,uBAClC,wBAtF6B,GAyFgBQ,oBAAS,GAzFzB,qBAyFxBC,GAzFwB,MAyFRC,GAzFQ,MA4JzBC,GAAwB,SAACvF,GAC7B,GAAI8C,EAAe0C,SAASxF,GAC1BiC,EACElC,EACE+C,EAAe2C,QAAO,SAACC,GAAD,OAAUA,IAAS1F,WAGxC,CACL,IAAM2F,EAAU7C,EAAe8C,QAC/BD,EAAQE,KAAK7F,GAGTgC,EAAO2D,EAAQG,OAAQ,CAAC,IAAK,IAAK,KAAKA,QACzC7D,EAASlC,EAA8B,KAEvCkC,EAASlC,EAA8B4F,MA6EvCI,GAAmB,SAACtF,GACxB,GAAI2C,EAAUoC,SAAS/E,GACrBwB,EACEzB,EAAyB4C,EAAUqC,QAAO,SAACC,GAAD,OAAUA,IAASjF,WAE1D,CACL,IAAMkF,EAAUvC,EAAUwC,QAC1BD,EAAQE,KAAKpF,GAGTuB,EAAO2D,EAAQG,OAAQ,CAAC,IAAK,KAAKA,QACpC7D,EAASzB,EAAyB,KAElCyB,EAASzB,EAAyBmF,MA2BxCK,qBAAU,WACJhH,GACF0F,GAAW,GAAGtF,MAAMG,QAAU,GAC9BmF,GAAW,GAAGtF,MAAMC,cAAgB,OACpCqF,GAAW,GAAGtF,MAAMI,WAAa,oBAE7BuF,GAAY,IAAMC,GAAc,KAClCD,GAAY,GAAG3F,MAAM6G,YAAY,UAAW,GAAK,aACjDlB,GAAY,GAAG3F,MAAM6G,YAAY,gBAAiB,QAClDlB,GAAY,GAAG3F,MAAM6G,YAAY,aAAc,qBAE/CjB,GAAc,GAAG5F,MAAM6G,YAAY,UAAW,GAAK,aACnDjB,GAAc,GAAG5F,MAAM6G,YAAY,gBAAiB,QACpDjB,GAAc,GAAG5F,MAAM6G,YAAY,aAAc,sBAG/ChB,GAAU,KACZA,GAAU,GAAG7F,MAAM6G,YAAY,UAAW,GAAK,aAC/ChB,GAAU,GAAG7F,MAAM6G,YAAY,gBAAiB,QAChDhB,GAAU,GAAG7F,MAAM6G,YAAY,aAAc,wBAG/CvB,GAAW,GAAGtF,MAAMG,QAAU,EAC9BmF,GAAW,GAAGtF,MAAMC,cAAgB,MACpCqF,GAAW,GAAGtF,MAAMI,WAAa,oBAE7BuF,GAAY,IAAMC,GAAc,KAClCD,GAAY,GAAG3F,MAAM6G,YAAY,UAAW,EAAG,aAC/ClB,GAAY,GAAG3F,MAAM6G,YAAY,gBAAiB,OAClDlB,GAAY,GAAG3F,MAAM6G,YAAY,aAAc,qBAE/CjB,GAAc,GAAG5F,MAAM6G,YAAY,UAAW,EAAG,aACjDjB,GAAc,GAAG5F,MAAM6G,YAAY,gBAAiB,OACpDjB,GAAc,GAAG5F,MAAM6G,YAAY,aAAc,sBAG/ChB,GAAU,KACZA,GAAU,GAAG7F,MAAM6G,YAAY,UAAW,EAAG,aAC7ChB,GAAU,GAAG7F,MAAM6G,YAAY,gBAAiB,OAChDhB,GAAU,GAAG7F,MAAM6G,YAAY,aAAc,yBAGhD,CACDjH,EACA0F,GACAzF,EACA+F,GACAD,GACAE,KAGFe,qBAAU,WACR,GAAI/G,GAEC4E,GAAqBA,EAAmBqC,OAAS,GACjDlC,IAAyBA,GAAuBkC,OAAS,GACzDhC,IACGA,GAAwBgC,OAAS,GAEpC9B,IAAsBA,GAAoB8B,OAAS,GACnD5B,IAAqBA,GAAmB4B,OAAS,EAClD,CACA,IAAMC,EAAmBC,YAAW,WAC9Bf,IACFC,IAAqB,KAEtB,KAEH,OAAO,WACLe,aAAaF,OAIlB,CACDlH,EACAoG,GACAxB,EACAG,GACAE,GACAE,GACAE,KAGF0B,qBAAU,WACHX,KACCN,GAAY,IAAMC,GAAc,KAClCD,GAAY,GAAG3F,MAAM6G,YAAY,UAAW,EAAG,aAC/CjB,GAAc,GAAG5F,MAAM6G,YAAY,UAAW,EAAG,cAG/ChB,GAAU,IACZA,GAAU,GAAG7F,MAAM6G,YAAY,UAAW,EAAG,gBAGhD,CAACZ,GAAgBN,GAAaC,GAAeC,KAEhDe,qBAAU,WACH/G,IACCwC,GACEsD,GAAY,IAAMC,GAAc,KAClCD,GAAY,GAAG3F,MAAM6G,YAAY,UAAW,GAAK,aACjDjB,GAAc,GAAG5F,MAAM6G,YAAY,UAAW,GAAK,cAGjDhB,GAAU,IACZA,GAAU,GAAG7F,MAAM6G,YAAY,UAAW,GAAK,eAG7ClB,GAAY,IAAMC,GAAc,KAClCD,GAAY,GAAG3F,MAAM6G,YAAY,UAAW,EAAG,aAC/CjB,GAAc,GAAG5F,MAAM6G,YAAY,UAAW,EAAG,cAG/ChB,GAAU,IACZA,GAAU,GAAG7F,MAAM6G,YAAY,UAAW,EAAG,iBAIlD,CAAChH,EAAkBgG,GAAWxD,EAAauD,GAAeD,KAE7DiB,qBAAU,WACR,IAAKvE,EAAa,CAChB,IAAM6E,EAAa3B,SAASC,uBAAuB,WAC7C2B,EAAmB5B,SAASC,uBAChC,8BAGFwB,YAAW,WACLE,EAAW,KACbA,EAAW,GAAGE,UAAY,GAG5B,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAiBL,OAAQO,IAC3CF,EAAiBE,GAAGD,UAAY,IAEjC,KAEkB,KAAjB7E,GACFC,EAAmB,OAGtB,CAACH,EAAaE,EAAcC,IAE/BoE,qBAAU,WAE6B,IAAnCjE,EAAe/B,SAASkG,QACU,IAAlCnE,EAAe5B,QAAQ+F,QACO,IAA9BnE,EAAe1B,IAAI6F,QACY,IAA/BnE,EAAexB,KAAK2F,QACU,IAA9BnE,EAAetB,IAAIyF,QACe,IAAlCnE,EAAepB,QAAQuF,OAEnBhB,GAAmB,KACrBA,GAAmB,GAAG9F,MAAMG,QAAU,GACtC2F,GAAmB,GAAG9F,MAAMC,cAAgB,QAG1C6F,GAAmB,KACrBA,GAAmB,GAAG9F,MAAMG,QAAU,EACtC2F,GAAmB,GAAG9F,MAAMC,cAAgB,UAG/C,CACD0C,EAAe1B,IAAI6F,OACnBnE,EAAepB,QAAQuF,OACvBnE,EAAe/B,SAASkG,OACxBnE,EAAe5B,QAAQ+F,OACvBnE,EAAexB,KAAK2F,OACpBnE,EAAetB,IAAIyF,OACnBhB,KAGFc,qBAAU,WAENhE,EAAOD,EAAe/B,SAAU8C,IAChCd,EAAOD,EAAe5B,QAASmD,IAC/BtB,EAAOD,EAAe1B,IAAK2C,IAC3BhB,EAAOD,EAAexB,KAAMiD,IAC5BxB,EAAOD,EAAetB,IAAK2C,IAC3BpB,EAAOD,EAAepB,QAASuC,GAE3BiC,GAAmB,KACrBA,GAAmB,GAAG/F,MAAMG,QAAU,GACtC4F,GAAmB,GAAG/F,MAAMC,cAAgB,QAG1C8F,GAAmB,KACrBA,GAAmB,GAAG/F,MAAMG,QAAU,EACtC4F,GAAmB,GAAG/F,MAAMC,cAAgB,UAG/C,CACD0C,EAAe1B,IACf0B,EAAepB,QACfoB,EAAe/B,SACf+B,EAAe5B,QACf4B,EAAexB,KACfwB,EAAetB,IACfuC,EACAE,EACAJ,EACAQ,EACAE,EACAJ,EACA+B,GACAnD,IAeF,OACE,sBAAK7C,UAAU,2BAAf,UACE,cAAC,IAAD,CACEuH,QACE,sBAAKvH,UAAU,gCAAf,UACE,sBACEA,UAAU,2BACVwH,UAAU,eACVvH,MAAO,CACLwH,SACEpC,GAAiBqC,SACjBrC,GAAiBqC,QAAQC,YAC3BC,SACEvC,GAAiBqC,SACjBrC,GAAiBqC,QAAQC,aAT/B,UAYE,oBAAG1H,MAAO,CAAEE,MAAO,sBAAnB,gCACqB,uBAClBzB,EAAY,mBAEf,gEACiC,uBAC/B,iCACG2E,EAAmBwE,OAAOd,OAAOe,mBAC1B,IAJZ,MAKK,iCAAStE,EAAWsE,yBAG1BhI,EACC6C,EAAW,KACT,sBACE3C,UAAU,uBACVC,MAAO,CACLwH,SACEpC,GAAiBqC,SACjBrC,GAAiBqC,QAAQC,YAC3BC,SACEvC,GAAiBqC,SACjBrC,GAAiBqC,QAAQC,aAR/B,UAWE,2CACA,sBAAK3H,UAAU,6BAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,cAAC,IAAD,CAAUG,MAAM,mBAChB,0CAEF,sBAAKH,UAAU,qBAAf,UACE,cAAC,IAAD,CAAUG,MAAM,qBAChB,+CAEF,sBAAKH,UAAU,qBAAf,UACE,cAAC,IAAD,CAAUG,MAAM,qBAChB,mDAKN,QAGR4H,QACErF,EAAUgF,QAAQX,OAAS,KAC1BrC,GAAqBA,EAAmBqC,OAAS,KACjDlC,IACGA,GAAuBkC,OAAS,KAEnChC,IACGA,GAAwBgC,OAAS,KAEpC9B,IAAsBA,GAAoB8B,OAAS,KACnD5B,IAAqBA,GAAmB4B,OAAS,EAEpDiB,WAAW,EACXC,UAAW5C,GAAiBqC,QAC5B1H,UAAU,qBAEZ,cAAC,IAAD,CACEuH,QACE,sBACEvH,UAAU,uBACVC,MAAO,CACLwH,SACEpC,GAAiBqC,SACjBrC,GAAiBqC,QAAQC,YAC3BC,SACEvC,GAAiBqC,SACjBrC,GAAiBqC,QAAQC,aAR/B,UAWE,2CACA,sBAAK3H,UAAU,6BAAf,UACE,sBAAKA,UAAU,qBAAf,UACE,cAAC,IAAD,CAAUG,MAAM,mBAChB,0CAEF,sBAAKH,UAAU,qBAAf,UACE,cAAC,IAAD,CAAUG,MAAM,qBAChB,+CAEF,sBAAKH,UAAU,qBAAf,UACE,cAAC,IAAD,CAAUG,MAAM,qBAChB,mDAKR4H,QACEjI,IACI6C,IACED,EAAUgF,QAAQX,OAAS,KAC1BrC,GAAqBA,EAAmBqC,OAAS,KACjDlC,IACGA,GAAuBkC,OAAS,KAEnChC,IACGA,GAAwBgC,OAAS,KAEpC9B,IACGA,GAAoB8B,OAAS,KAEhC5B,IAAqBA,GAAmB4B,OAAS,GAEpDrE,EAAUgF,QAAQX,OAAS,KAC1BrC,GAAqBA,EAAmBqC,OAAS,KACjDlC,IACGA,GAAuBkC,OAAS,KAEnChC,IACGA,GAAwBgC,OAAS,KAEpC9B,IAAsBA,GAAoB8B,OAAS,KACnD5B,IAAqBA,GAAmB4B,OAAS,EAExDiB,WAAW,EACXC,UACEnI,EACI6C,EACE4C,GAAW,GACXI,GAAkB,GACpBD,GAAgB,GAEtB1F,UAAU,kCACVwH,UAAU,cAEZ,qBAAKxH,UAAU,iCAAiCkI,IAAK7C,GAArD,SACE,oBAAG5E,KAAK,IAAR,UACE,qCACA,uCACA,yCAGJ,cAAC,IAAD,CACE8G,QACEzH,EACE,oBAAGG,MAAO,CAAEkI,UAAW,UAAvB,wBACa,uBADb,UAES,uBAFT,kBAMA,iCAGJC,SAAU,CAAC,KAAM,KACjBC,OAAO,EACPN,QACE7B,MACCxB,GAAqBA,EAAmBqC,OAAS,KACjDlC,IACGA,GAAuBkC,OAAS,KAEnChC,IACGA,GAAwBgC,OAAS,KAEpC9B,IAAsBA,GAAoB8B,OAAS,KACnD5B,IAAqBA,GAAmB4B,OAAS,EAEpDkB,UAAW1C,GAAW,GACtBvF,UAAU,iBACVwH,UAAU,aACVc,eAAgB,kBAAMnC,IAAqB,MAE7C,cAAC,EAAD,CACEtG,iBAAkBA,EAClBC,iBAAkBA,IAEpB,eAAC,QAAD,CACEyI,OAAK,EACLvI,UAAU,kBACVwI,iBAAkB,cAAC,IAAD,CAAerI,MAAM,sBACvCsI,OA3iBwB,WACxBnG,EACFC,GAAkB,IAElBA,GAAkB,GACd2D,IACFC,IAAqB,KAsiBrBuC,QAAS,kBAAMnG,GAAkB,IACjCoG,OAAQrG,EANV,UAQE,cAAC,IAAD,CACEvC,QApmBJ,sBAAKC,UAAU,WAAf,UACE,mBAAGA,UAAU,oBAAb,gCACA,cAAC,IAAD,CAAQ4I,KAAM,wBAmmBZC,iBAAkB,kBAAMpG,EAAmB,aAC3CqG,iBAAkB,kBAAMrG,EAAmB,KAC3CsG,KAAuB,aAAjBvG,EACNxC,UAAU,WALZ,SAOE,sBAAKA,UAAU,6BAAf,UACE,4BACE,kCACE,uBACEgJ,KAAK,cACLlI,KAAK,WACLmI,QAAStF,EAAe0C,SAAS,KACjC6C,SAAU,kBAAM9C,GAAsB,QAL1C,cAUF,4BACE,kCACE,uBACE4C,KAAK,cACLlI,KAAK,WACLmI,QAAStF,EAAe0C,SAAS,KACjC6C,SAAU,kBAAM9C,GAAsB,QAL1C,mBAUF,4BACE,kCACE,uBACE4C,KAAK,cACLlI,KAAK,WACLmI,QAAStF,EAAe0C,SAAS,KACjC6C,SAAU,kBAAM9C,GAAsB,QAL1C,sBAYN,cAAC,IAAD,CACErG,QAtoBJ,sBAAKC,UAAU,WAAf,UACE,mBAAGA,UAAU,oBAAb,+BACA,cAAC,IAAD,CAAQ4I,KAAM,wBAqoBZC,iBAAkB,kBAAMpG,EAAmB,gBAC3CqG,iBAAkB,kBAAMrG,EAAmB,KAC3CiG,QA/PwC,WAC9C,IAAMtB,EAAmB5B,SAASC,uBAChC,8BAGFwB,YAAW,WACT,IAAK,IAAIK,EAAI,EAAGA,EAAIF,EAAiBL,OAAQO,IAC3CF,EAAiBE,GAAGD,UAAY,IAEjC,MAuPG0B,KAAuB,gBAAjBvG,EACNxC,UAAU,WANZ,SAQE,qBAAKA,UAAU,6BAAf,SACIgC,GACwC,IAA1CA,EAA+B+E,OAE3B/E,EAA+B2E,OAAOwC,KAAI,SAACC,EAAM9B,GAC/C,OACE8B,GACEA,EAAK/C,SAAS,qBAAuB+C,EAAK/C,SAAS,KA8B9C,KA3BL,4BACE,kCACE,uBACE2C,KAAK,cACLlI,KAAK,WACLmI,QAAS9E,EAAckC,SAAS+C,GAChCF,SAAU,kBAnlBP,SAAClI,GAC5B,GAAImD,EAAckC,SAASrF,GACzB8B,EACE/B,EACEoD,EAAcmC,QAAO,SAACC,GAAD,OAAUA,IAASvF,WAGvC,CACL,IAAMwF,EAAUrC,EAAcsC,QAC9BD,EAAQE,KAAK1F,GAEb,IAAMqI,EAAarH,EAChB2E,OACAL,QACC,SAAC8C,GAAD,OACEA,KAAUA,EAAK/C,SAAS,qBAAuB+C,EAAK/C,SAAS,SAI/DxD,EAAO2D,EAAQG,OAAQ0C,EAAW1C,QACpC7D,EAAS/B,EAA6B,KAEtC+B,EAAS/B,EAA6ByF,KA6jBF8C,CAAqBF,MAEtCA,EACEG,MAAM,KACNJ,KACC,SAACK,GAAD,OACEA,EAAE,GAAGC,cAAgBD,EAAE/C,MAAM,GAAGiD,iBAEnCC,KAAK,KACLJ,MAAM,KACNJ,KACC,SAACK,GAAD,OACEA,EAAE,GAAGC,cACLD,EAAE/C,MAAM,EAAG+C,EAAEI,QAAQ,MAAMF,cAC3BF,EAAE/C,MAAM+C,EAAEI,QAAQ,SAErBD,KAAK,SAtBJrC,MAPd,SAuCR,cAAC,IAAD,CACEvH,QA/qBJ,sBAAKC,UAAU,WAAf,UACE,mBAAGA,UAAU,oBAAb,iCACA,cAAC,IAAD,CAAQ4I,KAAM,wBA8qBZC,iBAAkB,kBAAMpG,EAAmB,QAC3CqG,iBAAkB,kBAAMrG,EAAmB,KAC3CsG,KAAuB,QAAjBvG,EACNxC,UAAU,WALZ,SAOE,qBAAKA,UAAU,6BAAf,SACI+B,EAEEA,EACG4E,MAAK,SAACkD,EAAGC,GAAJ,OAAUD,EAAEE,cAAcD,MAC/BX,KAAI,SAACjI,EAAKoG,GACT,OACE,4BACE,kCACE,uBACE0B,KAAK,cACLlI,KAAK,WACLmI,QAASpF,EAAUwC,SAASnF,GAC5BgI,SAAU,kBAtmBX,SAAChI,GACxB,GAAI2C,EAAUwC,SAASnF,GACrB4B,EACE7B,EAAyB4C,EAAUyC,QAAO,SAACC,GAAD,OAAUA,IAASrF,WAE1D,CACL,IAAMsF,EAAU3C,EAAU4C,QAC1BD,EAAQE,KAAKxF,GAEb,IAAM8I,EAAYjI,EAAa4E,MAAK,SAACkD,EAAGC,GAAJ,OAAUD,EAAEE,cAAcD,MAI5DjH,EACE2D,EAAQG,MAAK,SAACkD,EAAGC,GAAJ,OAAUD,EAAEE,cAAcD,MACvCE,GAGFlH,EAAS7B,EAAyB,KAElC6B,EAAS7B,EAAyBuF,KAklBEyD,CAAiB/I,MAE1B,OAARA,EAAe,MAAQA,MARpBoG,MALd,SAoBR,cAAC,IAAD,CACEvH,QAnsBJ,sBAAKC,UAAU,WAAf,UACE,mBAAGA,UAAU,oBAAb,4BACA,cAAC,IAAD,CAAQ4I,KAAM,wBAksBZC,iBAAkB,kBAAMpG,EAAmB,SAC3CqG,iBAAkB,kBAAMrG,EAAmB,KAC3CsG,KAAuB,SAAjBvG,EACNxC,UAAU,WALZ,SAOE,qBAAKA,UAAU,6BAAf,SACI6B,EAEEA,EAAiB8E,OAAOwC,KAAI,SAAC/H,EAAMkG,GACjC,OAAIlG,EAEA,4BACE,kCACE,uBACE4H,KAAK,cACLlI,KAAK,WACLmI,QAAS5E,EAAWgC,SAASjF,GAC7B8H,SAAU,kBAzmBV,SAAC9H,GACzB,GAAIiD,EAAWgC,SAASjF,GACtB0B,EACE3B,EAA0BkD,EAAWiC,QAAO,SAACC,GAAD,OAAUA,IAASnF,WAE5D,CACL,IAAMoF,EAAUnC,EAAWoC,QAC3BD,EAAQE,KAAKtF,GAEb,IAAM8I,EAAarI,EAAiB8E,OAGhC9D,EAAO2D,EAAS0D,GAClBpH,EAAS3B,EAA0B,KAEnC2B,EAAS3B,EAA0BqF,KA0lBC2D,CAAkB/I,MAEnCA,GACCA,EACGmI,MAAM,KACNJ,KACC,SAACK,GAAD,OACEA,EAAE,GAAGC,cAAgBD,EAAE/C,MAAM,GAAGiD,iBAEnCC,KAAK,KACLJ,MAAM,KACNJ,KACC,SAACK,GAAD,OACEA,EAAE,GAAGC,cACLD,EAAE/C,MAAM,EAAG+C,EAAEI,QAAQ,MAAMF,cAC3BF,EAAE/C,MAAM+C,EAAEI,QAAQ,SAErBD,KAAK,SAvBNrC,GA4BH,QAhCX,SAqCR,cAAC,IAAD,CACEvH,QAxuBJ,sBAAKC,UAAU,WAAf,UACE,mBAAGA,UAAU,oBAAb,2BACA,cAAC,IAAD,CAAQ4I,KAAM,wBAuuBZC,iBAAkB,kBAAMpG,EAAmB,QAC3CqG,iBAAkB,kBAAMrG,EAAmB,KAC3CsG,KAAuB,QAAjBvG,EACNxC,UAAU,WALZ,SAOE,sBAAKA,UAAU,6BAAf,UACE,4BACE,kCACE,uBACEgJ,KAAK,cACLlI,KAAK,WACLmI,QAAShF,EAAUoC,SAAS,KAC5B6C,SAAU,kBAAMtC,GAAiB,QALrC,cAUF,4BACE,kCACE,uBACEoC,KAAK,cACLlI,KAAK,WACLmI,QAAShF,EAAUoC,SAAS,KAC5B6C,SAAU,kBAAMtC,GAAiB,QALrC,iBAYN,cAAC,IAAD,CACE7G,QA/vBJ,sBAAKC,UAAU,WAAf,UACE,mBAAGA,UAAU,oBAAb,+BACA,cAAC,IAAD,CAAQ4I,KAAM,wBA8vBZC,iBAAkB,kBAAMpG,EAAmB,YAC3CqG,iBAAkB,kBAAMrG,EAAmB,KAC3CsG,KAAuB,YAAjBvG,EACNxC,UAAU,WALZ,SAOE,qBAAKA,UAAU,6BAAf,SACI8B,EAEEA,EAAoB6E,OAAOwC,KAAI,SAAC3H,EAAS8F,GACvC,OACE,4BACE,kCACE,uBACE0B,KAAK,cACLlI,KAAK,WACLmI,QAASlF,EAAcsC,SAAS7E,GAChC0H,SAAU,kBAhpBL,SAAC1H,GAC5B,GAAIuC,EAAcsC,SAAS7E,GACzBsB,EACEvB,EACEwC,EAAcuC,QAAO,SAACC,GAAD,OAAUA,IAAS/E,WAGvC,CACL,IAAMgF,EAAUzC,EAAc0C,QAC9BD,EAAQE,KAAKlF,GAEb,IAAM4I,EAAgBtI,EAAoB6E,OAGtC9D,EAAO2D,EAAS4D,GAClBtH,EAASvB,EAA6B,KAEtCuB,EAASvB,EAA6BiF,KA+nBJ6D,CAAqB7I,MAE1B,MAAZA,EACG,QACY,MAAZA,EACA,SACY,MAAZA,EACA,YACY,MAAZA,EACA,WACY,MAAZA,EACA,gBACA,cAlBA8F,MAHZ,SA4BR,sBAAMtH,UAAU,WAChB,sBAAKA,UAAU,2BAAf,UACE,cAAC,IAAD,CACEsK,QAASnI,EACTnC,UAAU,uBACVQ,QAAS,WACFwC,GACHF,EAASrB,KAGNU,GACHD,GAAmB,GAGrBD,EACE0B,EACAQ,EACAN,EACAQ,EACAJ,EACAF,EACAnC,IAGJ2I,aAAY,OACZC,YAAWC,KACXC,aAAYC,cACZC,oBAAmB,GACnBC,qBAAoB,OACpBC,qBAAoB,GA3BtB,SA6BG3I,EAAe,mBAAqB,kBAEvC,cAAC,IAAD,CACEmI,QAASlI,EACTpC,UAAU,uBACVQ,QAAS,WACF+D,GACHzB,EAASpB,KAGNU,GACHC,GAAwB,GAG1BS,EAASlC,EAA8B,KACvCkC,EAAS/B,EAA6B,KACtC+B,EAAS7B,EAAyB,KAClC6B,EAAS3B,EAA0B,KACnC2B,EAASzB,EAAyB,KAClCyB,EAASvB,EAA6B,KAEtCU,EAAW,GAAI,GAAI,GAAI,GAAI,GAAI,GAAIL,IAErC2I,aAAY,MACZC,YAAWC,KACXC,aAAYC,cACZC,oBAAmB,GACnBC,qBAAoB,OACpBC,qBAAoB,GA1BtB,SA4BG1I,EAAoB,YAAc,4B,2EC77BhC2I,EAhEE,SAACnL,GAAW,IAEzBoL,EAIEpL,EAJFoL,uBACAC,EAGErL,EAHFqL,YACAC,EAEEtL,EAFFsL,YACAC,EACEvL,EADFuL,kBAGIC,EAAc,CAClB,CACEC,UAAW,QACXC,SAFF,WAGSJ,GACHjE,YAAW,WACTkE,GAAkB,KACjB,QAMX,OACE,sBACEnL,UAAU,6BACVuL,YAAa,SAACC,GAAD,OAAOA,EAAEC,kBACtBxL,MAAO,CACLyL,QAAyB,aAAhBT,EAA6B,QAAU,OAChD7K,QAAS8K,EAAc,EAAI,GAL/B,UAQE,mBAAGlL,UAAU,4BAAb,mCACA,qBAAKA,UAAU,4BAAf,SACE,cAAC,IAAD,CACE2L,UAAU,WACVP,YAAaA,EACb7H,KACEyH,EACI,CACE,CAAC,WAAY,qBACb,CACE,SACAA,EAAuB1E,QAAO,SAACkD,GAAD,MAAa,MAANA,KAAWzC,QAElD,CACE,cACAiE,EAAuB1E,QAAO,SAACkD,GAAD,MAAa,MAANA,KAAWzC,QAElD,CACE,YACAiE,EAAuB1E,QAAO,SAACkD,GAAD,MAAa,MAANA,GAAmB,MAANA,KAC/CzC,SAGP,GAEN6E,QAAS,CACPC,gBAAiB,uBCtBdC,EAlCE,SAAClM,GAAW,IACnBmM,EAAwDnM,EAAxDmM,qBAAsBC,EAAkCpM,EAAlCoM,iBAAkBf,EAAgBrL,EAAhBqL,YAEhD,OACE,sBACEjL,UAAU,6BACVuL,YAAa,SAACC,GAAD,OAAOA,EAAEC,kBACtBxL,MAAO,CAAEyL,QAAyB,aAAhBT,EAA6B,QAAU,QAH3D,UAKE,mBAAGjL,UAAU,4BAAb,oCACA,qBAAKA,UAAU,4BAAf,SACE,cAAC,IAAD,CACE2L,UAAU,WACVpI,KAEI,CAAC,CAAC,YAAa,sBAAsB0I,OACnCF,EACGpF,MAAK,SAACkD,EAAGC,GAAJ,OAAUD,EAAEE,cAAcD,MAC/BX,KAAI,SAAC5C,GAAD,MAAU,CACJ,OAATA,EAAgB,MAAQA,EACxByF,EAAiB1F,QAAO,SAACkD,GAAD,OAAOA,IAAMjD,KAAMQ,YAKrD6E,QAAS,CACPC,gBAAiB,uB,iBCgCdK,EAxDF,SAACtM,GAAW,IACfuM,EAA2DvM,EAA3DuM,yBAA0BC,EAAiCxM,EAAjCwM,gBAAiBnB,EAAgBrL,EAAhBqL,YAE7CjI,EAAkBC,aACtB,SAACC,GAAD,OAAWA,EAAMC,uBAAuBC,WAG1C,OACE,sBACEpD,UAAU,6BACVuL,YAAa,SAACC,GAAD,OAAOA,EAAEC,kBACtBxL,MAAO,CAAEyL,QAAyB,aAAhBT,EAA6B,QAAU,QAH3D,UAKE,mBAAGjL,UAAU,4BAAb,+BACA,qBAAKA,UAAU,4BAAf,SACGgD,EACC,cAAC,IAAD,CAAcqJ,KAAM,IAAKlM,MAAM,sBAE/B,cAAC,IAAD,CACEwL,UAAU,WACVW,OAAQ,cAAC,IAAD,CAAcD,KAAM,IAAKlM,MAAM,sBACvCoD,KAEI,CAAC,CAAC,OAAQ,sBAAsB0I,OAC9BE,EAAyBhD,KAAI,SAAC5C,GAAD,MAAU,CACrCA,EACIA,EACGgD,MAAM,KACNJ,KACC,SAACK,GAAD,OAAOA,EAAE,GAAGC,cAAgBD,EAAE/C,MAAM,GAAGiD,iBAExCC,KAAK,KACLJ,MAAM,KACNJ,KACC,SAACK,GAAD,OACEA,EAAE,GAAGC,cACLD,EAAE/C,MAAM,EAAG+C,EAAEI,QAAQ,MAAMF,cAC3BF,EAAE/C,MAAM+C,EAAEI,QAAQ,SAErBD,KAAK,KACR,KACJyC,EAAgB9F,QAAO,SAACkD,GAAD,OAAOA,IAAMjD,KAAMQ,YAKlD6E,QAAS,CACPC,gBAAiB,uBCNhBU,EAzCA,SAAC3M,GAAW,IACjB4M,EAAyD5M,EAAzD4M,wBAAyBC,EAAgC7M,EAAhC6M,eAAgBxB,EAAgBrL,EAAhBqL,YAE3CjI,EAAkBC,aACtB,SAACC,GAAD,OAAWA,EAAMC,uBAAuBC,WAG1C,OACE,sBACEpD,UAAU,6BACVuL,YAAa,SAACC,GAAD,OAAOA,EAAEC,kBACtBxL,MAAO,CAAEyL,QAAyB,aAAhBT,EAA6B,QAAU,QAH3D,UAKE,mBAAGjL,UAAU,4BAAb,8BACA,qBAAKA,UAAU,4BAAf,SACGgD,EACC,cAAC,IAAD,CAAcqJ,KAAM,IAAKlM,MAAM,sBAE/B,cAAC,IAAD,CACEwL,UAAU,WACVW,OAAQ,cAAC,IAAD,CAAcD,KAAM,IAAKlM,MAAM,sBACvCoD,KAEI,CAAC,CAAC,MAAO,sBAAsB0I,OAC7BO,EAAwBrD,KAAI,SAAC5C,GAAD,MAAU,CAC3B,MAATA,EAAe,OAAS,SACxBkG,EAAenG,QAAO,SAACkD,GAAD,OAAOA,IAAMjD,KAAMQ,YAKjD6E,QAAS,CACPC,gBAAiB,uBCYhBa,EA9CC,SAAC9M,GAAW,IAExB+M,EAGE/M,EAHF+M,4BACAC,EAEEhN,EAFFgN,mBACA3B,EACErL,EADFqL,YAGF,OACE,sBACEjL,UAAU,6BACVuL,YAAa,SAACC,GAAD,OAAOA,EAAEC,kBACtBxL,MAAO,CAAEyL,QAAyB,aAAhBT,EAA6B,QAAU,QAH3D,UAKE,mBAAGjL,UAAU,4BAAb,kCACA,qBAAKA,UAAU,4BAAf,SACE,cAAC,IAAD,CACE2L,UAAU,WACVpI,KAEI,CAAC,CAAC,UAAW,sBAAsB0I,OACjCU,EAA4BxD,KAAI,SAAC5C,GAAD,MAAU,CAC/B,MAATA,EACI,QACS,MAATA,EACA,SACS,MAATA,EACA,YACS,MAATA,EACA,WACS,MAATA,EACA,gBACA,UACJqG,EAAmBtG,QAAO,SAACkD,GAAD,OAAOA,IAAMjD,KAAMQ,YAKrD6E,QAAS,CACPC,gBAAiB,uBC4EdgB,EAhHK,SAACjN,GAAW,IAE5BkN,EAOElN,EAPFkN,8BACAC,EAMEnN,EANFmN,uCACA9B,EAKErL,EALFqL,YACApI,EAIEjD,EAJFiD,OACAmK,EAGEpN,EAHFoN,YACAlN,EAEEF,EAFFE,iBACAmN,EACErN,EADFqN,eAR2B,EAWQhH,mBAAS,IAXjB,mBAWtBiH,EAXsB,KAWXC,EAXW,KAavBC,EAAoCJ,EACxCF,GAEIO,EAA6CL,EACjDD,GAEI/J,EAAkBC,aACtB,SAACC,GAAD,OAAWA,EAAMC,uBAAuBC,WAyC1C,OAtCAyD,qBAAU,WACR,GACEiG,GACAA,EAA8B/F,OAAS,GACvCgG,EAAuChG,OAAS,IAG9C+F,IAAkCM,GAClCL,IACEM,GACF,CACA,IAAMC,EAAcP,EACjB5D,KAAI,SAAC5C,GAAD,MAAU,CACbA,EACAuG,EAA8BxG,QAAO,SAACkD,GAAD,OAAOA,IAAMjD,KAAMQ,WAEzDJ,MAAK,SAACkD,EAAGC,GACR,OAAID,EAAE,GAAKC,EAAE,GACJ,GAEC,KAITjH,EAAOyK,EAAaJ,IACvBC,EAAgBG,MAIrB,CACDzK,EACAiK,EACAC,EACAG,EACAE,EACAC,IAIA,qBACErN,UAAU,6BACVuL,YAAa,SAACC,GAAD,OAAOA,EAAEC,kBACtBxL,MAAO,CAAEyL,QAAyB,aAAhBT,EAA6B,QAAU,QAH3D,SAKGiC,EAAUnG,OAAS,EAClB,qCACE,mBAAG/G,UAAU,4BAAb,4BACA,qBAAKA,UAAU,4BAAf,SACGgD,EACC,cAAC,IAAD,CAAcqJ,KAAM,IAAKlM,MAAM,sBAE/B,cAAC,IAAD,CACEwL,UAAU,WACVW,OAAQ,cAAC,IAAD,CAAcD,KAAM,IAAKlM,MAAM,sBACvCoD,KAEI,CAAC,CAAC,sBAAuB,sBAAsB0I,OAC7CiB,EAAUnG,OAAS,EACfmG,EACGzG,MAAMyG,EAAUnG,OAAS,EAAGmG,EAAUnG,QACtCJ,MAAK,SAACkD,EAAGC,GACR,OAAID,EAAE,GAAKC,EAAE,IACH,EAED,KAGb,CAAC,UAAW,IAItB8B,QAAS,CACPC,gBAAiB,cACjB0B,OAAQ,CAAEC,SAAU,QACpBC,MAAO3N,EAAmB,IAAMmN,EAAiB,IAAM,IACvDS,IAAK5N,EAAmB,KAAO,CAAE6N,WAAY,OAC7CC,UAAW9N,EACP,KACA,CAAE2N,MAAO,MAAOI,OAAQ,eAMpC,QC5DKC,EA/CU,SAAClO,GAAW,IAC3BE,EAAkDF,EAAlDE,iBAAkBmN,EAAgCrN,EAAhCqN,eAAgBc,EAAgBnO,EAAhBmO,YAEpCrJ,EAAqBzB,aACzB,SAACC,GAAD,OAAWA,EAAMyB,0BAA0BC,WAG7C,OACE,sBACE5E,UAAU,6BACVuL,YAAa,SAACC,GAAD,OAAOA,EAAEC,kBAFxB,UAIE,mBAAGzL,UAAU,4BAAb,8BACA,qBAAKA,UAAU,4BAAf,SACE,cAAC,IAAD,CACEgO,cAAY,EACZrC,UAAU,YACVW,OAAQ,cAAC,IAAD,CAAcD,KAAM,IAAKlM,MAAM,sBACvCoD,KAAMmB,EACNkH,QAAS,CACPC,gBAAiB,cACjB4B,MAAO3N,EACHiO,EACE,IACA,IACFd,EACA,IACA,IACJW,UAAW,CAAEH,MAAO,MAAOI,OAAQ,OACnCI,MAAO,CACLC,MAAO,SAETC,MAAO,CACLD,MAAO,gBAETE,SAAU,CACRC,KAAM,aACNC,cAAc,EACdC,UAAW,aCUVC,EAhDS,SAAC5O,GAAW,IAC1BE,EAAkDF,EAAlDE,iBAAkBmN,EAAgCrN,EAAhCqN,eAAgBc,EAAgBnO,EAAhBmO,YAEpClJ,EAAyB5B,aAC7B,SAACC,GAAD,OAAWA,EAAM4B,8BAA8BF,WAGjD,OACE,sBACE5E,UAAU,6BACVuL,YAAa,SAACC,GAAD,OAAOA,EAAEC,kBAFxB,UAIE,mBAAGzL,UAAU,4BAAb,4BACA,qBAAKA,UAAU,4BAAf,SACE,cAAC,IAAD,CACEgO,cAAY,EACZrC,UAAU,YACVW,OAAQ,cAAC,IAAD,CAAcD,KAAM,IAAKlM,MAAM,sBACvCoD,KAAMsB,EACN+G,QAAS,CACPoC,cAAc,EACdnC,gBAAiB,cACjB4B,MAAO3N,EACHiO,EACE,IACA,IACFd,EACA,IACA,IACJW,UAAW,CAAEH,MAAO,MAAOI,OAAQ,OACnCI,MAAO,CACLC,MAAO,SAETC,MAAO,CACLD,MAAO,gBAETE,SAAU,CACRC,KAAM,aACNC,cAAc,EACdC,UAAW,aCSVE,EAhDU,SAAC7O,GAAW,IAC3BE,EAAkDF,EAAlDE,iBAAkBmN,EAAgCrN,EAAhCqN,eAAgBc,EAAgBnO,EAAhBmO,YAEpChJ,EAA0B9B,aAC9B,SAACC,GAAD,OAAWA,EAAM8B,+BAA+BJ,WAGlD,OACE,sBACE5E,UAAU,6BACVuL,YAAa,SAACC,GAAD,OAAOA,EAAEC,kBAFxB,UAIE,mBAAGzL,UAAU,4BAAb,6BACA,qBAAKA,UAAU,wDAAf,SACE,cAAC,IAAD,CACEgO,cAAY,EACZrC,UAAU,YACVW,OAAQ,cAAC,IAAD,CAAcD,KAAM,IAAKlM,MAAM,sBACvCoD,KAAMwB,EACN6G,QAAS,CACPoC,cAAc,EACdnC,gBAAiB,cACjB4B,MAAO3N,EACHiO,EACE,IACA,IACFd,EACA,IACA,IACJW,UAAW,CAAEH,MAAO,MAAOI,OAAQ,OACnCI,MAAO,CACLC,MAAO,SAETC,MAAO,CACLD,MAAO,gBAETE,SAAU,CACRC,KAAM,aACNC,cAAc,EACdC,UAAW,aCSVG,EAhDQ,SAAC9O,GAAW,IACzBE,EAAkDF,EAAlDE,iBAAkBmN,EAAgCrN,EAAhCqN,eAAgBc,EAAgBnO,EAAhBmO,YAEpC5I,EAAqBlC,aACzB,SAACC,GAAD,OAAWA,EAAMkC,0BAA0BR,WAG7C,OACE,sBACE5E,UAAU,6BACVuL,YAAa,SAACC,GAAD,OAAOA,EAAEC,kBAFxB,UAIE,mBAAGzL,UAAU,4BAAb,2BACA,qBAAKA,UAAU,4BAAf,SACE,cAAC,IAAD,CACEgO,cAAY,EACZrC,UAAU,YACVW,OAAQ,cAAC,IAAD,CAAcD,KAAM,IAAKlM,MAAM,sBACvCoD,KAAM4B,EACNyG,QAAS,CACPoC,cAAc,EACdnC,gBAAiB,cACjB4B,MAAO3N,EACHiO,EACE,IACA,IACFd,EACA,IACA,IACJW,UAAW,CAAEH,MAAO,MAAOI,OAAQ,OACnCI,MAAO,CACLC,MAAO,SAETC,MAAO,CACLD,MAAO,gBAETE,SAAU,CACRC,KAAM,aACNC,cAAc,EACdC,UAAW,aCSVI,EAhDM,SAAC/O,GAAW,IACvBE,EAAkDF,EAAlDE,iBAAkBmN,EAAgCrN,EAAhCqN,eAAgBc,EAAgBnO,EAAhBmO,YAEpC9I,EAAsBhC,aAC1B,SAACC,GAAD,OAAWA,EAAMgC,2BAA2BN,WAG9C,OACE,sBACE5E,UAAU,6BACVuL,YAAa,SAACC,GAAD,OAAOA,EAAEC,kBAFxB,UAIE,mBAAGzL,UAAU,4BAAb,yBACA,qBAAKA,UAAU,4BAAf,SACE,cAAC,IAAD,CACEgO,cAAY,EACZrC,UAAU,YACVW,OAAQ,cAAC,IAAD,CAAcD,KAAM,IAAKlM,MAAM,sBACvCoD,KAAM0B,EACN2G,QAAS,CACPoC,cAAc,EACdnC,gBAAiB,cACjB4B,MAAO3N,EACHiO,EACE,IACA,IACFd,EACA,IACA,IACJW,UAAW,CAAEH,MAAO,MAAOI,OAAQ,OACnCI,MAAO,CACLC,MAAO,SAETC,MAAO,CACLD,MAAO,gBAETE,SAAU,CACRC,KAAM,aACNC,cAAc,EACdC,UAAW,a,yLCjBzB,IAw0BeK,GAx0BS,SAAChP,GAAW,IAEhCsG,EAkCEtG,EAlCFsG,eACA8F,EAiCEpM,EAjCFoM,iBACAI,EAgCExM,EAhCFwM,gBACAK,EA+BE7M,EA/BF6M,eACAG,EA8BEhN,EA9BFgN,mBACAE,EA6BElN,EA7BFkN,8BACA9B,EA4BEpL,EA5BFoL,uBACA6D,EA2BEjP,EA3BFiP,uBAEA9C,EAyBEnM,EAzBFmM,qBACAI,EAwBEvM,EAxBFuM,yBACAK,EAuBE5M,EAvBF4M,wBACAG,EAsBE/M,EAtBF+M,4BACAI,EAqBEnN,EArBFmN,uCACA+B,EAoBElP,EApBFkP,kBAEAlM,EAkBEhD,EAlBFgD,eACAC,EAiBEjD,EAjBFiD,OACAmK,EAgBEpN,EAhBFoN,YACA/B,EAeErL,EAfFqL,YACA8D,EAcEnP,EAdFmP,kBACArM,EAaE9C,EAbF8C,UACA5C,EAYEF,EAZFE,iBACAmN,EAWErN,EAXFqN,eACApN,EAUED,EAVFC,iBACAmP,EASEpP,EATFoP,uBACAjB,EAQEnO,EARFmO,YACAxJ,EAOE3E,EAPF2E,aAEA0K,EAKErP,EALFqP,6BACAC,EAIEtP,EAJFsP,4BACAC,EAGEvP,EAHFuP,6BACAC,EAEExP,EAFFwP,wBACAC,EACEzP,EADFyP,yBAGIrM,EAAkBC,aACtB,SAACC,GAAD,OAAWA,EAAMC,uBAAuBC,WAEpCkM,EAAkBrM,aACtB,SAACC,GAAD,OAAWA,EAAMqM,uBAAuBC,aAIpC9K,GAAqBzB,aACzB,SAACC,GAAD,OAAWA,EAAMyB,0BAA0BC,WAEvCC,GAAyB5B,aAC7B,SAACC,GAAD,OAAWA,EAAM4B,8BAA8BF,WAE3CG,GAA0B9B,aAC9B,SAACC,GAAD,OAAWA,EAAM8B,+BAA+BJ,WAE5CK,GAAsBhC,aAC1B,SAACC,GAAD,OAAWA,EAAMgC,2BAA2BN,WAExCO,GAAqBlC,aACzB,SAACC,GAAD,OAAWA,EAAMkC,0BAA0BR,WA3DZ,GA8D4BqB,oBAAS,GA9DrC,qBA8D1BwJ,GA9D0B,MA8DHC,GA9DG,SA+DwBzJ,oBAAS,GA/DjC,qBA+D1B0J,GA/D0B,MA+DLC,GA/DK,SAgE8B3J,oBAC7D,GAjE+B,qBAgE1B4J,GAhE0B,MAgEFC,GAhEE,SAmE4B7J,oBAAS,GAnErC,qBAmE1B8J,GAnE0B,MAmEHC,GAnEG,SAoEQ/J,oBAAS,GApEjB,qBAoE1BiF,GApE0B,MAoEbC,GApEa,SAqEsBlF,oBAAS,GArE/B,qBAqE1BgK,GArE0B,MAqENC,GArEM,MAuE7BC,GAAc7K,iBAAO,MACrB8K,GAAsB9K,iBAAO,MAC3B+K,GAAqB/K,iBAAO,MAE5BgL,GAAa9K,SAASC,uBAAuB,wBAC7C8K,GAAyB/K,SAASC,uBACtC,kBAEI+K,GAA4BhL,SAASC,uBACzC,+BAEIgL,GAAyBjL,SAASC,uBACtC,gCAEIiL,GAAgBlL,SAASmL,eAAe,kBAExCC,GAAWC,eAAH,MAKd/B,EAAkBuB,IAAoB,WAC/BvQ,IACHkP,GAAuB,GACvBD,EAAkB,gBAKtBlI,qBAAU,WACH/G,GAaH4Q,GAAczQ,MAAMqG,OAAS,OAC7BoK,GAAczQ,MAAM,kBAAoB,OACxCyQ,GAAczQ,MAAMC,cAAgB,QAdhCwQ,KACE7Q,GACF6Q,GAAczQ,MAAMqG,OAAS,4BAC7BoK,GAAczQ,MAAM,kBAAoB,4BACxCyQ,GAAczQ,MAAMC,cAAgB,SAEpCwQ,GAAczQ,MAAMqG,OAAS,OAC7BoK,GAAczQ,MAAM,kBAAoB,OACxCyQ,GAAczQ,MAAMC,cAAgB,WAQzC,CAACwQ,GAAe7Q,EAAkBC,IAGrC+G,qBAAU,WACR,GAAoB,WAAhBoE,IAA6BjI,EAAiB,CAChD,IAAM8N,EAAkBC,aAAY,WAClC,IAAMC,EAAUP,GAAuB,GACjCQ,EAAUzL,SAAS0L,qBAAqB,UAE9C,GAAIF,EAAS,CACX,IAAMG,EAAuB3L,SAASC,uBACpC,uCAGF,GAAI0L,EAAqB,IAUvB,IATA,IAAMC,EAAcD,EAAqB,GAAGD,qBAC1C,QAEIG,EAAaF,EAAqB,GAAGD,qBACzC,QAGII,GAAgBF,EAAYrK,OAAS,GAAK,EAEvCO,EAAI,EAAGA,EAAIgK,EAAchK,IAChC,GAAmD,SAA/C8J,EAAY7K,KAAKe,GAAGiK,aAAa,WAEjCF,EAAW9K,KAAKe,GAAGkK,YAAY/K,MAAM,EAAG,KACxCuK,EAAQS,UAAUC,WAAWF,YAC1BjI,MAAM,KAAK,GACX9C,MAAM,EAAG,GACZ,CACAuK,EAAQ/Q,MAAMyL,QAAU,OAExB,IAAK,IAAIiG,EAAI,EAAGA,EAAIV,EAAQlK,OAAQ4K,IAClCV,EAAQU,GAAG1R,MAAMyL,QAAU,aAMnC,IAAK,IAAIiG,EAAI,EAAGA,EAAIV,EAAQlK,OAAQ4K,IAClCV,EAAQU,GAAG1R,MAAMyL,QAAU,WAIhC,IAEH,OAAO,WACLkG,cAAcd,OAGjB,CAACL,GAAwBxF,EAAajI,IAEzC6D,qBAAU,WACY,WAAhBoE,IACG8E,KACH9I,YAAW,WACT6I,IAA6B,KAC5B,MACH7I,YAAW,WACT6I,IAA6B,KAC5B,MAEHE,IAA4B,OAG/B,CAAC/E,EAAa8E,KAEjBlJ,qBAAU,WACR,IAIMgL,EAJwBrM,SAASC,uBACrC,2BACA,GAE8CgM,UAAUA,UAEtDI,IAIAA,EAAkB5R,MAAMG,QAHrBkP,EAG+B,EAFA,MAKrC,CAACA,IAEJzI,qBAAU,WACR,IAAK7D,GACCnD,EAAkB,CACpB,IAAMiS,EAAuBf,aAAY,WACnB,aAAhB9F,EACEsF,GAAuB,KAEtBA,GAAuB,GAAGvQ,UAAUqG,SACnC,uBAGFkK,GAAuB,GAAGvQ,WAAa,qBACvCkQ,IAAyB,GACzB0B,cAAcE,KAIdvB,GAAuB,KAEtBA,GAAuB,GAAGvQ,UAAUqG,SAAS,qBAE9CkK,GAAuB,GAAGvQ,WAAa,mBACvCkQ,IAAyB,GACzB0B,cAAcE,OAInB,IAEH,OAAO,WACLF,cAAcE,OAInB,CACDjS,EACA0Q,GACAvN,EACAiI,EACAgF,KAGF,IAAM8B,GAAyB,WACzBlS,GACFmP,GAAuB,GACvBD,EAAkB,cAElBC,GAAuB,GACvBD,EAAkB,YAEbU,KACHxI,YAAW,WACT2I,IAA0B,KACzB,MACH3I,YAAW,WACT2I,IAA0B,KACzB,MAEHF,IAA4B,MAiBlC,OACE,qCACE,sBACE1P,UAAU,gCACVC,MAAO,CACLyL,QAAS5L,EACL,OACAD,EACA,OACA,QAPR,UAUE,cAAC,IAAD,IAVF,IAUkB,iEAElB,sBACEG,UAAU,8BACVkI,IAAKmI,GACLpQ,MAAO,CACL+R,OAAQlS,EACJoG,GACG,EACD,GACFA,GACC,EACD,EACJ+L,UAAWnS,EACPD,EACE,uBACA,0BACF,QAfR,UAkBE,qBACEG,UAAU,iBACVQ,QAAS,WACPwO,GAAuB,GACvBD,EAAkB,aAEpB9O,MAAO,CACLG,QAASP,EAAmB,EAAI,EAChC6L,QAAS7L,EAAmB,QAAU,QAR1C,SAWG,MAEH,sBACEG,UAAU,oCACVQ,QAASuR,GACT9R,MAAO,CACLyL,QAAS5L,GAELD,EADA,OAGA,QARR,UAWE,cAAC,IAAD,IAXF,sCAaA,qBAAKG,UAAU,sBAAsBQ,QAASuR,GAA9C,SACIlS,EAKA,qCACE,cAAC,IAAD,IADF,yBAJA,qCACE,cAAC,IAAD,IADF,+BASJ,sBACEG,UAAU,4BACVC,MAAO,CACL+R,OAAQnS,EAAmB,SAAW,MACtCyG,OAAQxG,GAEJD,EADA,OAGA,YACJqS,aAAcpS,GAEVD,EADA,OAGA,aAbR,UAgBE,sBAAKG,UAAU,kBAAf,UACE,iDACoC,IAAnC4C,EAAe/B,SAASkG,QACS,IAAlCnE,EAAe5B,QAAQ+F,QACO,IAA9BnE,EAAe1B,IAAI6F,QACY,IAA/BnE,EAAexB,KAAK2F,QACU,IAA9BnE,EAAetB,IAAIyF,QACe,IAAlCnE,EAAepB,QAAQuF,OACrB,mBAAG/G,UAAU,+BAAb,0CAIA,qCACE,8BACE,iCACsC,IAAnC4C,EAAe/B,SAASkG,OACrB,KACA,WACCnE,EAAe/B,SAASkG,OAAS,EAAI,QAAU,SAElB,IAAnCnE,EAAe/B,SAASkG,OACrB,KACAnE,EAAe/B,SACZsI,KAAI,SAACK,GAAD,MACG,MAANA,EACI,SACM,MAANA,EACA,cACA,eAELG,KAAK,SAEd,8BACE,iCACqC,IAAlC/G,EAAe5B,QAAQ+F,OACpB,KACA,WACmC,IAAlCnE,EAAe5B,QAAQ+F,OAAe,KAAO,SAEjB,IAAlCnE,EAAe5B,QAAQ+F,OACpB,KACAnE,EAAe5B,QACZmI,KAAI,SAAC5C,GAAD,OACHA,EACGgD,MAAM,KACNJ,KACC,SAACK,GAAD,OACEA,EAAE,GAAGC,cAAgBD,EAAE/C,MAAM,GAAGiD,iBAEnCC,KAAK,KACLJ,MAAM,KACNJ,KACC,SAACK,GAAD,OACEA,EAAE,GAAGC,cACLD,EAAE/C,MAAM,EAAG+C,EAAEI,QAAQ,MAAMF,cAC3BF,EAAE/C,MAAM+C,EAAEI,QAAQ,SAErBD,KAAK,QAETA,KAAK,SAEd,8BACE,iCACiC,IAA9B/G,EAAe1B,IAAI6F,OAChB,KACA,OAC+B,IAA9BnE,EAAe1B,IAAI6F,OAAe,KAAO,SAEjB,IAA9BnE,EAAe1B,IAAI6F,OAChB,KACAnE,EAAe1B,IACZiI,KAAI,SAACK,GAAD,MAAc,OAANA,EAAa,MAAQA,KACjCG,KAAK,SAEd,8BACE,iCACkC,IAA/B/G,EAAexB,KAAK2F,OACjB,KACA,QACgC,IAA/BnE,EAAexB,KAAK2F,OAAe,KAAO,SAEjB,IAA/BnE,EAAexB,KAAK2F,OACjB,KACAnE,EAAexB,KAAKuI,KAAK,SAE/B,8BACE,iCACiC,IAA9B/G,EAAetB,IAAIyF,OAAe,KAAO,UAEb,IAA9BnE,EAAetB,IAAIyF,OAChB,KACAnE,EAAetB,IACZ6H,KAAI,SAACK,GAAD,MAAc,MAANA,EAAY,OAAS,YACjCG,KAAK,SAEd,8BACE,iCACqC,IAAlC/G,EAAepB,QAAQuF,OACpB,KACA,WACmC,IAAlCnE,EAAepB,QAAQuF,OAAe,KAAO,SAEjB,IAAlCnE,EAAepB,QAAQuF,OACpB,KACAnE,EAAepB,QACZ2H,KAAI,SAAC5C,GAAD,MACM,MAATA,EACI,QACS,MAATA,EACA,SACS,MAATA,EACA,YACS,MAATA,EACA,WACS,MAATA,EACA,gBACA,aAELoD,KAAK,eAKpB,sBAAK3J,UAAU,0BAAf,UACE,8CACA,eAAC,cAAD,CACEkJ,SAAU,SAACiJ,GACT,GAAIlH,IAAgBkH,EAClB,OAAO,KAEPpD,EAAkBoD,GAClBjC,IAAyB,IAG7BkC,YAAU,EACVD,MAAOlH,EAVT,UAYE,cAAC,eAAD,CACEoH,UAAU,qBACVC,WAAW,iBACXH,MAAM,WAHR,sBAOA,cAAC,eAAD,CACEE,UAAU,qBACVC,WAAW,iBACXH,MAAM,SACNI,UAAWjD,EACXkD,cAAc,qBALhB,6BAYN,sBACExS,UAAU,qBACVyS,aA/PsB,WACR,WAAhBxH,IACE4E,IACFC,IAA6B,GAG3BH,IACFC,IAA0B,KAyPxB3P,MAAO,CACLyL,QAAS7L,EAAmB,QAAU,OACtC6S,YAAa5S,GAETD,EADA,IAGAoN,EACA,MACA,OAXR,UAcE,qBACEjN,UAAU,oCACVC,MAAO,CACL+R,OAAQnS,EACJqL,GACE+E,GACE,gBACA,EACF,gBACF,EACJ7P,QAASP,EACLqL,GACE+E,GACE,EACA,EACF,EACF,GAhBR,SAmBE,cAAC,KAAD,CACEY,IAAKD,GACLvE,KAAM,GACNlM,MAAO,mBACPF,MAAO,CAAEI,WAAY,iBACrBiK,SAAS,MAGb,cAAC,IAAD,CACE/C,QAAO,0CACLzH,EAAmB,WAAa,UAD3B,wBAGPiI,QACEmD,KACC+E,IACDpQ,GACA8P,IACAjN,EAAUgF,QAAQX,OAAS,KAC1BrC,IAAqBA,GAAmBqC,OAAS,KACjDlC,IACGA,GAAuBkC,OAAS,KAEnChC,IACGA,GAAwBgC,OAAS,KAEpC9B,IAAsBA,GAAoB8B,OAAS,KACnD5B,IAAqBA,GAAmB4B,OAAS,EAEpDkB,UAAWqI,GAAW,GACtBtQ,UAAU,iBACVwH,UAAU,OACVc,eAAgB,kBAAMsH,IAA0B,MAEjD/P,EACC,cAAC,IAAD,CACEM,MAAM,eACNH,UAAU,sBACVQ,QAAS,WACa,aAAhByK,EACEkF,IACFA,GAAYwC,YAGVvC,IACFA,GAAoBuC,YAIpBhD,IACFC,IAA0B,MAI9B,MACF/P,GACFmD,GACAuB,GACgB,aAAhB0G,EAA6B,KAC3B,cAAC,IAAD,CACE/C,IAAK,SAAC0K,GAAD,OAASzC,GAAcyC,GAC5BC,UAAU,EACVC,kBAAkB,EAClBC,qBAAqB,EACrBC,wBAAwB,EACxBC,eAAe,EACfC,mBAAmB,EACnBC,WAAY,CACVC,EAAG,CAAEC,MAAO,GACZC,IAAK,CAAED,MAAO,GACdE,KAAM,CAAEF,MAAO,GACfG,KAAM,CAAEH,MAAO,IAEjBI,UAAU,EACVJ,MAAO,CACL,cAAC,EAAD,CAEErI,uBAAwBA,EACxBC,YAAaA,EACbC,YAAaA,GACbC,kBAAmBA,IAJf,YAMN,cAAC,EAAD,CAEEa,iBAAkBA,EAClBD,qBAAsBA,EACtBd,YAAaA,GAHT,YAKN,cAAC,EAAD,CAEEkB,yBAA0BA,EAC1BC,gBAAiBA,EACjBnB,YAAaA,GAHT,YAKN,cAAC,EAAD,CAEEuB,wBAAyBA,EACzBC,eAAgBA,EAChBxB,YAAaA,GAHT,YAKN,cAAC,EAAD,CAEE0B,4BAA6BA,EAC7BC,mBAAoBA,EACpB3B,YAAaA,GAHT,YAKN,cAAC,EAAD,CAEE6B,8BAA+BA,EAC/BC,uCACEA,EAEF9B,YAAaA,EACbpI,OAAQA,EACRmK,YAAaA,EACblN,iBAAkBA,EAClBmN,eAAgBA,GATZ,eAcZ,cAAC,KAAD,CACEyG,QAAQ,EACR7F,OAAQ,IACRJ,MAAO,IACPxN,MAAO,CACLyL,QAAS5L,GAELD,EADA,OAGA,UAGR,cAAC,KAAD,CACE6T,QAAQ,EACR7F,OAAQ,IACRJ,MAAO,IACPxN,MAAO,CACLyL,QAAS5L,GAELD,EADA,OAGA,UAGR,cAAC,KAAD,CACE6T,QAAQ,EACR7F,OAAQ,IACRJ,MAAO,IACPxN,MAAO,CACLyL,QAAS5L,GAELD,EADA,OAGA,UAGR,cAAC,IAAD,CACE0H,QACEzH,EACI,KACA,4CAENiI,SACEjI,IAEoB,WAAhBmL,GACA4E,IACA3E,KACC+E,IAEPhI,UACEuI,GAA0BzJ,OAAS,EAC/ByJ,GAA0B,GAC1BA,GAA0B,GAEhCxQ,UAAU,+BACVwH,UAAU,MACVc,eAAgB,kBAAMwH,IAA6B,MAErD,cAAC,IAAD,CACEvI,QAAQ,8CACRQ,QACkB,WAAhBkD,GACA4E,IACA3E,KACC+E,GAEHhI,UACEuI,GAA0BzJ,OAAS,EAC/ByJ,GAA0B,GAC1BA,GAA0B,GAEhCxQ,UAAU,+BACVwH,UAAW1H,EAAmB,OAAS,QACvC6T,OAAQ7T,EAAmB,EAAE,IAAK,KAAO,CAAC,EAAG,IAC7CwI,eAAgB,kBAAMwH,IAA6B,MAEpD9M,GACDuB,IACC1E,GACe,aAAhBoL,EAA6B,KAC3B,cAAC,IAAD,CACE/C,IAAK,SAAC0K,GAAD,OAASxC,GAAsBwC,GACpCC,UAAU,EACVE,qBAAqB,EACrBC,wBAAwB,EACxBC,eAAe,EACfC,mBAAmB,EACnBU,wBAAwB,EACxBH,UAAU,EACVN,WAAY,CACVC,EAAG,CAAEC,MAAO,GACZC,IAAK,CAAED,MAAO,GACdE,KAAM,CAAEF,MAAO,GACfQ,IAAM,CAAER,MAAO,IAEjBA,MAAO,CACL,cAAC,EAAD,CAEElE,6BAA8BA,EAC9BnE,uBAAwBA,EACxB6D,uBAAwBA,EACxB/O,iBAAkBA,EAClBmN,eAAgBA,EAChBc,YAAaA,GANT,UAQN,cAAC,EAAD,CAEEhC,qBAAsBA,EACtBkD,6BAA8BA,EAC9BnP,iBAAkBA,EAClBmN,eAAgBA,EAChBc,YAAaA,GALT,UAON,cAAC,EAAD,CAEEpB,4BAA6BA,EAC7BuC,4BAA6BA,EAC7BpP,iBAAkBA,EAClBmN,eAAgBA,EAChBc,YAAaA,GALT,UAON,cAAC,EAAD,CAEE5B,yBAA0BA,EAC1BkD,yBAA0BA,EAC1BvP,iBAAkBA,EAClBmN,eAAgBA,EAChBc,YAAaA,GALT,UAON,cAAC,EAAD,CAEEvB,wBAAyBA,EACzB4C,wBAAyBA,EACzBtP,iBAAkBA,EAClBmN,eAAgBA,EAChBc,YAAaA,GALT,aAUXlO,EACC,cAAC,IAAD,CACEM,MAAM,eACNH,UAAU,uBACVQ,QAAS,WACa,aAAhByK,EACEkF,IACFA,GAAY2D,YAGV1D,IACFA,GAAoB0D,YAIpBnE,IACFC,IAA0B,MAI9B,e,gPC/0Bd,IAkEemE,GAlEO,SAACnU,GAAW,IACxBoU,EAA+DpU,EAA/DoU,QAASC,EAAsDrU,EAAtDqU,YAAaC,EAAyCtU,EAAzCsU,SAAUC,EAA+BvU,EAA/BuU,2BAElCvD,EAAWC,eAAH,MAKRxN,EAAqBJ,aACzB,SAACC,GAAD,OAAWA,EAAMI,0BAA0BC,QAGvCC,EAAaP,aAAY,SAACC,GAAD,OAAWA,EAAMO,kBAAkBC,SAElE,OACE,eAAC,KAAD,CAAU1D,UAAU,oBAApB,UACkB,IAAfwD,EACC,cAAC,KAAD,CACEqN,IAAKD,EACLvE,KAAM,GACNlM,MAAO8T,EACPhU,MAAO,CAAEI,WAAY,iBACrBiK,QACyB,KAAvBjH,GAC+B,kBAAvBA,GACNA,EAAmBwE,OAAOd,OAAS,MAGvCiN,EAAU,GACZ,cAAC,KAAD,CACEnD,IAAKD,EACLvE,KAAM,IACNlM,MAAO,oBACPF,MAAO,CAAEI,WAAY,iBACrBiK,QAAS0J,EAAU,KAGrB,eAAC,KAAD,CACE7B,MAAO6B,EACPI,OAAQC,aAAY,CAClBC,cAAe,OACfC,WAAY,SAJhB,UAOE,cAAC,KAAD,CAAapU,MAAM,OAAOkM,KAAK,SAC/B,qBAAKpM,MAAO,CAAEuU,SAAU,GAAIC,UAAW,GAAItU,MAAO,QAAlD,SACE,mCAAS6T,EAAT,YAIN,4BACGE,EACG,qCACe,IAAf1Q,EACA,+BACAwQ,EAAU,GAAV,wBAEA,oCAEU,IAAfxQ,GAAoBwQ,EAAU,GAC7B,qCAAQG,EAA2BzM,QAAnC,aACE,S,qBCmBKgN,GAlFU,SAAC9U,GAAW,IAC3B+U,EAAmC/U,EAAnC+U,YAAaC,EAAsBhV,EAAtBgV,kBAEfC,EAAiB5R,aACrB,SAACC,GAAD,OAAWA,EAAM4R,sBAAsBvR,QAEnCF,EAAqBJ,aACzB,SAACC,GAAD,OAAWA,EAAMI,0BAA0BC,QAPX,EAUO0C,mBAAS,GAVhB,mBAU3B8O,EAV2B,KAUdC,EAVc,KAsClC,OA1BAnO,qBAAU,WACR,GAAIgO,EAAe,GAAGF,EAAYM,KAAKC,YAAa,CAClD,IAAMC,EAMW,IALfC,OACEP,EAAe,GAAGF,EAAYM,KAAKC,YAChC/L,KAAI,SAACK,GAAD,OAAOA,EAAEzC,UACbsO,QAAO,SAACxL,EAAGC,GAAJ,OAAUD,EAAIC,IAAG,GACzBpL,EAAaiW,EAAYM,KAAKC,aAChCI,QAAQ,GAEQ,MAAhBP,EACFH,EAAkB,CAAEW,QAAQ,EAAON,KAAM,OAErCE,GAAYA,IAAaJ,GAC3BC,EAAkBG,MAIvB,CACDN,EACAF,EAAYM,KACZL,EACAG,EACA1R,EAAmB0D,SAInB,eAAC,KAAD,CACE4B,OAAQgM,EAAYY,OACpBtV,MAAO,CACLsH,QAAS,CACPiG,SAAU,QACVwE,OAAQ,IACR5R,QAAS,IACTyN,OAAQ,OACR2H,eAAgB,YAChBC,qBAAsB,YACtBC,cAAe,MACfC,aAAc,OACdlI,MAAO,QACPmI,IAAK,IACLC,KAAM,IACNtN,MAAO,IACPuN,OAAQ,IACRC,OAAQ,OACRrK,QAAS,OACTsK,cAAe,SACfC,WAAY,SACZC,eAAgB,SAChBC,WAAY,uBAtBlB,UA0BE,eAAC,KAAD,CACEhE,MAAO4C,EACPX,OAAQC,aAAY,CAClBC,cAAe,OACfC,WAAY,SAJhB,UAOE,cAAC,KAAD,CAAapU,MAAM,OAAOkM,KAAK,SAC/B,qBAAKpM,MAAO,CAAEuU,SAAU,GAAIC,UAAW,GAAItU,MAAO,QAAlD,SACE,mCAAS4U,EAAT,YAGJ,yCAAYJ,EAAYM,KAAxB,sBC9ESmB,GARiC,SAAC7S,EAAM8S,GACrD,MAAO,CACLvV,KAJqC,mCAKrCyC,OACA8S,cCGWC,GAP8B,SAAC/S,GAC5C,MAAO,CACLzC,KAJkC,gCAKlCyC,SCIWgT,GAP4B,SAAChT,GAC1C,MAAO,CACLzC,KAJgC,8BAKhCyC,SCIWiT,GAPsB,SAACC,GACpC,MAAO,CACL3V,KAJ0B,wBAK1B2V,eCIWC,GAPiB,SAACnT,GAC/B,MAAO,CACLzC,KAJqB,mBAKrByC,SCGWoT,GANsB,WACnC,MAAO,CACL7V,KAJ0B,0BCQf8V,GAN4B,WACzC,MAAO,CACL9V,KAJgC,gCCSrB+V,GAP8B,SAACtT,GAC5C,MAAO,CACLzC,KAJkC,gCAKlCyC,SCIWuT,GAP4B,SAACvT,GAC1C,MAAO,CACLzC,KAJgC,8BAKhCyC,SCIWwT,GAP6B,SAACxT,GAC3C,MAAO,CACLzC,KAJiC,+BAKjCyC,SCIWyT,GAP2B,SAACzT,GACzC,MAAO,CACLzC,KAJ+B,6BAK/ByC,SCIW0T,GAPyB,SAAC1T,GACvC,MAAO,CACLzC,KAJ6B,2BAK7ByC,SCLW,SAAS2T,KACtB,OAAO,IAAIC,OAAO,IAA0B,iECD9C,IASeC,GAPqB,SAACxS,GACnC,MAAO,CACL9D,KAJyB,uBAKzB8D,YCIWyS,GAPyB,SAACzS,GACvC,MAAO,CACL9D,KAJ6B,2BAK7B8D,YCIW0S,GAP0B,SAAC1S,GACxC,MAAO,CACL9D,KAJ8B,4BAK9B8D,YCIW2S,GAPqB,SAAC3S,GACnC,MAAO,CACL9D,KAJyB,uBAKzB8D,YCIW4S,GAPsB,SAAC5S,GACpC,MAAO,CACL9D,KAJ0B,wBAK1B8D,YCGW6S,GANuB,WACpC,MAAO,CACL3W,KAJ2B,2B,4HCS/B,IAqDe4W,GArDc,SAAC9X,GAAW,IAC/BuU,EAA+BvU,EAA/BuU,2BAEFwD,EAAqBrS,iBAAO,MAE5BsL,EAAWC,eAAH,MAKR7N,EAAkBC,aACtB,SAACC,GAAD,OAAWA,EAAMC,uBAAuBC,WAGpCmB,EAAetB,aAAY,SAACC,GAAD,OAAWA,EAAMsB,oBAAoBC,SActE,OAZAoC,qBAAU,WACJ8Q,GACEA,EAAmBjQ,UACjB1E,GAAmBuB,EACrBoT,EAAmBjQ,QAAQqB,OAE3B4O,EAAmBjQ,QAAQnH,WAIhC,CAACyC,EAAiBuB,IAGnB,cAAC,IAAD,CACEvE,UAAU,mBACVkI,IAAKyP,EACLrX,OAAK,EACLsX,sBAAsB,EACtBC,eAAe,EALjB,SAOE,sBAAK7X,UAAU,yBAAf,UACE,cAAC,KAAD,CACE6Q,IAAKD,EACLvE,KAAM,GACNlM,MAAO,mBACPF,MAAO,CAAEI,WAAY,iBACrBiK,SAAS,IAEX,8BACG/F,EAAe,YAAc,WADhC,aAEG4P,EAA2BzM,QAF9B,mBC7COoQ,GANgC,WAC7C,MAAO,CACLhX,KAJoC,oCCQzBiX,GAN0B,WACvC,MAAO,CACLjX,KAJ8B,8BCQnBkX,GANiB,WAC9B,MAAO,CACLlX,KAJqB,qBCQVmX,GANqB,WAClC,MAAO,CACLnX,KAJyB,yB,mBCQdoX,GANoB,WACjC,MAAO,CACLpX,KAJwB,wBC6C5BqX,KAAMC,OAAOC,MAEb,IA+kDeC,GA/kDH,WACV,IAAMxV,EAAWC,cAEXnB,EAAWqB,aAAY,SAACC,GAAD,OAAWA,EAAMqV,gBAAgBhV,QACxDiV,EAAsBvV,aAC1B,SAACC,GAAD,OAAWA,EAAMuV,oBAAoBC,WAEjCrV,EAAqBJ,aACzB,SAACC,GAAD,OAAWA,EAAMI,0BAA0BC,QAEvCoV,EAAyB1V,aAC7B,SAACC,GAAD,OAAWA,EAAM0V,8BAA8BC,YAG3C7V,EAAkBC,aACtB,SAACC,GAAD,OAAWA,EAAMC,uBAAuBC,WAEpCmB,EAAetB,aAAY,SAACC,GAAD,OAAWA,EAAMsB,oBAAoBC,SAEhEjB,EAAaP,aAAY,SAACC,GAAD,OAAWA,EAAMO,kBAAkBC,SAE5DoV,EAA4B7V,aAChC,SAACC,GAAD,OAAWA,EAAM6V,iCAAiCxV,QAE9CyV,EAA2B/V,aAC/B,SAACC,GAAD,OAAWA,EAAM+V,gCAAgC1V,QAE7C2V,EAA4BjW,aAChC,SAACC,GAAD,OAAWA,EAAMiW,iCAAiC5V,QAE9C6V,EAA0BnW,aAC9B,SAACC,GAAD,OAAWA,EAAMmW,+BAA+B9V,QAE5C+V,EAAwBrW,aAC5B,SAACC,GAAD,OAAWA,EAAMqW,6BAA6BhW,QAI1CmB,EAAqBzB,aACzB,SAACC,GAAD,OAAWA,EAAMyB,0BAA0BC,WAEvCC,EAAyB5B,aAC7B,SAACC,GAAD,OAAWA,EAAM4B,8BAA8BF,WAE3CG,EAA0B9B,aAC9B,SAACC,GAAD,OAAWA,EAAM8B,+BAA+BJ,WAE5CK,EAAsBhC,aAC1B,SAACC,GAAD,OAAWA,EAAMgC,2BAA2BN,WAExCO,EAAqBlC,aACzB,SAACC,GAAD,OAAWA,EAAMkC,0BAA0BR,WAnD7B,EAsDqBqB,oBAAS,GAtD9B,mBAsDTuT,EAtDS,KAsDEC,EAtDF,OAuD+BxT,oBAAS,GAvDxC,mBAuDTC,EAvDS,KAuDOC,EAvDP,OAwDyBF,mBAAS,qBAxDlC,mBAwDTgO,EAxDS,KAwDIyF,EAxDJ,OAyDmBzT,oBAAS,GAzD5B,mBAyDTiO,EAzDS,KAyDCyF,EAzDD,OA0DyB1T,mBAAS,CAChDsP,QAAQ,EACRN,KAAM,OA5DQ,mBA0DTN,EA1DS,KA0DIC,EA1DJ,OA8DqC3O,oBAAS,GA9D9C,mBA8DT2T,EA9DS,KA8DUC,EA9DV,OAkEZ5T,oBAAS,GAlEG,mBAgEd6T,GAhEc,KAiEdC,GAjEc,QAmEyB9T,mBAAS,YAnElC,qBAmETgF,GAnES,MAmEI8D,GAnEJ,SAoEmC9I,oBAAS,GApE5C,qBAoETpG,GApES,MAoESmP,GApET,SAsE+B/I,mBAAS,CACtDpF,SAAU,GACVG,QAAS,GACTE,IAAK,GACLE,KAAM,GACNE,IAAK,GACLE,QAAS,KA5EK,qBAsEToB,GAtES,MAsEOoX,GAtEP,MA+EVjM,GAAckM,yBAAc,CAAErS,SAAU,MACxC9H,GAAmBma,yBAAc,CAAErS,SAAU,OAC7CjF,GAAWsX,yBAAc,CAAExS,SAAU,MACrCwF,GAAiBgN,yBAAc,CAAErS,SAAU,OAC3CsS,GAAaD,yBAAc,CAAEE,YAAa,aAnFhC,GAqF2BlU,oBAAS,GArFpC,qBAqFT9D,GArFS,MAqFKD,GArFL,SAsFqC+D,oBAAS,GAtF9C,qBAsFT7D,GAtFS,MAsFUC,GAtFV,SAuF2B4D,mBAAS,IAvFpC,qBAuFTmU,GAvFS,MAuFKC,GAvFL,SA0F+BpU,mBAAS,IA1FxC,qBA0FTqU,GA1FS,MA0FOC,GA1FP,SA2FiDtU,mBAAS,IA3F1D,qBA2FTuU,GA3FS,MA2FgBC,GA3FhB,SA4F2CxU,mBAAS,IA5FpD,qBA4FTyU,GA5FS,MA4FaC,GA5Fb,SA6F+C1U,mBAAS,IA7FxD,qBA6FT2U,GA7FS,MA6FeC,GA7Ff,SAiGZ5U,mBAAS,IAjGG,qBA+Fd6U,GA/Fc,MAgGdC,GAhGc,SAmGuB9U,oBAAS,GAnGhC,qBAmGT+U,GAnGS,MAmGGC,GAnGH,SAsGyBhV,oBAAS,GAtGlC,qBAsGT3D,GAtGS,MAsGIC,GAtGJ,SAuG2B0D,mBAAS,IAvGpC,qBAuGTzD,GAvGS,MAuGKC,GAvGL,MAyGZC,GAAY4C,iBAAO,IACnB6O,GAA6B7O,iBAAO,GAClC4V,GAAY5V,iBAAO,MAEnB6V,GAAkBhD,KACtBzZ,EAAY,gBACZ,gBACA0c,OAAO,QAGTvU,qBAAU,WACRwU,KAAMC,cAAc,UACnB,IAGH,IAsBMtO,GAAc,SAACmF,GACnB,IAAMjK,EAAM5C,mBAIZ,OAHAuB,qBAAU,WACRqB,EAAIR,QAAUyK,KAETjK,EAAIR,SAGP6T,GAAcvO,GAAYpK,IAtJhB,GAwJY4Y,sBAAW,CACrCC,MAAO,EACPC,IACE9Z,EAASmF,OAAS,EAEd,IADAqO,QAAQxT,EAASmF,OAASrI,EAAayc,KAAkB7F,QAAQ,IAEjE,EACNqG,MAAO,EACPvT,SAAU,IARJ4L,GAxJQ,GAwJRA,QAAS4H,GAxJD,GAwJCA,OAWjB/U,qBAAU,WACR,GAAIjF,EAASmF,OAAS,EAAG,CACvB,IAAMgO,EAEJ,IADAK,QAAQxT,EAASmF,OAASrI,EAAayc,KAAkB7F,QAAQ,IAIjEsG,GADE7G,GAAe,GACV,IAEAA,MAGV,CAAC6G,GAAQ5H,GAASpS,EAAUuZ,KAE/B,IAAMtY,GAAS,SAACgZ,EAAMC,GAAP,OACbD,EAAK9U,SAAW+U,EAAK/U,QACrB8U,EAAKE,OAAM,SAACxV,EAAMe,GAChB,OAAOf,IAASuV,EAAKxU,OApLT,GAuLmBrB,mBAAS,IAvL5B,qBAuLT+V,GAvLS,MAuLCC,GAvLD,SAwLiBhW,mBAAS,IAxL1B,qBAwLTiW,GAxLS,MAwLAC,GAxLA,SAyLuBlW,mBAAS,IAzLhC,qBAyLTmW,GAzLS,MAyLGC,GAzLH,SA0L6CpW,mBAAS,IA1LtD,qBA0LTqW,GA1LS,MA0LcC,GA1Ld,SA2L+CtW,mBAAS,IA3LxD,qBA2LT+E,GA3LS,MA2LewR,GA3Lf,SA4LmCvW,mBAAS,IA5L5C,qBA4LT+F,GA5LS,MA4LSyQ,GA5LT,SA6L+BxW,mBAAS,IA7LxC,qBA6LTwG,GA7LS,MA6LOiQ,GA7LP,SA8LiCzW,mBAAS,IA9L1C,qBA8LTmG,GA9LS,MA8LQuQ,GA9LR,SA+LuC1W,mBAAS,IA/LhD,qBA+LT2G,GA/LS,MA+LWgQ,GA/LX,SAmMZ3W,mBAAS,IAnMG,qBAiMd6G,GAjMc,MAkMd+P,GAlMc,SAoM+C5W,mBAAS,IApMxD,qBAoMT4I,GApMS,MAoMeiO,GApMf,SAwMZ7W,mBAAS,IAxMG,qBAsMdgJ,GAtMc,MAuMd8N,GAvMc,SA4MZ9W,mBAAS,IA5MG,qBA0MdiJ,GA1Mc,MA2Md8N,GA3Mc,SAgNZ/W,mBAAS,IAhNG,qBA8MdkJ,GA9Mc,MA+Md8N,GA/Mc,SAiNiDhX,mBAAS,IAjN1D,qBAiNTmJ,GAjNS,MAiNgB8N,GAjNhB,SAkNmDjX,mBACjE,IAnNc,qBAkNToJ,GAlNS,MAkNiB8N,GAlNjB,MAsNVC,GAA4BC,uBAChC,SAACC,EAAQC,EAASC,EAAaC,EAAQC,GACjC5C,KAEFA,GAAyC6C,YAAY,CACnDL,SACAC,UACAC,cACAC,SACAC,eAGF5C,GAAyC8C,UAAY,SAACC,GACpD1J,GAA2BzM,SAAW,GAEtC,IAAMoR,EACJ+E,EAAata,KAAKuV,0BACdQ,EAAwBuE,EAAata,KAAK+V,sBAC1CJ,EACJ2E,EAAata,KAAK2V,0BACdE,EACJyE,EAAata,KAAK6V,wBACdJ,EACJ6E,EAAata,KAAKyV,yBAEpBlW,EACE+T,GAAqCiC,IAEvChW,EACEgU,GAAmCkC,IAErClW,EACEiU,GAAoCmC,IAEtCpW,EAASkU,GAAkCoC,IAC3CtW,EAASmU,GAAgCqC,QAI/C,CAACwB,GAA0ChY,IAGvCgb,GAAuBT,uBAC3B,SACErB,EACAE,EACAE,EACAE,EACAtQ,EACAS,EACAL,EACAQ,EACAE,GAEI4N,KAEFA,GAAqBiD,YAAY,CAC/B3B,WACAE,UACAE,aACAE,wBACAtQ,mBACAS,iBACAL,kBACAQ,qBACAE,kCAGF4N,GAAqBkD,UAAY,SAACC,GAChC1J,GAA2BzM,SAAW,GAEtC,IAAMqW,EAAaC,KAAKC,MAAMJ,EAAata,MAErCxB,EAAegc,EAAWhc,aAC1BF,EAAmBkc,EAAWlc,iBAC9BC,EAAsBic,EAAWjc,oBACjCwa,EAAwByB,EAAWzB,sBACnCvQ,EAAuBgS,EAAWhS,qBAClCS,EAA0BuR,EAAWvR,wBACrCL,EAA2B4R,EAAW5R,yBACtCQ,EACJoR,EAAWpR,4BACPI,EACJgR,EAAWhR,uCAEbmR,GAA2BnS,GAC3BoS,GAA+BhS,GAC/BiS,GAA8B5R,GAC9B6R,GAAkC1R,GAClC2R,GACEvR,GAEFwR,GAAmBxc,GACnByc,GAAuB3c,GACvB4c,GAA0B3c,GAC1B4c,GAAqCpC,GACrCvC,IAAkC,OAIxC,CAACW,KAGGiE,GAAwBtB,uBAC5B,SAACzb,EAAUyB,EAAoBT,GACzB4X,KAEFA,GAAwBmD,YAAY,CAClC/b,WACAyB,qBACAT,mBAGF4X,GAAwBoD,UAAY,SAACC,GACnC1J,GAA2BzM,SAAW,GAEtC,IAAMqW,EAAaC,KAAKC,MAAMJ,EAAata,MAErCyY,EAAW+B,EAAW/B,SACtBE,EAAU6B,EAAW7B,QACrBE,EAAa2B,EAAW3B,WACxBE,EAAwByB,EAAWzB,sBACnCtR,EAAyB+S,EAAW/S,uBACpCgB,EAAmB+R,EAAW/R,iBAC9BS,EAAiBsR,EAAWtR,eAC5BL,EAAkB2R,EAAW3R,gBAC7BQ,EAAqBmR,EAAWnR,mBAChCE,EACJiR,EAAWjR,8BACP+B,EAAyBkP,EAAWlP,uBAE1CiP,GACE9B,EACAE,EACAE,EACAE,EACAtQ,EACAS,EACAL,EACAQ,EACAE,GAGFmP,GAAeD,GACfG,GAAcD,GACdG,GAAiBD,GACjBG,GAA4BD,GAC5BE,GAA6BxR,GAC7ByR,GAAuBzQ,GACvB0Q,GAAqBjQ,GACrBkQ,GAAsBvQ,GACtBwQ,GAAyBhQ,GACzBiQ,GAAoC/P,GACpCgQ,GAA6BjO,OAInC,CAAC2L,GAAyBsD,KAGtBc,GAAuBvB,uBAC3B,SAACwB,GACKjE,KAEFA,GAAuB+C,YAAY,CAAEkB,UAErCjE,GAAuBgD,UAAY,SAACC,GAClC1J,GAA2BzM,SAAW,GAEtC,IAAMqW,EAAaC,KAAKC,MAAMJ,EAAata,MAErCub,EAAYf,EAAWe,UACvBtd,EAAUuc,EAAWvc,QACrBX,EAAWkd,EAAWld,SACtBS,EAAMyc,EAAWzc,IACjBF,EAAO2c,EAAW3c,KAExB2b,GAAmC+B,GACnC9B,GAAkCxb,GAClCyb,GAAmCpc,GACnCqc,GAA8B5b,GAC9B6b,GAA+B/b,OAIrC,CAACwZ,KA/Ya,GAkZ2C3U,mBAAS,IAlZpD,qBAkZT8F,GAlZS,MAkZamS,GAlZb,SAmZmDjY,mBACjE,IApZc,qBAmZTkG,GAnZS,MAmZiBgS,GAnZjB,SAsZiDlY,mBAAS,IAtZ1D,qBAsZTuG,GAtZS,MAsZgB4R,GAtZhB,SA0ZZnY,mBAAS,IA1ZG,qBAwZd0G,GAxZc,MAyZd0R,GAzZc,SA8ZZpY,mBAAS,IA9ZG,qBA4Zd8G,GA5Zc,MA6ZduR,GA7Zc,SA+Z2BrY,mBAAS,IA/ZpC,qBA+ZTlE,GA/ZS,MA+ZKwc,GA/ZL,SAgamCtY,mBAAS,IAha5C,qBAgaTpE,GAhaS,MAgaS2c,GAhaT,SAiayCvY,mBAAS,IAjalD,qBAiaTnE,GAjaS,MAiaY2c,GAjaZ,SAqaZxY,mBAAS,IAraG,qBAmadjE,GAnac,MAoad0c,GApac,MAuahB7X,qBAAU,WACJiT,KACFC,IAAkC,GAElCqD,GACE,CAAE2B,OAAQhT,GAAsBxI,KAAM0L,IACtC,CAAE8P,OAAQ5S,GAA0B5I,KAAM8L,IAC1C,CAAE0P,OAAQlQ,GAAwBtL,KAAM4L,IACxC,CAAE4P,OAAQvS,GAAyBjJ,KAAM6L,IACzC,CACE2P,OAAQpS,GACRpJ,KAAM2L,QAIX,CACDgK,EAA0BnS,OAC1BgF,GACAY,GACAR,GACAK,GACAyC,GACAC,GACAC,GACAE,GACAD,GACAP,GACAuO,GACAtD,KAGF,IAAMkF,GAAe3B,uBAAY,WACY,IAAvClJ,GAA2BzM,UAC7ByM,GAA2BzM,QAAU,GAGvC,IAAMuX,EAAgB5b,EAAmB8F,KAAI,SAAC5C,GAAD,OAC3C6O,OAAO+C,KAAM5R,EAAK,GAAL,YAAwB,cAAc6U,OAAO,YAG5D1Y,GAAUgF,QAAUrE,EAAmB8F,KAAI,SAAC0V,EAAOK,GACjD,IAAMC,EAAchH,KAAM0G,EAAM,GAAN,YAAyB,cAAczD,OAC/D,QAGF,OAAO,IAAIgE,IAAiB,CAC1BC,GAAG,SAAD,OAAWH,GACb3b,KAAMsb,EACN9W,QAASkX,EAAcpX,OAAOxB,SAAS+O,OAAO+J,IAC9CG,QAAQ,EACRC,gBAAiB,EACjBC,YAAa,SAACC,GAAD,MAAO,CAACrK,OAAOqK,EAAEC,WAAYtK,OAAOqK,EAAEE,YACnDC,aAAc,SAACH,GAAD,MACK,MAAjBA,EAAEI,WACE,CAAC,IAAK,EAAG,GACQ,MAAjBJ,EAAEI,WACF,CAAC,IAAK,IAAK,GACX,CAAC,IAAK,IAAK,IACjBC,UAAU,EACVC,iBAAiB,SAGpB,CAAC1c,IAEJwD,qBAAU,WACR,IAAMmZ,EAAgBthB,EAAayc,IAE/BxC,IACF7V,EAASgV,MACLtU,IAAewc,GAAiBpe,EAASmF,SAAWiZ,IACtDld,EAASyT,GAAmC,CAAC3U,KAE7CkB,EAAS6T,UAGZ,CAACgC,EAAwB/W,EAAUkB,EAAUU,EAAY2X,KAE5DtU,qBAAU,WACH2R,GACCoB,GACFC,GAAwB,KAG3B,CAACrB,EAAqBoB,IAEzB/S,qBAAU,WAGJrD,EAAa,GAAKA,IAFA9E,EAAayc,KAG7B3C,IACGoB,IACHoF,KAEAL,GAAsB/c,EAAUyB,EAAoBT,IACpDgc,GAAqBvb,GAErBP,EAAS8T,OAGXiD,GAAwB,MAG3B,CACDsB,GACAvZ,EACAgY,EACAhX,GACA4V,EACAwG,GACAhD,GACAI,GACApQ,GACAY,GACAE,GACAV,GACAK,GACA6P,GACAqC,GACAzC,GACApZ,EACAO,EACAub,GACA/P,GACAM,GACA3L,IAGF,IAAMyc,GAAgCjT,GAAY8L,GAC5CoH,GAA+BlT,GAAYgM,GAC3CmH,GAAgCnT,GAAYkM,GAC5CkH,GAA8BpT,GAAYoM,GAC1CiH,GAA4BrT,GAAYsM,GAE9CzS,qBAAU,WAqDR,GApDIiS,IAA8BmH,IAC5BnH,EAA0B/R,OAAS,GAEnCgF,GAAqBhF,SACrB+R,EAA0B,GAAG/R,OAAS,GAEtCjE,EACEsU,GACE,CACE,CAAC,CAAEtW,KAAM,OAAQwf,MAAO,SAAUrU,OAChCF,GACGpF,MAAK,SAACkD,EAAGC,GAAJ,OAAUD,EAAEE,cAAcD,MAC/BX,KAAI,SAAC5C,GAAD,MAAoB,OAATA,EAAgB,MAAQA,OAE5C0F,OAAO6M,KAOfE,IAA6BkH,IAC3BlH,EAAyBjS,OAAS,GAElC4F,GAA4B5F,SAC5BiS,EAAyB,GAAGjS,OAAS,GAErCjE,EACEuU,GACE,CACE,CAAC,CAAEvW,KAAM,OAAQwf,MAAO,SAAUrU,OAChCU,GAA4BxD,KAAI,SAAC3H,GAAD,MAClB,MAAZA,EACI,QACY,MAAZA,EACA,SACY,MAAZA,EACA,YACY,MAAZA,EACA,WACY,MAAZA,EACA,gBACA,eAGRyK,OAAO+M,KAOfE,IAA8BiH,IAE9BjH,EAA0BnS,OAAS,GACnC8H,GAAuB9H,OAAS,EAChC,CACA,IAAMwZ,EAAW,YACZ,IAAIC,IACL3R,GAAuB1F,KAAI,SAACK,GAAD,MACnB,MAANA,EAAY,SAAiB,MAANA,EAAY,cAAgB,iBAKrD+W,EAAYxZ,SAAWmS,EAA0B,GAAGnS,OAAS,GAC/DjE,EACEwU,GACE,CAAC,CAAC,CAAExW,KAAM,OAAQwf,MAAO,SAAUrU,OAAOsU,IAActU,OACtDiN,KAQZ,GAAIE,IAA4BgH,IAC1BhH,EAAwBrS,OAAS,EAAG,CACtC,IAAM0Z,EAAYjU,GAAwBrD,KAAI,SAACK,GAAD,MACtC,MAANA,EAAY,SAAW,UAGrBiX,EAAU1Z,SAAWqS,EAAwB,GAAGrS,OAAS,GAC3DjE,EACEyU,GACE,CAAC,CAAC,CAAEzW,KAAM,OAAQwf,MAAO,SAAUrU,OAAOwU,IAAYxU,OACpDmN,KAQZ,GAAIE,IAA0B+G,IACxB/G,EAAsBvS,OAAS,EAAG,CACpC,IAAMmV,EAAU/P,GAAyBhD,KAAI,SAAC/H,GAAD,OAC3CA,EACGmI,MAAM,KACNJ,KAAI,SAACK,GAAD,OAAOA,EAAE,GAAGC,cAAgBD,EAAE/C,MAAM,GAAGiD,iBAC3CC,KAAK,KACLJ,MAAM,KACNJ,KACC,SAACK,GAAD,OACEA,EAAE,GAAGC,cACLD,EAAE/C,MAAM,EAAG+C,EAAEI,QAAQ,MAAMF,cAC3BF,EAAE/C,MAAM+C,EAAEI,QAAQ,SAErBD,KAAK,QAGNuS,EAAQnV,SAAWuS,EAAsB,GAAGvS,OAAS,GACvDjE,EACE0U,GACE,CAAC,CAAC,CAAE1W,KAAM,OAAQwf,MAAO,SAAUrU,OAAOiQ,IAAUjQ,OAClDqN,KAMRxW,EAASkV,MAELhV,GACFF,EAAS2U,MAGPlT,GACFzB,EAASoV,SAId,CACDY,EACAE,EACAE,EACApW,EACAiJ,GACAqN,EACA6G,GACAC,GACAC,GACAC,GACAC,GACA/G,EACA3M,GACAkC,GACA1C,GACAK,GACAxJ,EACAuB,IAGFsC,qBAAU,WACR,GAAKqN,EAiBHwF,EAAkB,uBAhBlB,IADc,IAAD,aAEX,IAAMgH,EAAsB3P,aAAY,WAEpC2I,EADkB,sBAAhBzF,EACgB,qBACO,uBAAhBA,EACS,UAEA,uBAEnB,KAEH,MAAM,CAAN,EAAO,WACLrC,cAAc8O,MAZI,IAAfld,GAAkB,CAAC,IAAD,2CAkB1B,CAACA,EAAYyQ,EAAaC,IAE7B,IAEMyM,GAActD,uBAClB,SAACuD,EAAQpX,EAAGqX,GACV,IAAMjO,EAAKpN,SAASC,uBAAuB,gBAAgB,GAE3D,GAAImb,EAAQ,CACL1a,IACHC,GAAqB,GACrBX,SAASsb,iBAAiB,cAAc,kBAAOlO,EAAG3S,MAAMG,QAAU,MAH1D,IAOR2gB,EAOEH,EAPFG,YACAlB,EAMEe,EANFf,WACAmB,EAKEJ,EALFI,UACAC,EAIEL,EAJFK,QACAC,EAGEN,EAHFM,UACAC,EAEEP,EAFFO,SACAC,EACER,EADFQ,UAEFxO,EAAGyO,UAAH,gDAC8BN,EAD9B,+CAGiB,MAAflB,EACI,SACe,MAAfA,EACA,cACA,YAPN,8CASuBmB,EATvB,0DAUmCC,EAVnC,8DAWuCC,EAXvC,wDAae,MAAbC,EAAmB,OAAS,SAb9B,yDAekCC,EAAU1X,cACzCH,MAAM,KACNJ,KAAI,SAACK,GAAD,OAAOA,EAAE,GAAGC,cAAgBD,EAAE/C,MAAM,MACxCkD,KAAK,KAlBR,UAoBAiJ,EAAG3S,MAAMyL,QAAU,eACnBkH,EAAG3S,MAAMkW,WAAa,OACtBvD,EAAG3S,MAAME,MAAQ,qBACjByS,EAAG3S,MAAMuU,SAAW,OACpB5B,EAAG3S,MAAMqhB,aAAe,aACxB1O,EAAG3S,MAAMshB,WAAa,OACtB3O,EAAG3S,MAAM2H,SAAW,QACpBgL,EAAG3S,MAAMG,QAAU,GACnBwS,EAAG3S,MAAM4V,KAAOrM,EAAI,KACpBoJ,EAAG3S,MAAM2V,IAAMiL,EAAI,UAEf3a,GACFC,GAAqB,GAEvByM,EAAG3S,MAAMG,QAAU,IAGvB,CAAC8F,IAGGsb,GAAkBnE,uBACtB,SAACwB,EAAOxI,EAAWoL,EAAcC,GAE3BD,GACF3e,EAASwT,GAAqCuI,EAAMtb,OAEpDT,EAAS4T,GAAwBmI,EAAMtb,SAEnCme,GACF5e,EAASiV,MAIXjV,EACEsT,GAAwCyI,EAAMtb,KAAM8S,IAGtDvT,EAAS4T,GAAwBmI,EAAMtb,UAG3C,CAACT,IAGG6e,GAAYtE,uBAChB,SAACpI,EAAMoB,GACDiE,KAEFA,GAAeqD,YAAY1I,GAE3BqF,GAAesD,UAAY,SAACC,GAC1B,IAAMta,EAAOya,KAAKC,MAAMJ,EAAata,MAC/Bwa,EAAaC,KAAKC,MAAM1a,EAAKA,MAC7Bqe,EAAW7D,EAAW6D,SACtBH,EAAe1D,EAAW0D,aAC1BC,EAAc3D,EAAW2D,YAE/B5e,EAAS0T,GAA6BoL,EAAS7a,SAE/Cya,GACE,CACEvM,KAAM1R,EAAK0R,KACX1R,KAAMqe,GAERvL,EACAoL,EACAC,OAKR,CAACF,GAAiBlH,GAAgBxX,IA+mBpC,OApjBA+D,qBAAU,WACJjE,IAAkB2Y,KACf1Y,GAAOgf,OAAOC,OAAOlf,IAAiBif,OAAOC,OAAOvG,MACvDyD,QAGH,CAACpc,GAAgB2Y,GAAayD,GAAclc,EAAUO,IAEzDwD,qBAAU,WACR,IAAK2T,GAAyB,CAC5B,IAmNMuH,EAAUC,IAAIC,gBAClB,IAAIC,KAAK,CApNG,8vMAoNS,CAAEphB,KAAM,4BAGzBqhB,EAAkB,IAAIhL,OAAO4K,GAEnCtH,GAA8B0H,MAE/B,CAAC3H,KAEJ3T,qBAAU,WACR,IAAK+T,GAAwB,CAC3B,IAoEMmH,EAAUC,IAAIC,gBAClB,IAAIC,KAAK,CArEG,8gEAqES,CAAEphB,KAAM,4BAGzBshB,EAAiB,IAAIjL,OAAO4K,GAElClH,GAA6BuH,MAE9B,CAACxH,KAEJ/T,qBAAU,WACR,IAAKiU,GAA0C,CAC7C,IAAMuH,EAAS,IAAIC,GAEnBvH,GAA+CsH,MAEhD,CAACvH,KAEJjU,qBAAU,WACR,IAAK6T,GAAsB,CACzB,IA0GMqH,EAAUC,IAAIC,gBAClB,IAAIC,KAAK,CA3GG,kjHA2GS,CAAEphB,KAAM,4BAGzByhB,EAAe,IAAIpL,OAAO4K,GAEhCpH,GAA2B4H,MAE5B,CAAC7H,KAEJ7T,qBAAU,WACR,IAAKyT,GAAgB,CAEnB,IAAMyH,EAAUC,IAAIC,gBAClB,IAAIC,KACF,CACE,IAEC,WAEC,IAAIM,EAAK,GAKPA,EAAK,IAAIC,UAFI,uCAOf7E,UAAY,SAACpS,GACX,IAAMyJ,EAAOzJ,EAAEjI,KAEO,IAAlBif,EAAGE,YAELF,EAAGG,KAAK1N,GAGVuN,EAAGI,OAAS,WAEV7R,aAAY,WACVyR,EAAGG,KAAK,OACP,MAGHH,EAAGG,KAAK1N,IAIVuN,EAAG5E,UAAY,YAAe,IAAZra,EAAW,EAAXA,KAEZA,GACFoa,YAAYK,KAAK6E,UAAU,CAAE5N,KAAMA,EAAM1R,KAAMA,QAIpD2R,WAEH,OAEF,CAAEpU,KAAM,4BAINgiB,EAAe,IAAI3L,OAAO4K,GAEhCxH,GAAqBuI,MAEtB,CAACxI,KAEJzT,qBAAU,WACJyT,KACsB,IAApB1Y,EAASmF,OACiB,IAAxBqT,GAAarT,SACXjH,GACEoa,KACFG,GAAmB,CAACjF,OAAO+F,MAC3BwG,GAAUvM,OAAO+F,IAAkB9X,EAAmB0D,UAGxDsT,GAAmB,CAACjF,OAAO+F,MAC3BwG,GAAUvM,OAAO+F,IAAkB9X,EAAmB0D,UAItDqT,GAAarT,OAAS,GAAyB,IAApBnF,EAASmF,SACtC4a,GAAUvH,GAAa,GAAI/W,EAAmB0D,QAC9CsT,GAAmB,QAIxB,CACDc,GACAb,GACAqH,GACAvH,GACA/W,EAAmB0D,OACnBmT,GACApa,GACA8B,EAASmF,OACTvD,IAGFqD,qBAAU,WACJrD,EAAa,KAEbkB,GACAG,GACAE,GACAE,GACAE,GAEIT,EAAmBqC,OAAS,GAC1BlC,EAAuBkC,OAAS,GAC9BhC,EAAwBgC,OAAS,GAC/B9B,EAAoB8B,OAAS,GAC3B5B,EAAmB4B,OAAS,IACzBiU,IACHC,IAAiB,MAShC,CACDzX,EACAwX,GACAtW,EACAG,EACAE,EACAE,EACAE,IAIA,gCACE,sBACEnF,UAAU,yBACVC,MAAO,CACLyL,QAAS5L,GAAoBoa,GAAa,OAAS,OAAU,QAHjE,UAME,cAAC,KAAD,IACA,+GAK4B,IAA7BxX,GAAUgF,QAAQX,QAClBrC,GAAmD,IAA9BA,EAAmBqC,QACxClC,GAA2D,IAAlCA,EAAuBkC,QAChDhC,GAA6D,IAAnCA,EAAwBgC,QAClD9B,GAAqD,IAA/BA,EAAoB8B,QAC1C5B,GAAmD,IAA9BA,EAAmB4B,OAOrC,KANF,cAAC,GAAD,CACEiN,QAASA,GACTC,YAAaA,EACbC,SAAUA,EACVC,2BAA4BA,KAG/BQ,EAAYY,QAAUZ,EAAYM,KACjC,cAAC,GAAD,CACEN,YAAaA,EACbC,kBAAmBA,IAEnB,KACJ,eAAC,KAAD,CACE5U,UAAU,4BACVC,MAAO,CACLG,QAC+B,IAA7BsC,GAAUgF,QAAQX,QACjBrC,GAAmD,IAA9BA,EAAmBqC,QACxClC,GACqC,IAAlCA,EAAuBkC,QAE1BhC,GACsC,IAAnCA,EAAwBgC,QAE3B9B,GAAqD,IAA/BA,EAAoB8B,QAC1C5B,GAAmD,IAA9BA,EAAmB4B,OAErC,EADA,GAdV,UAkBE,cAAC,EAAD,CACEnF,SAAUA,EACVC,iBAAkBA,GAClBC,oBAAqBA,GACrBE,+BAAgCA,GAChCD,aAAcA,GACdE,WArqBW,SACjBpB,EACAG,EACAE,EACAE,EACAE,EACAE,EACAuhB,GAEIjI,KACyC,IAAvC3G,GAA2BzM,UAC7ByM,GAA2BzM,QAAU,GAGnB,WAAhBuD,IACF8D,GAAkB,YAEpBtM,GAAmB,IACnBF,IAAkB,GAClBO,EAASmV,MAGT6C,GAAyC6C,YAAY,CACnD9c,SAAUA,EACVG,QAASA,EACTE,IAAKA,EACLE,KAAMA,EACNE,IAAKA,EACLE,QAASA,EACTuhB,aAAcA,IAGhBjI,GAAyC8C,UAAY,SAACC,GACpD,IAAMmF,EAAqBnF,EAAata,KAAKyf,mBAEzCA,IACFlgB,EAASyT,GAAmCyM,IAE5ChJ,GAAqB,CACnBnZ,SAAUA,EACVG,QAASA,EACTE,IAAKA,EACLE,KAAMA,EACNE,IAAKA,EACLE,QAASA,IAGXsB,EAAS6T,QAIb1P,YAAW,kBAAM/E,IAAmB,KAAQ,KAC5C+E,YAAW,kBAAM5E,IAAwB,KAAQ,OAknB7CH,mBAAoBA,GACpBC,aAAcA,GACdC,kBAAmBA,GACnBC,wBAAyBA,GACzBC,YAAaA,GACbC,kBAAmBA,GACnBC,aAAcA,GACdC,mBAAoBA,GACpBC,UAAWA,GACX7C,iBAAkBA,GAClBC,iBAAkBA,GAClB6C,SAAUA,GACVC,eAAgBA,GAChBC,OAAQA,KAEV,cAAC,IAAD,CACEogB,iBAAkB,CAChBC,WAAY,UACZC,SAAU,SACVC,KAAMC,OAAOC,WAAa,KAAO,EAAI,GACrCC,QAAS,EACTC,MAAO,EACPC,QAAS,GAEXvb,IAAKgT,GACLwI,OAAQhhB,GAAUgF,QAClBic,cAAe,GACfC,YAAY,EACZC,OAAQ,kBAAMpK,GAAgB,IAC9BqK,QAAS,kBAAMnK,GAAe,IAC9BoK,QAAS,gBAAGnD,EAAH,EAAGA,OAAQpX,EAAX,EAAWA,EAAGqX,EAAd,EAAcA,EAAd,OACPhhB,GAAmB,KAAO8gB,GAAYC,EAAQpX,EAAGqX,IAEnDd,iBAAiB,EAlBnB,SAoBE,cAAC,IAAD,CACEiE,SAAS,iCACTC,qBAAqB,EACrBC,qBA9zBIC,wGAi0BP3K,EACC,qCACE,cAAC,GAAD,CACErF,2BAA4BA,KAE9B,cAAC,GAAD,CACEtR,OAAQA,GACRmY,WAAYA,GACZpZ,SAAUA,EACVsE,eAAgBA,EAChB3B,aAAcA,EACdyG,uBAAwBA,GACxBe,qBAAsBA,GACtBI,yBAA0BA,GAC1BK,wBAAyBA,GACzBG,4BAA6BA,GAC7BI,uCACEA,GAEF8B,uBAAwBA,GACxB7C,iBAAkBA,GAClBI,gBAAiBA,GACjBK,eAAgBA,GAChBG,mBAAoBA,GACpBE,8BAA+BA,GAC/BE,YAAaA,GACbpK,eAAgBA,GAChBqM,6BAA8BA,GAC9BC,4BAA6BA,GAC7BC,6BAA8BA,GAC9BC,wBAAyBA,GACzBC,yBAA0BA,GAC1BpE,YAAaA,GACb8D,kBAAmBA,GACnBrM,UAAWA,GACX7C,iBAAkBA,GAClBmP,uBAAwBA,GACxBlP,iBAAkBA,GAClBmN,eAAgBA,GAChBc,YAAaA,GACbe,kBA98Cc,SAAC5G,EAAKkc,GAC9Bvd,qBAAU,WACR,IAAMwd,EAAW,SAAC7Y,GAEXtD,EAAIR,UAAWQ,EAAIR,QAAQ4c,SAAS9Y,EAAE9K,SAI3C0jB,EAAQ5Y,IAMV,OAHAhG,SAASsb,iBAAiB,YAAauD,GACvC7e,SAASsb,iBAAiB,aAAcuD,GAEjC,WACL7e,SAAS+e,oBAAoB,YAAaF,GAC1C7e,SAAS+e,oBAAoB,aAAcF,aAi8CvC,Y,UChnDZG,EAAQ,KAAUC,SAElB,IAiCMC,GAAQC,aAAU,IC3CT,WACb,OAAO,IAAIxN,OAAO,IAA0B,8CDSzB,CACnBoB,gBAAiB,CAAEhV,KAAM,IACzBkV,oBAAqB,CACnBC,SAAS,GAEXpV,0BAA2B,CACzBC,KAAM,IAERqV,8BAA+B,CAAEC,UAAU,GAC3C/U,iBAAkB,CAChB5C,IAAK,IAEP8C,qBAAsB,CAAExC,QAAS,IACjCoC,sBAAuB,CAAE/C,SAAU,IACnCuD,qBAAsB,CAAEpD,QAAS,IACjCsD,kBAAmB,CAAElD,KAAM,IAC3B8C,iBAAkB,CAAE5C,IAAK,IACzBqD,0BAA2B,CAAEC,QAAS,IACtCE,8BAA+B,CAAEF,QAAS,IAC1CI,+BAAgC,CAAEJ,QAAS,IAC3CM,2BAA4B,CAAEN,QAAS,IACvCQ,0BAA2B,CAAER,QAAS,IACtCmU,iCAAkC,CAAExV,KAAM,IAC1C0V,gCAAiC,CAAE1V,KAAM,IACzC4V,iCAAkC,CAAE5V,KAAM,IAC1C8V,+BAAgC,CAAE9V,KAAM,IACxCgW,6BAA8B,CAAEhW,KAAM,IACtCE,kBAAmB,CAAEC,MAAO,GAC5BP,uBAAwB,CAAEC,SAAS,GACnCoB,oBAAqB,CAAEC,OAAO,GAC9B8K,uBAAwB,CAAEC,WAAW,KAKvCoV,IAASC,OACP,cAAC,IAAD,CAAUH,MAAOA,GAAjB,SACE,cAAC,GAAD,MAEFlf,SAASmL,eAAe,W","file":"static/js/main.6503e55c.chunk.js","sourcesContent":["const yearlyTotals = {\n  2006: 371932,\n  2007: 403229,\n  2008: 401526,\n  2009: 421314,\n  2010: 422320,\n  2011: 412856,\n  2012: 396278,\n  2013: 393807,\n  2014: 387725,\n  2015: 339468,\n  2016: 314862,\n  2017: 286223,\n  2018: 246772,\n  2019: 214616,\n  2020: 103376,\n  lastUpdatedDate: \"November 5, 2020\",\n};\n\nexport default yearlyTotals;\n","import React from \"react\";\nimport { BsInfoCircle } from \"react-icons/bs\";\nimport { SiGithub, SiLinkedin } from \"react-icons/si\";\nimport { ImMail } from \"react-icons/im\";\nimport Popup from \"reactjs-popup\";\nimport \"./info_pop_up.css\";\nimport \"reactjs-popup/dist/index.css\";\n\nconst InfoPopUp = (props) => {\n  const { footerMenuActive, isMobileOrTablet } = props;\n\n  return (\n    <Popup\n      trigger={\n        <div\n          className=\"info_circle_container\"\n          style={{\n            pointerEvents: isMobileOrTablet\n              ? footerMenuActive\n                ? \"none\"\n                : \"all\"\n              : \"all\",\n          }}\n        >\n          <BsInfoCircle\n            color=\"rgb(255, 255, 255)\"\n            style={{\n              opacity: footerMenuActive ? 0.2 : 1,\n              transition: \"opacity 1s ease\",\n            }}\n            className=\"info_button\"\n          />\n        </div>\n      }\n      modal\n    >\n      {(close) => (\n        <div className=\"modal\">\n          <button className=\"close\" onClick={close}>\n            &times;\n          </button>\n          <div className=\"header\">About NYPD Arrest Map</div>\n          <div className=\"content\">\n            NYPD Arrest Map is a data visualization and analysis tool that\n            utilizes the{\" \"}\n            <a\n              href=\"https://data.cityofnewyork.us/Public-Safety/NYPD-Arrest-Data-Year-to-Date-/uip8-fykc\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              NYPD Arrest Data (Year to Date)\n            </a>{\" \"}\n            NYC Open Data dataset. This dataset is updated quarterly and\n            reviewed by the Office of Management Analysis and Planning before\n            being posted on the New York Police Department website. The data\n            reflected here will be updated shortly after such changes.\n            <br />\n            <br />\n            Occasionally, arrests in the NYPD datasets will be erroneously\n            attributed to one borough, while having the longitude and latitude\n            of another. These have been corrected in the NYPD Arrest Map in\n            favor of the arrest's geocoordinates.\n            <br />\n            <br />\n            As stated by the NYPD, \"each record represents an arrest effected in\n            NYC by the NYPD and includes information about the type of crime,\n            the location and time of enforcement. In addition, information\n            related to suspect demographics is also included. This data can be\n            used by the public to explore the nature of police enforcement\n            activity.\"\n            <br />\n            <br />\n            <p>\n              Have any questions? Comments? Contact me via e-mail or LinkedIn\n            </p>\n            <div className=\"pop_up_icons_container\">\n              <a\n                href=\"https://github.com/amamenko/nypd-arrest-map\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <SiGithub color=\"#000\" />\n              </a>\n              <a\n                href=\"https://www.linkedin.com/in/avraham-mamenko-0599831b8/\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <SiLinkedin color=\"#000\" />\n              </a>\n              <a href=\"mailto:amamenko@hotmail.com?subject=Comment/Question About NYPD Arrest Map\">\n                <ImMail color=\"#000\" />\n              </a>\n            </div>\n          </div>\n        </div>\n      )}\n    </Popup>\n  );\n};\n\nexport default InfoPopUp;\n","const CHANGE_CATEGORY_FILTER = \"CHANGE_CATEGORY_FILTER\";\n\nconst ACTION_CHANGE_CATEGORY_FILTER = (category) => {\n  return {\n    type: CHANGE_CATEGORY_FILTER,\n    category,\n  };\n};\n\nexport default ACTION_CHANGE_CATEGORY_FILTER;\n","const CHANGE_OFFENSE_FILTER = \"CHANGE_OFFENSE_FILTER\";\n\nconst ACTION_CHANGE_OFFENSE_FILTER = (offense) => {\n  return {\n    type: CHANGE_OFFENSE_FILTER,\n    offense,\n  };\n};\n\nexport default ACTION_CHANGE_OFFENSE_FILTER;\n","const CHANGE_AGE_FILTER = \"CHANGE_AGE_FILTER\";\n\nconst ACTION_CHANGE_AGE_FILTER = (age) => {\n  return {\n    type: CHANGE_AGE_FILTER,\n    age,\n  };\n};\n\nexport default ACTION_CHANGE_AGE_FILTER;\n","const CHANGE_RACE_FILTER = \"CHANGE_RACE_FILTER\";\n\nconst ACTION_CHANGE_RACE_FILTER = (race) => {\n  return {\n    type: CHANGE_RACE_FILTER,\n    race,\n  };\n};\n\nexport default ACTION_CHANGE_RACE_FILTER;\n","const CHANGE_SEX_FILTER = \"CHANGE_SEX_FILTER\";\n\nconst ACTION_CHANGE_SEX_FILTER = (sex) => {\n  return {\n    type: CHANGE_SEX_FILTER,\n    sex,\n  };\n};\n\nexport default ACTION_CHANGE_SEX_FILTER;\n","const CHANGE_BOROUGH_FILTER = \"CHANGE_BOROUGH_FILTER\";\n\nconst ACTION_CHANGE_BOROUGH_FILTER = (borough) => {\n  return {\n    type: CHANGE_BOROUGH_FILTER,\n    borough,\n  };\n};\n\nexport default ACTION_CHANGE_BOROUGH_FILTER;\n","const APPLYING_FILTERS = \"APPLYING_FILTERS\";\n\nconst ACTION_APPLYING_FILTERS = () => {\n  return {\n    type: APPLYING_FILTERS,\n  };\n};\n\nexport default ACTION_APPLYING_FILTERS;\n","const RESET_FILTERS = \"RESET_FILTERS\";\n\nconst ACTION_RESET_FILTERS = () => {\n  return {\n    type: RESET_FILTERS,\n  };\n};\n\nexport default ACTION_RESET_FILTERS;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { slide as Menu } from \"react-burger-menu\";\nimport { BsFilterRight } from \"react-icons/bs\";\nimport { FaCircle, FaPlus } from \"react-icons/fa\";\nimport yearlyTotals from \"../YearlyTotals\";\nimport Collapsible from \"react-collapsible\";\nimport Tippy from \"@tippyjs/react\";\nimport LaddaButton, { XL, EXPAND_LEFT } from \"react-ladda\";\nimport \"tippy.js/dist/tippy.css\";\nimport \"./NavigationBar.css\";\nimport \"./burgermenu.css\";\nimport InfoPopUp from \"./InfoPopUp/InfoPopUp\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport ACTION_CHANGE_CATEGORY_FILTER from \"../actions/filters/category/ACTION_CHANGE_CATEGORY_FILTER\";\nimport ACTION_CHANGE_OFFENSE_FILTER from \"../actions/filters/offense/ACTION_CHANGE_OFFENSE_FILTER\";\nimport ACTION_CHANGE_AGE_FILTER from \"../actions/filters/age/ACTION_CHANGE_AGE_FILTER\";\nimport ACTION_CHANGE_RACE_FILTER from \"../actions/filters/race/ACTION_CHANGE_RACE_FILTER\";\nimport ACTION_CHANGE_SEX_FILTER from \"../actions/filters/sex/ACTION_CHANGE_SEX_FILTER\";\nimport ACTION_CHANGE_BOROUGH_FILTER from \"../actions/filters/borough/ACTION_CHANGE_BOROUGH_FILTER\";\nimport ACTION_APPLYING_FILTERS from \"../actions/applyingFilters/ACTION_APPLYING_FILTERS\";\nimport ACTION_RESET_FILTERS from \"../actions/resetFilters/ACTION_RESET_FILTERS\";\n\nconst NavigationBar = (props) => {\n  const {\n    loadData,\n    raceUniqueValues,\n    boroughUniqueValues,\n    ageGroupData,\n    offenseDescriptionUniqueValues,\n    setFilters,\n    changeLaddaLoading,\n    laddaLoading,\n    resetLaddaLoading,\n    changeResetLaddaLoading,\n    menuClicked,\n    changeMenuClicked,\n    collapseOpen,\n    changeCollapseOpen,\n    layersRef,\n    isMobileOrTablet,\n    footerMenuActive,\n    isTablet,\n    currentFilters,\n    isSame,\n  } = props;\n\n  const dispatch = useDispatch();\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n  const filteredDataChunks = useSelector(\n    (state) => state.filteredDataChunksReducer.data\n  );\n  const totalCount = useSelector((state) => state.totalCountReducer.total);\n\n  // Filter states\n  const categoryFilter = useSelector(\n    (state) => state.categoryFilterReducer.category\n  );\n  const ageFilter = useSelector((state) => state.ageFilterReducer.age);\n  const boroughFilter = useSelector(\n    (state) => state.boroughFilterReducer.borough\n  );\n  const sexFilter = useSelector((state) => state.sexFilterReducer.sex);\n  const offenseFilter = useSelector(\n    (state) => state.offenseFilterReducer.offense\n  );\n  const raceFilter = useSelector((state) => state.raceFilterReducer.race);\n  const resetFilters = useSelector((state) => state.resetFiltersReducer.reset);\n\n  // Timeline Column Data\n  const ageTimelineColumns = useSelector(\n    (state) => state.ageTimelineColumnsReducer.columns\n  );\n  const boroughTimelineColumns = useSelector(\n    (state) => state.boroughTimelineColumnsReducer.columns\n  );\n  const categoryTimelineColumns = useSelector(\n    (state) => state.categoryTimelineColumnsReducer.columns\n  );\n  const raceTimelineColumns = useSelector(\n    (state) => state.raceTimelineColumnsReducer.columns\n  );\n  const sexTimelineColumns = useSelector(\n    (state) => state.sexTimelineColumnsReducer.columns\n  );\n\n  const logoContainerRef = useRef(null);\n\n  const burgerMenu = document.getElementsByClassName(\"bm-burger-button\");\n  const mapboxAttribRef = document.getElementsByClassName(\n    \"mapboxgl-ctrl-bottom-left\"\n  );\n  const footerMenuTrigger = document.getElementsByClassName(\n    \"footer_menu_trigger\"\n  );\n  const overviewTip = document.getElementsByClassName(\"overview_tooltip\");\n  const mapDetailsTip = document.getElementsByClassName(\n    \"map_details_tooltip_container\"\n  );\n  const mapLegend = document.getElementsByClassName(\n    \"overview_tooltip legend_tooltip\"\n  );\n  const resetFiltersButton = document.getElementsByClassName(\n    \"reset_filters_button\"\n  );\n  const applyFiltersButton = document.getElementsByClassName(\n    \"apply_filters_button\"\n  );\n\n  const [tooltipVisible, changeTooltipVisible] = useState(true);\n\n  const filterByCategory = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Category</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByOffense = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Offense</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByAge = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Age Group</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByRace = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Race</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterBySex = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Sex</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const filterByBorough = () => {\n    return (\n      <div className=\"nav_item\">\n        <p className=\"filter_identifier\">Filter By Borough</p>\n        <FaPlus fill={\"rgb(0, 109, 129)\"} />\n      </div>\n    );\n  };\n\n  const handleBurgerMenuClick = () => {\n    if (menuClicked) {\n      changeMenuClicked(false);\n    } else {\n      changeMenuClicked(true);\n      if (tooltipVisible) {\n        changeTooltipVisible(false);\n      }\n    }\n  };\n\n  const handleCategoryFilters = (category) => {\n    if (categoryFilter.includes(category)) {\n      dispatch(\n        ACTION_CHANGE_CATEGORY_FILTER(\n          categoryFilter.filter((item) => item !== category)\n        )\n      );\n    } else {\n      const copyArr = categoryFilter.slice();\n      copyArr.push(category);\n\n      // If all category options are selected, reset all fields\n      if (isSame(copyArr.sort(), [\"F\", \"M\", \"V\"].sort())) {\n        dispatch(ACTION_CHANGE_CATEGORY_FILTER([]));\n      } else {\n        dispatch(ACTION_CHANGE_CATEGORY_FILTER(copyArr));\n      }\n    }\n  };\n\n  const handleOffenseFilters = (offense) => {\n    if (offenseFilter.includes(offense)) {\n      dispatch(\n        ACTION_CHANGE_OFFENSE_FILTER(\n          offenseFilter.filter((item) => item !== offense)\n        )\n      );\n    } else {\n      const copyArr = offenseFilter.slice();\n      copyArr.push(offense);\n\n      const descUnique = offenseDescriptionUniqueValues\n        .sort()\n        .filter(\n          (desc) =>\n            desc && !(desc.includes(\"OTHER STATE LAWS\") && desc.includes(\"(\"))\n        );\n\n      // If all offense description options are selected, reset all fields\n      if (isSame(copyArr.sort(), descUnique.sort())) {\n        dispatch(ACTION_CHANGE_OFFENSE_FILTER([]));\n      } else {\n        dispatch(ACTION_CHANGE_OFFENSE_FILTER(copyArr));\n      }\n    }\n  };\n\n  const handleAgeFilters = (age) => {\n    if (ageFilter.includes(age)) {\n      dispatch(\n        ACTION_CHANGE_AGE_FILTER(ageFilter.filter((item) => item !== age))\n      );\n    } else {\n      const copyArr = ageFilter.slice();\n      copyArr.push(age);\n\n      const uniqueAge = ageGroupData.sort((a, b) => a.localeCompare(b));\n\n      // If all age options are selected, reset all fields\n      if (\n        isSame(\n          copyArr.sort((a, b) => a.localeCompare(b)),\n          uniqueAge\n        )\n      ) {\n        dispatch(ACTION_CHANGE_AGE_FILTER([]));\n      } else {\n        dispatch(ACTION_CHANGE_AGE_FILTER(copyArr));\n      }\n    }\n  };\n\n  const handleRaceFilters = (race) => {\n    if (raceFilter.includes(race)) {\n      dispatch(\n        ACTION_CHANGE_RACE_FILTER(raceFilter.filter((item) => item !== race))\n      );\n    } else {\n      const copyArr = raceFilter.slice();\n      copyArr.push(race);\n\n      const uniqueRace = raceUniqueValues.sort();\n\n      // If all race options are selected, reset all fields\n      if (isSame(copyArr, uniqueRace)) {\n        dispatch(ACTION_CHANGE_RACE_FILTER([]));\n      } else {\n        dispatch(ACTION_CHANGE_RACE_FILTER(copyArr));\n      }\n    }\n  };\n\n  const handleSexFilters = (sex) => {\n    if (sexFilter.includes(sex)) {\n      dispatch(\n        ACTION_CHANGE_SEX_FILTER(sexFilter.filter((item) => item !== sex))\n      );\n    } else {\n      const copyArr = sexFilter.slice();\n      copyArr.push(sex);\n\n      // If all sex options are selected, reset all fields\n      if (isSame(copyArr.sort(), [\"F\", \"M\"].sort())) {\n        dispatch(ACTION_CHANGE_SEX_FILTER([]));\n      } else {\n        dispatch(ACTION_CHANGE_SEX_FILTER(copyArr));\n      }\n    }\n  };\n\n  const handleBoroughFilters = (borough) => {\n    if (boroughFilter.includes(borough)) {\n      dispatch(\n        ACTION_CHANGE_BOROUGH_FILTER(\n          boroughFilter.filter((item) => item !== borough)\n        )\n      );\n    } else {\n      const copyArr = boroughFilter.slice();\n      copyArr.push(borough);\n\n      const uniqueBorough = boroughUniqueValues.sort();\n\n      // If all borough options are selected, reset all fields\n      if (isSame(copyArr, uniqueBorough)) {\n        dispatch(ACTION_CHANGE_BOROUGH_FILTER([]));\n      } else {\n        dispatch(ACTION_CHANGE_BOROUGH_FILTER(copyArr));\n      }\n    }\n  };\n\n  useEffect(() => {\n    if (footerMenuActive) {\n      burgerMenu[0].style.opacity = 0.2;\n      burgerMenu[0].style.pointerEvents = \"none\";\n      burgerMenu[0].style.transition = \"opacity 0.5s ease\";\n\n      if (overviewTip[0] && mapDetailsTip[0]) {\n        overviewTip[0].style.setProperty(\"opacity\", 0.4, \"important\");\n        overviewTip[0].style.setProperty(\"pointerEvents\", \"none\");\n        overviewTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n\n        mapDetailsTip[0].style.setProperty(\"opacity\", 0.4, \"important\");\n        mapDetailsTip[0].style.setProperty(\"pointerEvents\", \"none\");\n        mapDetailsTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n      }\n\n      if (mapLegend[0]) {\n        mapLegend[0].style.setProperty(\"opacity\", 0.4, \"important\");\n        mapLegend[0].style.setProperty(\"pointerEvents\", \"none\");\n        mapLegend[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n      }\n    } else {\n      burgerMenu[0].style.opacity = 1;\n      burgerMenu[0].style.pointerEvents = \"all\";\n      burgerMenu[0].style.transition = \"opacity 0.5s ease\";\n\n      if (overviewTip[0] && mapDetailsTip[0]) {\n        overviewTip[0].style.setProperty(\"opacity\", 1, \"important\");\n        overviewTip[0].style.setProperty(\"pointerEvents\", \"all\");\n        overviewTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n\n        mapDetailsTip[0].style.setProperty(\"opacity\", 1, \"important\");\n        mapDetailsTip[0].style.setProperty(\"pointerEvents\", \"all\");\n        mapDetailsTip[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n      }\n\n      if (mapLegend[0]) {\n        mapLegend[0].style.setProperty(\"opacity\", 1, \"important\");\n        mapLegend[0].style.setProperty(\"pointerEvents\", \"all\");\n        mapLegend[0].style.setProperty(\"transition\", \"opacity 0.5s ease\");\n      }\n    }\n  }, [\n    footerMenuActive,\n    burgerMenu,\n    isMobileOrTablet,\n    mapDetailsTip,\n    overviewTip,\n    mapLegend,\n  ]);\n\n  useEffect(() => {\n    if (isMobileOrTablet) {\n      if (\n        (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n        (boroughTimelineColumns ? boroughTimelineColumns.length > 0 : false) &&\n        (categoryTimelineColumns\n          ? categoryTimelineColumns.length > 0\n          : false) &&\n        (raceTimelineColumns ? raceTimelineColumns.length > 0 : false) &&\n        (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n      ) {\n        const tooltipHideDelay = setTimeout(() => {\n          if (tooltipVisible) {\n            changeTooltipVisible(false);\n          }\n        }, 4000);\n\n        return () => {\n          clearTimeout(tooltipHideDelay);\n        };\n      }\n    }\n  }, [\n    isMobileOrTablet,\n    tooltipVisible,\n    ageTimelineColumns,\n    boroughTimelineColumns,\n    categoryTimelineColumns,\n    raceTimelineColumns,\n    sexTimelineColumns,\n  ]);\n\n  useEffect(() => {\n    if (!tooltipVisible) {\n      if (overviewTip[0] && mapDetailsTip[0]) {\n        overviewTip[0].style.setProperty(\"opacity\", 1, \"important\");\n        mapDetailsTip[0].style.setProperty(\"opacity\", 1, \"important\");\n      }\n\n      if (mapLegend[0]) {\n        mapLegend[0].style.setProperty(\"opacity\", 1, \"important\");\n      }\n    }\n  }, [tooltipVisible, overviewTip, mapDetailsTip, mapLegend]);\n\n  useEffect(() => {\n    if (!isMobileOrTablet) {\n      if (menuClicked) {\n        if (overviewTip[0] && mapDetailsTip[0]) {\n          overviewTip[0].style.setProperty(\"opacity\", 0.3, \"important\");\n          mapDetailsTip[0].style.setProperty(\"opacity\", 0.3, \"important\");\n        }\n\n        if (mapLegend[0]) {\n          mapLegend[0].style.setProperty(\"opacity\", 0.3, \"important\");\n        }\n      } else {\n        if (overviewTip[0] && mapDetailsTip[0]) {\n          overviewTip[0].style.setProperty(\"opacity\", 1, \"important\");\n          mapDetailsTip[0].style.setProperty(\"opacity\", 1, \"important\");\n        }\n\n        if (mapLegend[0]) {\n          mapLegend[0].style.setProperty(\"opacity\", 1, \"important\");\n        }\n      }\n    }\n  }, [isMobileOrTablet, mapLegend, menuClicked, mapDetailsTip, overviewTip]);\n\n  useEffect(() => {\n    if (!menuClicked) {\n      const filterMenu = document.getElementsByClassName(\"bm-menu\");\n      const scrollContainers = document.getElementsByClassName(\n        \"nav_item_content_container\"\n      );\n\n      setTimeout(() => {\n        if (filterMenu[0]) {\n          filterMenu[0].scrollTop = 0;\n        }\n\n        for (let i = 0; i < scrollContainers.length; i++) {\n          scrollContainers[i].scrollTop = 0;\n        }\n      }, 800);\n\n      if (collapseOpen !== \"\") {\n        changeCollapseOpen(\"\");\n      }\n    }\n  }, [menuClicked, collapseOpen, changeCollapseOpen]);\n\n  useEffect(() => {\n    if (\n      currentFilters.category.length === 0 &&\n      currentFilters.offense.length === 0 &&\n      currentFilters.age.length === 0 &&\n      currentFilters.race.length === 0 &&\n      currentFilters.sex.length === 0 &&\n      currentFilters.borough.length === 0\n    ) {\n      if (resetFiltersButton[0]) {\n        resetFiltersButton[0].style.opacity = 0.4;\n        resetFiltersButton[0].style.pointerEvents = \"none\";\n      }\n    } else {\n      if (resetFiltersButton[0]) {\n        resetFiltersButton[0].style.opacity = 1;\n        resetFiltersButton[0].style.pointerEvents = \"auto\";\n      }\n    }\n  }, [\n    currentFilters.age.length,\n    currentFilters.borough.length,\n    currentFilters.category.length,\n    currentFilters.offense.length,\n    currentFilters.race.length,\n    currentFilters.sex.length,\n    resetFiltersButton,\n  ]);\n\n  useEffect(() => {\n    if (\n      isSame(currentFilters.category, categoryFilter) &&\n      isSame(currentFilters.offense, offenseFilter) &&\n      isSame(currentFilters.age, ageFilter) &&\n      isSame(currentFilters.race, raceFilter) &&\n      isSame(currentFilters.sex, sexFilter) &&\n      isSame(currentFilters.borough, boroughFilter)\n    ) {\n      if (applyFiltersButton[0]) {\n        applyFiltersButton[0].style.opacity = 0.4;\n        applyFiltersButton[0].style.pointerEvents = \"none\";\n      }\n    } else {\n      if (applyFiltersButton[0]) {\n        applyFiltersButton[0].style.opacity = 1;\n        applyFiltersButton[0].style.pointerEvents = \"auto\";\n      }\n    }\n  }, [\n    currentFilters.age,\n    currentFilters.borough,\n    currentFilters.category,\n    currentFilters.offense,\n    currentFilters.race,\n    currentFilters.sex,\n    ageFilter,\n    boroughFilter,\n    categoryFilter,\n    offenseFilter,\n    raceFilter,\n    sexFilter,\n    applyFiltersButton,\n    isSame,\n  ]);\n\n  const handleOffenseDescriptionCollapseClosing = () => {\n    const scrollContainers = document.getElementsByClassName(\n      \"nav_item_content_container\"\n    );\n\n    setTimeout(() => {\n      for (let i = 0; i < scrollContainers.length; i++) {\n        scrollContainers[i].scrollTop = 0;\n      }\n    }, 800);\n  };\n\n  return (\n    <div className=\"navigation_bar_container\">\n      <Tippy\n        content={\n          <div className=\"map_details_tooltip_container\">\n            <div\n              className=\"overview_tooltip_content\"\n              placement=\"bottom-start\"\n              style={{\n                minWidth:\n                  logoContainerRef.current &&\n                  logoContainerRef.current.clientWidth,\n                maxWidth:\n                  logoContainerRef.current &&\n                  logoContainerRef.current.clientWidth,\n              }}\n            >\n              <p style={{ color: \"rgb(166, 166, 166)\" }}>\n                Data Last Updated: <br />\n                {yearlyTotals[\"lastUpdatedDate\"]}\n              </p>\n              <p>\n                Total Number of Arrests Shown: <br />\n                <strong>\n                  {filteredDataChunks.flat().length.toLocaleString()}\n                </strong>{\" \"}\n                of <strong>{totalCount.toLocaleString()}</strong>\n              </p>\n            </div>\n            {isMobileOrTablet ? (\n              isTablet ? null : (\n                <div\n                  className=\"map_legend_container\"\n                  style={{\n                    minWidth:\n                      logoContainerRef.current &&\n                      logoContainerRef.current.clientWidth,\n                    maxWidth:\n                      logoContainerRef.current &&\n                      logoContainerRef.current.clientWidth,\n                  }}\n                >\n                  <p>Map Legend</p>\n                  <div className=\"map_legend_items_container\">\n                    <div className=\"map_legend_element\">\n                      <FaCircle color=\"rgb(255, 0, 0)\" />\n                      <p>Felony</p>\n                    </div>\n                    <div className=\"map_legend_element\">\n                      <FaCircle color=\"rgb(255, 116, 0)\" />\n                      <p>Misdemeanor</p>\n                    </div>\n                    <div className=\"map_legend_element\">\n                      <FaCircle color=\"rgb(255, 193, 0)\" />\n                      <p>Violation</p>\n                    </div>\n                  </div>\n                </div>\n              )\n            ) : null}\n          </div>\n        }\n        visible={\n          layersRef.current.length > 0 &&\n          (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n          (boroughTimelineColumns\n            ? boroughTimelineColumns.length > 0\n            : false) &&\n          (categoryTimelineColumns\n            ? categoryTimelineColumns.length > 0\n            : false) &&\n          (raceTimelineColumns ? raceTimelineColumns.length > 0 : false) &&\n          (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n        }\n        allowHTML={true}\n        reference={logoContainerRef.current}\n        className=\"overview_tooltip\"\n      />\n      <Tippy\n        content={\n          <div\n            className=\"map_legend_container\"\n            style={{\n              minWidth:\n                logoContainerRef.current &&\n                logoContainerRef.current.clientWidth,\n              maxWidth:\n                logoContainerRef.current &&\n                logoContainerRef.current.clientWidth,\n            }}\n          >\n            <p>Map Legend</p>\n            <div className=\"map_legend_items_container\">\n              <div className=\"map_legend_element\">\n                <FaCircle color=\"rgb(255, 0, 0)\" />\n                <p>Felony</p>\n              </div>\n              <div className=\"map_legend_element\">\n                <FaCircle color=\"rgb(255, 116, 0)\" />\n                <p>Misdemeanor</p>\n              </div>\n              <div className=\"map_legend_element\">\n                <FaCircle color=\"rgb(255, 193, 0)\" />\n                <p>Violation</p>\n              </div>\n            </div>\n          </div>\n        }\n        visible={\n          isMobileOrTablet\n            ? isTablet\n              ? layersRef.current.length > 0 &&\n                (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n                (boroughTimelineColumns\n                  ? boroughTimelineColumns.length > 0\n                  : false) &&\n                (categoryTimelineColumns\n                  ? categoryTimelineColumns.length > 0\n                  : false) &&\n                (raceTimelineColumns\n                  ? raceTimelineColumns.length > 0\n                  : false) &&\n                (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n              : false\n            : layersRef.current.length > 0 &&\n              (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n              (boroughTimelineColumns\n                ? boroughTimelineColumns.length > 0\n                : false) &&\n              (categoryTimelineColumns\n                ? categoryTimelineColumns.length > 0\n                : false) &&\n              (raceTimelineColumns ? raceTimelineColumns.length > 0 : false) &&\n              (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n        }\n        allowHTML={true}\n        reference={\n          isMobileOrTablet\n            ? isTablet\n              ? burgerMenu[0]\n              : footerMenuTrigger[0]\n            : mapboxAttribRef[0]\n        }\n        className=\"overview_tooltip legend_tooltip\"\n        placement=\"top-start\"\n      />\n      <div className=\"nypd_arrest_map_logo_container\" ref={logoContainerRef}>\n        <a href=\"/\">\n          <p>NYPD</p>\n          <p>Arrest</p>\n          <p>Map</p>\n        </a>\n      </div>\n      <Tippy\n        content={\n          isMobileOrTablet ? (\n            <p style={{ textAlign: \"center\" }}>\n              Click here <br />\n              to set <br />\n              data filters\n            </p>\n          ) : (\n            \"Click here to set data filters\"\n          )\n        }\n        duration={[null, 500]}\n        arrow={true}\n        visible={\n          tooltipVisible &&\n          (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n          (boroughTimelineColumns\n            ? boroughTimelineColumns.length > 0\n            : false) &&\n          (categoryTimelineColumns\n            ? categoryTimelineColumns.length > 0\n            : false) &&\n          (raceTimelineColumns ? raceTimelineColumns.length > 0 : false) &&\n          (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n        }\n        reference={burgerMenu[0]}\n        className=\"burger_tooltip\"\n        placement=\"bottom-end\"\n        onClickOutside={() => changeTooltipVisible(false)}\n      />\n      <InfoPopUp\n        footerMenuActive={footerMenuActive}\n        isMobileOrTablet={isMobileOrTablet}\n      />\n      <Menu\n        right\n        className=\"navbar_nav_menu\"\n        customBurgerIcon={<BsFilterRight color=\"rgb(93, 188, 210)\" />}\n        onOpen={handleBurgerMenuClick}\n        onClose={() => changeMenuClicked(false)}\n        isOpen={menuClicked}\n      >\n        <Collapsible\n          trigger={filterByCategory()}\n          onTriggerOpening={() => changeCollapseOpen(\"category\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"category\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  checked={categoryFilter.includes(\"F\")}\n                  onChange={() => handleCategoryFilters(\"F\")}\n                />\n                Felony\n              </label>\n            </p>\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  checked={categoryFilter.includes(\"M\")}\n                  onChange={() => handleCategoryFilters(\"M\")}\n                />\n                Misdemeanor\n              </label>\n            </p>\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  checked={categoryFilter.includes(\"V\")}\n                  onChange={() => handleCategoryFilters(\"V\")}\n                />\n                Violation\n              </label>\n            </p>\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByOffense()}\n          onTriggerOpening={() => changeCollapseOpen(\"description\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          onClose={handleOffenseDescriptionCollapseClosing}\n          open={collapseOpen === \"description\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {!offenseDescriptionUniqueValues ||\n            offenseDescriptionUniqueValues.length === 0\n              ? null\n              : offenseDescriptionUniqueValues.sort().map((desc, i) => {\n                  if (\n                    desc &&\n                    !(desc.includes(\"OTHER STATE LAWS\") && desc.includes(\"(\"))\n                  ) {\n                    return (\n                      <p key={i}>\n                        <label>\n                          <input\n                            name=\"my-checkbox\"\n                            type=\"checkbox\"\n                            checked={offenseFilter.includes(desc)}\n                            onChange={() => handleOffenseFilters(desc)}\n                          />\n                          {desc\n                            .split(\" \")\n                            .map(\n                              (x) =>\n                                x[0].toUpperCase() + x.slice(1).toLowerCase()\n                            )\n                            .join(\" \")\n                            .split(\"/\")\n                            .map(\n                              (x) =>\n                                x[0].toUpperCase() +\n                                x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                                x.slice(x.indexOf(\" \"))\n                            )\n                            .join(\"/\")}\n                        </label>\n                      </p>\n                    );\n                  } else {\n                    return null;\n                  }\n                })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByAge()}\n          onTriggerOpening={() => changeCollapseOpen(\"age\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"age\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {!ageGroupData\n              ? null\n              : ageGroupData\n                  .sort((a, b) => a.localeCompare(b))\n                  .map((age, i) => {\n                    return (\n                      <p key={i}>\n                        <label>\n                          <input\n                            name=\"my-checkbox\"\n                            type=\"checkbox\"\n                            checked={ageFilter.includes(age)}\n                            onChange={() => handleAgeFilters(age)}\n                          />\n                          {age === \"65\" ? \"65+\" : age}\n                        </label>\n                      </p>\n                    );\n                  })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByRace()}\n          onTriggerOpening={() => changeCollapseOpen(\"race\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"race\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {!raceUniqueValues\n              ? null\n              : raceUniqueValues.sort().map((race, i) => {\n                  if (race) {\n                    return (\n                      <p key={i}>\n                        <label>\n                          <input\n                            name=\"my-checkbox\"\n                            type=\"checkbox\"\n                            checked={raceFilter.includes(race)}\n                            onChange={() => handleRaceFilters(race)}\n                          />\n                          {race &&\n                            race\n                              .split(\" \")\n                              .map(\n                                (x) =>\n                                  x[0].toUpperCase() + x.slice(1).toLowerCase()\n                              )\n                              .join(\" \")\n                              .split(\"/\")\n                              .map(\n                                (x) =>\n                                  x[0].toUpperCase() +\n                                  x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                                  x.slice(x.indexOf(\" \"))\n                              )\n                              .join(\"/\")}\n                        </label>\n                      </p>\n                    );\n                  } else {\n                    return null;\n                  }\n                })}\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterBySex()}\n          onTriggerOpening={() => changeCollapseOpen(\"sex\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"sex\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  checked={sexFilter.includes(\"F\")}\n                  onChange={() => handleSexFilters(\"F\")}\n                />\n                Female\n              </label>\n            </p>\n            <p>\n              <label>\n                <input\n                  name=\"my-checkbox\"\n                  type=\"checkbox\"\n                  checked={sexFilter.includes(\"M\")}\n                  onChange={() => handleSexFilters(\"M\")}\n                />\n                Male\n              </label>\n            </p>\n          </div>\n        </Collapsible>\n        <Collapsible\n          trigger={filterByBorough()}\n          onTriggerOpening={() => changeCollapseOpen(\"borough\")}\n          onTriggerClosing={() => changeCollapseOpen(\"\")}\n          open={collapseOpen === \"borough\"}\n          className=\"nav_item\"\n        >\n          <div className=\"nav_item_content_container\">\n            {!boroughUniqueValues\n              ? null\n              : boroughUniqueValues.sort().map((borough, i) => {\n                  return (\n                    <p key={i}>\n                      <label>\n                        <input\n                          name=\"my-checkbox\"\n                          type=\"checkbox\"\n                          checked={boroughFilter.includes(borough)}\n                          onChange={() => handleBoroughFilters(borough)}\n                        />\n                        {borough === \"B\"\n                          ? \"Bronx\"\n                          : borough === \"Q\"\n                          ? \"Queens\"\n                          : borough === \"M\"\n                          ? \"Manhattan\"\n                          : borough === \"K\"\n                          ? \"Brooklyn\"\n                          : borough === \"S\"\n                          ? \"Staten Island\"\n                          : \"Unknown\"}\n                      </label>\n                    </p>\n                  );\n                })}\n          </div>\n        </Collapsible>\n        <span className=\"spacer\" />\n        <div className=\"filter_buttons_container\">\n          <LaddaButton\n            loading={laddaLoading}\n            className=\"apply_filters_button\"\n            onClick={() => {\n              if (!applyingFilters) {\n                dispatch(ACTION_APPLYING_FILTERS());\n              }\n\n              if (!laddaLoading) {\n                changeLaddaLoading(true);\n              }\n\n              setFilters(\n                categoryFilter,\n                offenseFilter,\n                ageFilter,\n                raceFilter,\n                sexFilter,\n                boroughFilter,\n                loadData\n              );\n            }}\n            data-color={\"blue\"}\n            data-size={XL}\n            data-style={EXPAND_LEFT}\n            data-spinner-size={30}\n            data-spinner-color={\"#fff\"}\n            data-spinner-lines={12}\n          >\n            {laddaLoading ? \"APPLYING FILTERS\" : \"APPLY FILTERS\"}\n          </LaddaButton>\n          <LaddaButton\n            loading={resetLaddaLoading}\n            className=\"reset_filters_button\"\n            onClick={() => {\n              if (!resetFilters) {\n                dispatch(ACTION_RESET_FILTERS());\n              }\n\n              if (!resetLaddaLoading) {\n                changeResetLaddaLoading(true);\n              }\n\n              dispatch(ACTION_CHANGE_CATEGORY_FILTER([]));\n              dispatch(ACTION_CHANGE_OFFENSE_FILTER([]));\n              dispatch(ACTION_CHANGE_AGE_FILTER([]));\n              dispatch(ACTION_CHANGE_RACE_FILTER([]));\n              dispatch(ACTION_CHANGE_SEX_FILTER([]));\n              dispatch(ACTION_CHANGE_BOROUGH_FILTER([]));\n\n              setFilters([], [], [], [], [], [], loadData);\n            }}\n            data-color={\"red\"}\n            data-size={XL}\n            data-style={EXPAND_LEFT}\n            data-spinner-size={30}\n            data-spinner-color={\"#fff\"}\n            data-spinner-lines={12}\n          >\n            {resetLaddaLoading ? \"RESETTING\" : \"RESET FILTERS\"}\n          </LaddaButton>\n        </div>\n      </Menu>\n    </div>\n  );\n};\n\nexport default NavigationBar;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\n\nconst Category = (props) => {\n  const {\n    filteredArrestCategory,\n    graphOption,\n    graphsDrawn,\n    changeGraphsDrawn,\n  } = props;\n\n  const chartEvents = [\n    {\n      eventName: \"ready\",\n      callback() {\n        if (!graphsDrawn) {\n          setTimeout(() => {\n            changeGraphsDrawn(true);\n          }, 300);\n        }\n      },\n    },\n  ];\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{\n        display: graphOption === \"overview\" ? \"block\" : \"none\",\n        opacity: graphsDrawn ? 1 : 0,\n      }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Category</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          chartEvents={chartEvents}\n          data={\n            filteredArrestCategory\n              ? [\n                  [\"Category\", \"Number of Arrests\"],\n                  [\n                    \"Felony\",\n                    filteredArrestCategory.filter((x) => x === \"F\").length,\n                  ],\n                  [\n                    \"Misdemeanor\",\n                    filteredArrestCategory.filter((x) => x === \"M\").length,\n                  ],\n                  [\n                    \"Violation\",\n                    filteredArrestCategory.filter((x) => x !== \"F\" && x !== \"M\")\n                      .length,\n                  ],\n                ]\n              : []\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Category;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\n\nconst AgeGroup = (props) => {\n  const { filteredAgeGroupData, filteredAgeGroup, graphOption } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Age Group</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          data={\n            [\n              [[\"Age Group\", \"Number of Arrests\"]].concat(\n                filteredAgeGroupData\n                  .sort((a, b) => a.localeCompare(b))\n                  .map((item) => [\n                    item === \"65\" ? \"65+\" : item,\n                    filteredAgeGroup.filter((x) => x === item).length,\n                  ])\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default AgeGroup;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst Race = (props) => {\n  const { filteredRaceUniqueValues, filteredRaceArr, graphOption } = props;\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Race</p>\n      <div className=\"bottom_info_pie_container\">\n        {applyingFilters ? (\n          <DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />\n        ) : (\n          <Chart\n            chartType=\"PieChart\"\n            loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n            data={\n              [\n                [[\"Race\", \"Number of Arrests\"]].concat(\n                  filteredRaceUniqueValues.map((item) => [\n                    item\n                      ? item\n                          .split(\" \")\n                          .map(\n                            (x) => x[0].toUpperCase() + x.slice(1).toLowerCase()\n                          )\n                          .join(\" \")\n                          .split(\"/\")\n                          .map(\n                            (x) =>\n                              x[0].toUpperCase() +\n                              x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                              x.slice(x.indexOf(\" \"))\n                          )\n                          .join(\"/\")\n                      : null,\n                    filteredRaceArr.filter((x) => x === item).length,\n                  ])\n                ),\n              ][0]\n            }\n            options={{\n              backgroundColor: \"transparent\",\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Race;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst Gender = (props) => {\n  const { filteredSexUniqueValues, filteredSexArr, graphOption } = props;\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Sex</p>\n      <div className=\"bottom_info_pie_container\">\n        {applyingFilters ? (\n          <DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />\n        ) : (\n          <Chart\n            chartType=\"PieChart\"\n            loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n            data={\n              [\n                [[\"Sex\", \"Number of Arrests\"]].concat(\n                  filteredSexUniqueValues.map((item) => [\n                    item === \"M\" ? \"Male\" : \"Female\",\n                    filteredSexArr.filter((x) => x === item).length,\n                  ])\n                ),\n              ][0]\n            }\n            options={{\n              backgroundColor: \"transparent\",\n            }}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Gender;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\n\nconst Borough = (props) => {\n  const {\n    filteredBoroughUniqueValues,\n    filteredBoroughArr,\n    graphOption,\n  } = props;\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      <p className=\"bottom_info_section_title\">Breakdown by Borough</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          chartType=\"PieChart\"\n          data={\n            [\n              [[\"Borough\", \"Number of Arrests\"]].concat(\n                filteredBoroughUniqueValues.map((item) => [\n                  item === \"B\"\n                    ? \"Bronx\"\n                    : item === \"Q\"\n                    ? \"Queens\"\n                    : item === \"M\"\n                    ? \"Manhattan\"\n                    : item === \"K\"\n                    ? \"Brooklyn\"\n                    : item === \"S\"\n                    ? \"Staten Island\"\n                    : \"Unknown\",\n                  filteredBoroughArr.filter((x) => x === item).length,\n                ])\n              ),\n            ][0]\n          }\n          options={{\n            backgroundColor: \"transparent\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Borough;\n","import React, { useEffect, useState } from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst TopOffenses = (props) => {\n  const {\n    filteredOffenseDescriptionArr,\n    filteredOffenseDescriptionUniqueValues,\n    graphOption,\n    isSame,\n    usePrevious,\n    isMobileOrTablet,\n    isMediumLaptop,\n  } = props;\n\n  const [sortedArr, changeSortedArr] = useState([]);\n\n  const prevFilteredOffenseDescriptionArr = usePrevious(\n    filteredOffenseDescriptionArr\n  );\n  const prevFilteredOffenseDescriptionUniqueValues = usePrevious(\n    filteredOffenseDescriptionUniqueValues\n  );\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n\n  useEffect(() => {\n    if (\n      filteredOffenseDescriptionArr &&\n      filteredOffenseDescriptionArr.length > 0 &&\n      filteredOffenseDescriptionUniqueValues.length > 0\n    ) {\n      if (\n        filteredOffenseDescriptionArr !== prevFilteredOffenseDescriptionArr ||\n        filteredOffenseDescriptionUniqueValues !==\n          prevFilteredOffenseDescriptionUniqueValues\n      ) {\n        const offenseData = filteredOffenseDescriptionUniqueValues\n          .map((item) => [\n            item,\n            filteredOffenseDescriptionArr.filter((x) => x === item).length,\n          ])\n          .sort((a, b) => {\n            if (a[1] > b[1]) {\n              return 1;\n            } else {\n              return -1;\n            }\n          });\n\n        if (!isSame(offenseData, sortedArr)) {\n          changeSortedArr(offenseData);\n        }\n      }\n    }\n  }, [\n    isSame,\n    filteredOffenseDescriptionArr,\n    filteredOffenseDescriptionUniqueValues,\n    sortedArr,\n    prevFilteredOffenseDescriptionArr,\n    prevFilteredOffenseDescriptionUniqueValues,\n  ]);\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n      style={{ display: graphOption === \"overview\" ? \"block\" : \"none\" }}\n    >\n      {sortedArr.length > 0 ? (\n        <>\n          <p className=\"bottom_info_section_title\">Top 5 Offenses</p>\n          <div className=\"bottom_info_pie_container\">\n            {applyingFilters ? (\n              <DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />\n            ) : (\n              <Chart\n                chartType=\"BarChart\"\n                loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n                data={\n                  [\n                    [[\"Offense Description\", \"Number of Arrests\"]].concat(\n                      sortedArr.length > 0\n                        ? sortedArr\n                            .slice(sortedArr.length - 5, sortedArr.length)\n                            .sort((a, b) => {\n                              if (a[1] > b[1]) {\n                                return -1;\n                              } else {\n                                return 1;\n                              }\n                            })\n                        : [\"UNKNOWN\", 1]\n                    ),\n                  ][0]\n                }\n                options={{\n                  backgroundColor: \"transparent\",\n                  legend: { position: \"none\" },\n                  width: isMobileOrTablet ? 300 : isMediumLaptop ? 400 : 600,\n                  bar: isMobileOrTablet ? null : { groupWidth: \"95%\" },\n                  chartArea: isMobileOrTablet\n                    ? null\n                    : { width: \"50%\", height: \"50%\" },\n                }}\n              />\n            )}\n          </div>\n        </>\n      ) : null}\n    </div>\n  );\n};\n\nexport default TopOffenses;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst AgeGroupTimeline = (props) => {\n  const { isMobileOrTablet, isMediumLaptop, isTinyPhone } = props;\n\n  const ageTimelineColumns = useSelector(\n    (state) => state.ageTimelineColumnsReducer.columns\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n    >\n      <p className=\"bottom_info_section_title\">Age Group Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          legendToggle\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={ageTimelineColumns}\n          options={{\n            backgroundColor: \"transparent\",\n            width: isMobileOrTablet\n              ? isTinyPhone\n                ? 275\n                : 300\n              : isMediumLaptop\n              ? 350\n              : 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n            hAxis: {\n              title: \"Dates\",\n            },\n            vAxis: {\n              title: \"# of Arrests\",\n            },\n            explorer: {\n              axis: \"horizontal\",\n              keepInBounds: true,\n              maxZoomIn: 0.2,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default AgeGroupTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst BoroughTimeline = (props) => {\n  const { isMobileOrTablet, isMediumLaptop, isTinyPhone } = props;\n\n  const boroughTimelineColumns = useSelector(\n    (state) => state.boroughTimelineColumnsReducer.columns\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n    >\n      <p className=\"bottom_info_section_title\">Borough Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          legendToggle\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={boroughTimelineColumns}\n          options={{\n            legendToggle: true,\n            backgroundColor: \"transparent\",\n            width: isMobileOrTablet\n              ? isTinyPhone\n                ? 275\n                : 300\n              : isMediumLaptop\n              ? 350\n              : 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n            hAxis: {\n              title: \"Dates\",\n            },\n            vAxis: {\n              title: \"# of Arrests\",\n            },\n            explorer: {\n              axis: \"horizontal\",\n              keepInBounds: true,\n              maxZoomIn: 0.2,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default BoroughTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst CategoryTimeline = (props) => {\n  const { isMobileOrTablet, isMediumLaptop, isTinyPhone } = props;\n\n  const categoryTimelineColumns = useSelector(\n    (state) => state.categoryTimelineColumnsReducer.columns\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n    >\n      <p className=\"bottom_info_section_title\">Category Trends</p>\n      <div className=\"bottom_info_pie_container category_timeline_container\">\n        <Chart\n          legendToggle\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={categoryTimelineColumns}\n          options={{\n            legendToggle: true,\n            backgroundColor: \"transparent\",\n            width: isMobileOrTablet\n              ? isTinyPhone\n                ? 275\n                : 300\n              : isMediumLaptop\n              ? 350\n              : 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n            hAxis: {\n              title: \"Dates\",\n            },\n            vAxis: {\n              title: \"# of Arrests\",\n            },\n            explorer: {\n              axis: \"horizontal\",\n              keepInBounds: true,\n              maxZoomIn: 0.2,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default CategoryTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst GenderTimeline = (props) => {\n  const { isMobileOrTablet, isMediumLaptop, isTinyPhone } = props;\n\n  const sexTimelineColumns = useSelector(\n    (state) => state.sexTimelineColumnsReducer.columns\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n    >\n      <p className=\"bottom_info_section_title\">Gender Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          legendToggle\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={sexTimelineColumns}\n          options={{\n            legendToggle: true,\n            backgroundColor: \"transparent\",\n            width: isMobileOrTablet\n              ? isTinyPhone\n                ? 275\n                : 300\n              : isMediumLaptop\n              ? 350\n              : 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n            hAxis: {\n              title: \"Dates\",\n            },\n            vAxis: {\n              title: \"# of Arrests\",\n            },\n            explorer: {\n              axis: \"horizontal\",\n              keepInBounds: true,\n              maxZoomIn: 0.2,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default GenderTimeline;\n","import React from \"react\";\nimport { Chart } from \"react-google-charts\";\nimport DoubleBounce from \"better-react-spinkit/dist/DoubleBounce\";\nimport { useSelector } from \"react-redux\";\n\nconst RaceTimeline = (props) => {\n  const { isMobileOrTablet, isMediumLaptop, isTinyPhone } = props;\n\n  const raceTimelineColumns = useSelector(\n    (state) => state.raceTimelineColumnsReducer.columns\n  );\n\n  return (\n    <div\n      className=\"bottom_info_panel_info_box\"\n      onDragStart={(e) => e.preventDefault()}\n    >\n      <p className=\"bottom_info_section_title\">Race Trends</p>\n      <div className=\"bottom_info_pie_container\">\n        <Chart\n          legendToggle\n          chartType=\"LineChart\"\n          loader={<DoubleBounce size={100} color=\"rgb(93, 188, 210)\" />}\n          data={raceTimelineColumns}\n          options={{\n            legendToggle: true,\n            backgroundColor: \"transparent\",\n            width: isMobileOrTablet\n              ? isTinyPhone\n                ? 275\n                : 300\n              : isMediumLaptop\n              ? 350\n              : 500,\n            chartArea: { width: \"50%\", height: \"50%\" },\n            hAxis: {\n              title: \"Dates\",\n            },\n            vAxis: {\n              title: \"# of Arrests\",\n            },\n            explorer: {\n              axis: \"horizontal\",\n              keepInBounds: true,\n              maxZoomIn: 0.2,\n            },\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default RaceTimeline;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { FaChevronLeft, FaChevronRight } from \"react-icons/fa\";\nimport { GoGraph } from \"react-icons/go\";\nimport { FiMinimize2 } from \"react-icons/fi\";\nimport AliceCarousel from \"react-alice-carousel\";\nimport \"react-alice-carousel/lib/alice-carousel.css\";\nimport \"./BottomInfoPanel.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Category from \"./CarouselItems/Category/Category\";\nimport AgeGroup from \"./CarouselItems/AgeGroup/AgeGroup\";\nimport Race from \"./CarouselItems/Race/Race\";\nimport Gender from \"./CarouselItems/Gender/Gender\";\nimport Borough from \"./CarouselItems/Borough/Borough\";\nimport TopOffenses from \"./CarouselItems/TopOffenses/TopOffenses\";\nimport AgeGroupTimeline from \"./CarouselItems/AgeGroup/AgeGroupTimeline\";\nimport BoroughTimeline from \"./CarouselItems/Borough/BoroughTimeline\";\nimport CategoryTimeline from \"./CarouselItems/Category/CategoryTimeline\";\nimport GenderTimeline from \"./CarouselItems/Gender/GenderTimeline\";\nimport RaceTimeline from \"./CarouselItems/Race/RaceTimeline\";\nimport { RadioGroup, RadioButton } from \"react-radio-buttons\";\nimport { useSelector } from \"react-redux\";\nimport Tippy from \"@tippyjs/react\";\nimport Skeleton from \"react-loading-skeleton\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport { css } from \"@emotion/core\";\nimport \"react-circular-progressbar/dist/styles.css\";\n\nconst BottomInfoPanel = (props) => {\n  const {\n    tooltipVisible,\n    filteredAgeGroup,\n    filteredRaceArr,\n    filteredSexArr,\n    filteredBoroughArr,\n    filteredOffenseDescriptionArr,\n    filteredArrestCategory,\n    filteredUniqueCategory,\n\n    filteredAgeGroupData,\n    filteredRaceUniqueValues,\n    filteredSexUniqueValues,\n    filteredBoroughUniqueValues,\n    filteredOffenseDescriptionUniqueValues,\n    useOnClickOutside,\n\n    currentFilters,\n    isSame,\n    usePrevious,\n    graphOption,\n    changeGraphOption,\n    layersRef,\n    isMobileOrTablet,\n    isMediumLaptop,\n    footerMenuActive,\n    changeFooterMenuActive,\n    isTinyPhone,\n    resetFilters,\n\n    filteredTimelineAgeGroupData,\n    filteredTimelineBoroughData,\n    filteredTimelineCategoryData,\n    filteredTimelineSexData,\n    filteredTimelineRaceData,\n  } = props;\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n  const trendsAvailable = useSelector(\n    (state) => state.trendsAvailableReducer.available\n  );\n\n  // Timeline Column Data\n  const ageTimelineColumns = useSelector(\n    (state) => state.ageTimelineColumnsReducer.columns\n  );\n  const boroughTimelineColumns = useSelector(\n    (state) => state.boroughTimelineColumnsReducer.columns\n  );\n  const categoryTimelineColumns = useSelector(\n    (state) => state.categoryTimelineColumnsReducer.columns\n  );\n  const raceTimelineColumns = useSelector(\n    (state) => state.raceTimelineColumnsReducer.columns\n  );\n  const sexTimelineColumns = useSelector(\n    (state) => state.sexTimelineColumnsReducer.columns\n  );\n\n  const [firstTimeFooterActive, changeFirstTimeFooterActive] = useState(false);\n  const [arrowTooltipVisible, changeArrowTooltipVisible] = useState(false);\n  const [timelineTooltipVisible, changeTimelineTooltipVisible] = useState(\n    false\n  );\n  const [firstTimeTrendsActive, changeFirstTimeTrendsActive] = useState(false);\n  const [graphsDrawn, changeGraphsDrawn] = useState(false);\n  const [footerLoaderActive, changeFooterLoaderActive] = useState(false);\n\n  let CarouselRef = useRef(null);\n  let CarouselTimelineRef = useRef(null);\n  const bottomInfoPanelRef = useRef(null);\n\n  const rightArrow = document.getElementsByClassName(\"carousel_right_arrow\");\n  const aliceCarouselContainer = document.getElementsByClassName(\n    \"alice-carousel\"\n  );\n  const categoryTimelineContainer = document.getElementsByClassName(\n    \"category_timeline_container\"\n  );\n  const googleTooltipContainer = document.getElementsByClassName(\n    \"google-visualization-tooltip\"\n  );\n  const deckGLWrapper = document.getElementById(\"deckgl-wrapper\");\n\n  const override = css`\n    display: block;\n    margin: 0 auto;\n  `;\n\n  useOnClickOutside(bottomInfoPanelRef, () => {\n    if (!isMobileOrTablet) {\n      changeFooterMenuActive(false);\n      changeGraphOption(\"overview\");\n    }\n  });\n\n  // Blocks map UI when footer menu is active\n  useEffect(() => {\n    if (!isMobileOrTablet) {\n      if (deckGLWrapper) {\n        if (footerMenuActive) {\n          deckGLWrapper.style.filter = \"blur(1px) brightness(0.2)\";\n          deckGLWrapper.style[\"-webkit-filter\"] = \"blur(1px) brightness(0.2)\";\n          deckGLWrapper.style.pointerEvents = \"none\";\n        } else {\n          deckGLWrapper.style.filter = \"none\";\n          deckGLWrapper.style[\"-webkit-filter\"] = \"none\";\n          deckGLWrapper.style.pointerEvents = \"auto\";\n        }\n      }\n    } else {\n      deckGLWrapper.style.filter = \"none\";\n      deckGLWrapper.style[\"-webkit-filter\"] = \"none\";\n      deckGLWrapper.style.pointerEvents = \"auto\";\n    }\n  }, [deckGLWrapper, footerMenuActive, isMobileOrTablet]);\n\n  // Hide tooltip when trend dataset is untoggled\n  useEffect(() => {\n    if (graphOption === \"trends\" && !applyingFilters) {\n      const checkForTooltip = setInterval(() => {\n        const tooltip = googleTooltipContainer[0];\n        const circles = document.getElementsByTagName(\"circle\");\n\n        if (tooltip) {\n          const activePanelContainer = document.getElementsByClassName(\n            \"alice-carousel__stage-item __active\"\n          );\n\n          if (activePanelContainer[1]) {\n            const activePaths = activePanelContainer[1].getElementsByTagName(\n              \"path\"\n            );\n            const activeText = activePanelContainer[1].getElementsByTagName(\n              \"text\"\n            );\n\n            const valuesLength = (activePaths.length - 2) / 2;\n\n            for (let i = 0; i < valuesLength; i++) {\n              if (activePaths.item(i).getAttribute(\"stroke\") === \"none\") {\n                if (\n                  activeText.item(i).textContent.slice(0, 4) ===\n                  tooltip.lastChild.firstChild.textContent\n                    .split(\":\")[0]\n                    .slice(0, 4)\n                ) {\n                  tooltip.style.display = \"none\";\n\n                  for (let j = 0; j < circles.length; j++) {\n                    circles[j].style.display = \"none\";\n                  }\n                }\n              }\n            }\n          } else {\n            for (let j = 0; j < circles.length; j++) {\n              circles[j].style.display = \"block\";\n            }\n          }\n        }\n      }, 10);\n\n      return () => {\n        clearInterval(checkForTooltip);\n      };\n    }\n  }, [googleTooltipContainer, graphOption, applyingFilters]);\n\n  useEffect(() => {\n    if (graphOption === \"trends\") {\n      if (!firstTimeTrendsActive) {\n        setTimeout(() => {\n          changeTimelineTooltipVisible(true);\n        }, 1800);\n        setTimeout(() => {\n          changeTimelineTooltipVisible(false);\n        }, 6800);\n\n        changeFirstTimeTrendsActive(true);\n      }\n    }\n  }, [graphOption, firstTimeTrendsActive]);\n\n  useEffect(() => {\n    const graphOptionsContainer = document.getElementsByClassName(\n      \"graph_options_container\"\n    )[0];\n\n    const trendsRadioButton = graphOptionsContainer.lastChild.lastChild;\n\n    if (trendsRadioButton) {\n      if (!trendsAvailable) {\n        trendsRadioButton.style.opacity = 0.7;\n      } else {\n        trendsRadioButton.style.opacity = 1;\n      }\n    }\n  }, [trendsAvailable]);\n\n  useEffect(() => {\n    if (!applyingFilters) {\n      if (footerMenuActive) {\n        const findCarouselInterval = setInterval(() => {\n          if (graphOption === \"overview\") {\n            if (aliceCarouselContainer[0]) {\n              if (\n                !aliceCarouselContainer[0].className.includes(\n                  \"overview_carousel\"\n                )\n              ) {\n                aliceCarouselContainer[0].className += \" overview_carousel\";\n                changeFooterLoaderActive(false);\n                clearInterval(findCarouselInterval);\n              }\n            }\n          } else {\n            if (aliceCarouselContainer[0]) {\n              if (\n                !aliceCarouselContainer[0].className.includes(\"trends_carousel\")\n              ) {\n                aliceCarouselContainer[0].className += \" trends_carousel\";\n                changeFooterLoaderActive(false);\n                clearInterval(findCarouselInterval);\n              }\n            }\n          }\n        }, 10);\n\n        return () => {\n          clearInterval(findCarouselInterval);\n        };\n      }\n    }\n  }, [\n    footerMenuActive,\n    aliceCarouselContainer,\n    applyingFilters,\n    graphOption,\n    footerLoaderActive,\n  ]);\n\n  const handleFooterMenuActive = () => {\n    if (footerMenuActive) {\n      changeFooterMenuActive(false);\n      changeGraphOption(\"overview\");\n    } else {\n      changeFooterMenuActive(true);\n      changeGraphOption(\"overview\");\n\n      if (!firstTimeFooterActive) {\n        setTimeout(() => {\n          changeArrowTooltipVisible(true);\n        }, 1800);\n        setTimeout(() => {\n          changeArrowTooltipVisible(false);\n        }, 6800);\n\n        changeFirstTimeFooterActive(true);\n      }\n    }\n  };\n\n  const handleDismissTooltips = () => {\n    if (graphOption === \"trends\") {\n      if (timelineTooltipVisible) {\n        changeTimelineTooltipVisible(false);\n      }\n\n      if (arrowTooltipVisible) {\n        changeArrowTooltipVisible(false);\n      }\n    }\n  };\n\n  return (\n    <>\n      <div\n        className=\"desktop_return_to_map_overlay\"\n        style={{\n          display: isMobileOrTablet\n            ? \"none\"\n            : footerMenuActive\n            ? \"flex\"\n            : \"none\",\n        }}\n      >\n        <FiMinimize2 /> <p>Click to return to arrest map</p>\n      </div>\n      <div\n        className=\"bottom_info_panel_container\"\n        ref={bottomInfoPanelRef}\n        style={{\n          zIndex: isMobileOrTablet\n            ? tooltipVisible\n              ? -1\n              : 10\n            : tooltipVisible\n            ? -1\n            : 0,\n          transform: isMobileOrTablet\n            ? footerMenuActive\n              ? \"translate3d(0, 0, 0)\"\n              : \"translate3d(0, 100%, 0)\"\n            : \"none\",\n        }}\n      >\n        <div\n          className=\"shadow_overlay\"\n          onClick={() => {\n            changeFooterMenuActive(false);\n            changeGraphOption(\"overview\");\n          }}\n          style={{\n            opacity: footerMenuActive ? 1 : 0,\n            display: footerMenuActive ? \"block\" : \"none\",\n          }}\n        >\n          {\" \"}\n        </div>\n        <div\n          className=\"desktop_bottom_footer_placeholder\"\n          onClick={handleFooterMenuActive}\n          style={{\n            display: isMobileOrTablet\n              ? \"none\"\n              : footerMenuActive\n              ? \"none\"\n              : \"flex\",\n          }}\n        >\n          <GoGraph /> Click to view graphs and trends\n        </div>\n        <div className=\"footer_menu_trigger\" onClick={handleFooterMenuActive}>\n          {!footerMenuActive ? (\n            <>\n              <GoGraph /> VIEW GRAPHS AND TRENDS\n            </>\n          ) : (\n            <>\n              <FiMinimize2 /> BACK TO ARREST MAP\n            </>\n          )}\n        </div>\n        <div\n          className=\"bottom_info_main_info_box\"\n          style={{\n            zIndex: footerMenuActive ? 99999999 : 99999,\n            filter: isMobileOrTablet\n              ? \"none\"\n              : footerMenuActive\n              ? \"none\"\n              : \"blur(3px)\",\n            WebkitFilter: isMobileOrTablet\n              ? \"none\"\n              : footerMenuActive\n              ? \"none\"\n              : \"blur(3px)\",\n          }}\n        >\n          <div className=\"filters_applied\">\n            <h2>Filters Applied</h2>\n            {currentFilters.category.length === 0 &&\n            currentFilters.offense.length === 0 &&\n            currentFilters.age.length === 0 &&\n            currentFilters.race.length === 0 &&\n            currentFilters.sex.length === 0 &&\n            currentFilters.borough.length === 0 ? (\n              <p className=\"no_filters_applied_statement\">\n                No filters currently applied\n              </p>\n            ) : (\n              <>\n                <p>\n                  <strong>\n                    {currentFilters.category.length === 0\n                      ? null\n                      : \"Categor\" +\n                        (currentFilters.category.length > 1 ? \"ies: \" : \"y: \")}\n                  </strong>\n                  {currentFilters.category.length === 0\n                    ? null\n                    : currentFilters.category\n                        .map((x) =>\n                          x === \"F\"\n                            ? \"Felony\"\n                            : x === \"M\"\n                            ? \"Misdemeanor\"\n                            : \"Violation\"\n                        )\n                        .join(\", \")}\n                </p>\n                <p>\n                  <strong>\n                    {currentFilters.offense.length === 0\n                      ? null\n                      : \"Offense\" +\n                        (currentFilters.offense.length === 1 ? \": \" : \"s: \")}\n                  </strong>\n                  {currentFilters.offense.length === 0\n                    ? null\n                    : currentFilters.offense\n                        .map((item) =>\n                          item\n                            .split(\" \")\n                            .map(\n                              (x) =>\n                                x[0].toUpperCase() + x.slice(1).toLowerCase()\n                            )\n                            .join(\" \")\n                            .split(\"/\")\n                            .map(\n                              (x) =>\n                                x[0].toUpperCase() +\n                                x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                                x.slice(x.indexOf(\" \"))\n                            )\n                            .join(\"/\")\n                        )\n                        .join(\", \")}\n                </p>\n                <p>\n                  <strong>\n                    {currentFilters.age.length === 0\n                      ? null\n                      : \"Age\" +\n                        (currentFilters.age.length === 1 ? \": \" : \"s: \")}\n                  </strong>\n                  {currentFilters.age.length === 0\n                    ? null\n                    : currentFilters.age\n                        .map((x) => (x === \"65\" ? \"65+\" : x))\n                        .join(\", \")}\n                </p>\n                <p>\n                  <strong>\n                    {currentFilters.race.length === 0\n                      ? null\n                      : \"Race\" +\n                        (currentFilters.race.length === 1 ? \": \" : \"s: \")}\n                  </strong>\n                  {currentFilters.race.length === 0\n                    ? null\n                    : currentFilters.race.join(\", \")}\n                </p>\n                <p>\n                  <strong>\n                    {currentFilters.sex.length === 0 ? null : \"Sex: \"}\n                  </strong>\n                  {currentFilters.sex.length === 0\n                    ? null\n                    : currentFilters.sex\n                        .map((x) => (x === \"M\" ? \"Male\" : \"Female\"))\n                        .join(\", \")}\n                </p>\n                <p>\n                  <strong>\n                    {currentFilters.borough.length === 0\n                      ? null\n                      : \"Borough\" +\n                        (currentFilters.borough.length === 1 ? \": \" : \"s: \")}\n                  </strong>\n                  {currentFilters.borough.length === 0\n                    ? null\n                    : currentFilters.borough\n                        .map((item) =>\n                          item === \"B\"\n                            ? \"Bronx\"\n                            : item === \"Q\"\n                            ? \"Queens\"\n                            : item === \"M\"\n                            ? \"Manhattan\"\n                            : item === \"K\"\n                            ? \"Brooklyn\"\n                            : item === \"S\"\n                            ? \"Staten Island\"\n                            : \"Unknown\"\n                        )\n                        .join(\", \")}\n                </p>\n              </>\n            )}\n          </div>\n          <div className=\"graph_options_container\">\n            <p>Graph Options</p>\n            <RadioGroup\n              onChange={(value) => {\n                if (graphOption === value) {\n                  return null;\n                } else {\n                  changeGraphOption(value);\n                  changeFooterLoaderActive(true);\n                }\n              }}\n              horizontal\n              value={graphOption}\n            >\n              <RadioButton\n                rootColor=\"rgb(140, 140, 140)\"\n                pointColor=\"rgb(0, 0, 128)\"\n                value=\"overview\"\n              >\n                Overview\n              </RadioButton>\n              <RadioButton\n                rootColor=\"rgb(140, 140, 140)\"\n                pointColor=\"rgb(0, 0, 128)\"\n                value=\"trends\"\n                disabled={!trendsAvailable}\n                disabledColor=\"rgb(211, 211, 211)\"\n              >\n                Trends\n              </RadioButton>\n            </RadioGroup>\n          </div>\n        </div>\n        <div\n          className=\"carousel_container\"\n          onTouchStart={handleDismissTooltips}\n          style={{\n            display: footerMenuActive ? \"block\" : \"flex\",\n            paddingLeft: isMobileOrTablet\n              ? \"0\"\n              : footerMenuActive\n              ? \"0\"\n              : isMediumLaptop\n              ? \"27%\"\n              : \"15%\",\n          }}\n        >\n          <div\n            className=\"footer_carousel_loading_container\"\n            style={{\n              zIndex: footerMenuActive\n                ? graphsDrawn\n                  ? footerLoaderActive\n                    ? 999999999999999\n                    : 0\n                  : 999999999999999\n                : 0,\n              opacity: footerMenuActive\n                ? graphsDrawn\n                  ? footerLoaderActive\n                    ? 1\n                    : 0\n                  : 1\n                : 0,\n            }}\n          >\n            <ClipLoader\n              css={override}\n              size={80}\n              color={\"rgb(0, 109, 129)\"}\n              style={{ transition: \"all 0.5s ease\" }}\n              loading={true}\n            />\n          </div>\n          <Tippy\n            content={`Click the left and right arrows ${\n              isMobileOrTablet ? \"or swipe\" : \"or drag\"\n            } to view more graphs`}\n            visible={\n              graphsDrawn &&\n              !footerLoaderActive &&\n              footerMenuActive &&\n              arrowTooltipVisible &&\n              layersRef.current.length > 0 &&\n              (ageTimelineColumns ? ageTimelineColumns.length > 0 : false) &&\n              (boroughTimelineColumns\n                ? boroughTimelineColumns.length > 0\n                : false) &&\n              (categoryTimelineColumns\n                ? categoryTimelineColumns.length > 0\n                : false) &&\n              (raceTimelineColumns ? raceTimelineColumns.length > 0 : false) &&\n              (sexTimelineColumns ? sexTimelineColumns.length > 0 : false)\n            }\n            reference={rightArrow[0]}\n            className=\"burger_tooltip\"\n            placement=\"left\"\n            onClickOutside={() => changeArrowTooltipVisible(false)}\n          />\n          {footerMenuActive ? (\n            <FaChevronLeft\n              color=\"rgb(0, 0, 0)\"\n              className=\"carousel_left_arrow\"\n              onClick={() => {\n                if (graphOption === \"overview\") {\n                  if (CarouselRef) {\n                    CarouselRef.slidePrev();\n                  }\n                } else {\n                  if (CarouselTimelineRef) {\n                    CarouselTimelineRef.slidePrev();\n                  }\n                }\n\n                if (arrowTooltipVisible) {\n                  changeArrowTooltipVisible(false);\n                }\n              }}\n            />\n          ) : null}\n          {!footerMenuActive ||\n          applyingFilters ||\n          resetFilters ||\n          graphOption !== \"overview\" ? null : (\n            <AliceCarousel\n              ref={(el) => (CarouselRef = el)}\n              autoPlay={false}\n              fadeOutAnimation={true}\n              disableDotsControls={true}\n              disableButtonsControls={true}\n              mouseTracking={true}\n              playButtonEnabled={false}\n              responsive={{\n                0: { items: 1 },\n                760: { items: 2 },\n                1224: { items: 3 },\n                1800: { items: 4 },\n              }}\n              infinite={true}\n              items={[\n                <Category\n                  key=\"overview\"\n                  filteredArrestCategory={filteredArrestCategory}\n                  graphOption={graphOption}\n                  graphsDrawn={graphsDrawn}\n                  changeGraphsDrawn={changeGraphsDrawn}\n                />,\n                <AgeGroup\n                  key=\"overview\"\n                  filteredAgeGroup={filteredAgeGroup}\n                  filteredAgeGroupData={filteredAgeGroupData}\n                  graphOption={graphOption}\n                />,\n                <Race\n                  key=\"overview\"\n                  filteredRaceUniqueValues={filteredRaceUniqueValues}\n                  filteredRaceArr={filteredRaceArr}\n                  graphOption={graphOption}\n                />,\n                <Gender\n                  key=\"overview\"\n                  filteredSexUniqueValues={filteredSexUniqueValues}\n                  filteredSexArr={filteredSexArr}\n                  graphOption={graphOption}\n                />,\n                <Borough\n                  key=\"overview\"\n                  filteredBoroughUniqueValues={filteredBoroughUniqueValues}\n                  filteredBoroughArr={filteredBoroughArr}\n                  graphOption={graphOption}\n                />,\n                <TopOffenses\n                  key=\"overview\"\n                  filteredOffenseDescriptionArr={filteredOffenseDescriptionArr}\n                  filteredOffenseDescriptionUniqueValues={\n                    filteredOffenseDescriptionUniqueValues\n                  }\n                  graphOption={graphOption}\n                  isSame={isSame}\n                  usePrevious={usePrevious}\n                  isMobileOrTablet={isMobileOrTablet}\n                  isMediumLaptop={isMediumLaptop}\n                />,\n              ]}\n            />\n          )}\n          <Skeleton\n            circle={true}\n            height={150}\n            width={150}\n            style={{\n              display: isMobileOrTablet\n                ? \"none\"\n                : footerMenuActive\n                ? \"none\"\n                : \"flex\",\n            }}\n          />\n          <Skeleton\n            circle={true}\n            height={150}\n            width={150}\n            style={{\n              display: isMobileOrTablet\n                ? \"none\"\n                : footerMenuActive\n                ? \"none\"\n                : \"flex\",\n            }}\n          />\n          <Skeleton\n            circle={true}\n            height={150}\n            width={150}\n            style={{\n              display: isMobileOrTablet\n                ? \"none\"\n                : footerMenuActive\n                ? \"none\"\n                : \"flex\",\n            }}\n          />\n          <Tippy\n            content={\n              isMobileOrTablet\n                ? null\n                : \"Scroll to zoom in and out of trend graphs\"\n            }\n            visible={\n              isMobileOrTablet\n                ? false\n                : graphOption === \"trends\" &&\n                  timelineTooltipVisible &&\n                  graphsDrawn &&\n                  !footerLoaderActive\n            }\n            reference={\n              categoryTimelineContainer.length > 2\n                ? categoryTimelineContainer[1]\n                : categoryTimelineContainer[0]\n            }\n            className=\"burger_tooltip trend_tooltip\"\n            placement=\"top\"\n            onClickOutside={() => changeTimelineTooltipVisible(false)}\n          />\n          <Tippy\n            content=\"Toggle data lines by selecting legend items\"\n            visible={\n              graphOption === \"trends\" &&\n              timelineTooltipVisible &&\n              graphsDrawn &&\n              !footerLoaderActive\n            }\n            reference={\n              categoryTimelineContainer.length > 2\n                ? categoryTimelineContainer[1]\n                : categoryTimelineContainer[0]\n            }\n            className=\"burger_tooltip trend_tooltip\"\n            placement={isMobileOrTablet ? \"left\" : \"right\"}\n            offset={isMobileOrTablet ? [-30, -180] : [0, 50]}\n            onClickOutside={() => changeTimelineTooltipVisible(false)}\n          />\n          {applyingFilters ||\n          resetFilters ||\n          !footerMenuActive ||\n          graphOption === \"overview\" ? null : (\n            <AliceCarousel\n              ref={(el) => (CarouselTimelineRef = el)}\n              autoPlay={false}\n              disableDotsControls={true}\n              disableButtonsControls={true}\n              mouseTracking={false}\n              playButtonEnabled={false}\n              touchMoveDefaultEvents={false}\n              infinite={true}\n              responsive={{\n                0: { items: 1 },\n                760: { items: 2 },\n                1224: { items: 3 },\n                2000: { items: 4 },\n              }}\n              items={[\n                <CategoryTimeline\n                  key=\"trends\"\n                  filteredTimelineCategoryData={filteredTimelineCategoryData}\n                  filteredArrestCategory={filteredArrestCategory}\n                  filteredUniqueCategory={filteredUniqueCategory}\n                  isMobileOrTablet={isMobileOrTablet}\n                  isMediumLaptop={isMediumLaptop}\n                  isTinyPhone={isTinyPhone}\n                />,\n                <AgeGroupTimeline\n                  key=\"trends\"\n                  filteredAgeGroupData={filteredAgeGroupData}\n                  filteredTimelineAgeGroupData={filteredTimelineAgeGroupData}\n                  isMobileOrTablet={isMobileOrTablet}\n                  isMediumLaptop={isMediumLaptop}\n                  isTinyPhone={isTinyPhone}\n                />,\n                <BoroughTimeline\n                  key=\"trends\"\n                  filteredBoroughUniqueValues={filteredBoroughUniqueValues}\n                  filteredTimelineBoroughData={filteredTimelineBoroughData}\n                  isMobileOrTablet={isMobileOrTablet}\n                  isMediumLaptop={isMediumLaptop}\n                  isTinyPhone={isTinyPhone}\n                />,\n                <RaceTimeline\n                  key=\"trends\"\n                  filteredRaceUniqueValues={filteredRaceUniqueValues}\n                  filteredTimelineRaceData={filteredTimelineRaceData}\n                  isMobileOrTablet={isMobileOrTablet}\n                  isMediumLaptop={isMediumLaptop}\n                  isTinyPhone={isTinyPhone}\n                />,\n                <GenderTimeline\n                  key=\"trends\"\n                  filteredSexUniqueValues={filteredSexUniqueValues}\n                  filteredTimelineSexData={filteredTimelineSexData}\n                  isMobileOrTablet={isMobileOrTablet}\n                  isMediumLaptop={isMediumLaptop}\n                  isTinyPhone={isTinyPhone}\n                />,\n              ]}\n            />\n          )}\n          {footerMenuActive ? (\n            <FaChevronRight\n              color=\"rgb(0, 0, 0)\"\n              className=\"carousel_right_arrow\"\n              onClick={() => {\n                if (graphOption === \"overview\") {\n                  if (CarouselRef) {\n                    CarouselRef.slideNext();\n                  }\n                } else {\n                  if (CarouselTimelineRef) {\n                    CarouselTimelineRef.slideNext();\n                  }\n                }\n\n                if (arrowTooltipVisible) {\n                  changeArrowTooltipVisible(false);\n                }\n              }}\n            />\n          ) : null}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default BottomInfoPanel;\n","import React from \"react\";\nimport {\n  CircularProgressbarWithChildren,\n  buildStyles,\n} from \"react-circular-progressbar\";\nimport { GiHandcuffs } from \"react-icons/gi\";\nimport GridLoader from \"react-spinners/GridLoader\";\nimport BounceLoader from \"react-spinners/BounceLoader\";\nimport { css } from \"@emotion/core\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport { useSelector } from \"react-redux\";\nimport Div100vh from \"react-div-100vh\";\n\nconst InitialLoader = (props) => {\n  const { countUp, loaderColor, mapError, applyingFiltersProgressRef } = props;\n\n  const override = css`\n    display: block;\n    margin: 0 auto;\n  `;\n\n  const filteredDataChunks = useSelector(\n    (state) => state.filteredDataChunksReducer.data\n  );\n\n  const totalCount = useSelector((state) => state.totalCountReducer.total);\n\n  return (\n    <Div100vh className=\"loading_container\">\n      {totalCount === 0 ? (\n        <GridLoader\n          css={override}\n          size={50}\n          color={loaderColor}\n          style={{ transition: \"all 0.5s ease\" }}\n          loading={\n            filteredDataChunks === \"\" ||\n            (typeof filteredDataChunks === \"object\" &&\n              filteredDataChunks.flat().length < 90000)\n          }\n        />\n      ) : countUp > 95 ? (\n        <BounceLoader\n          css={override}\n          size={200}\n          color={\"rgb(93, 188, 210)\"}\n          style={{ transition: \"all 0.5s ease\" }}\n          loading={countUp > 95}\n        />\n      ) : (\n        <CircularProgressbarWithChildren\n          value={countUp}\n          styles={buildStyles({\n            strokeLinecap: \"butt\",\n            trailColor: \"#eee\",\n          })}\n        >\n          <GiHandcuffs color=\"#fff\" size=\"4rem\" />\n          <div style={{ fontSize: 30, marginTop: 20, color: \"#fff\" }}>\n            <strong>{countUp}%</strong>\n          </div>\n        </CircularProgressbarWithChildren>\n      )}\n      <p>\n        {mapError\n          ? \"Error Initializing NYPD Arrest Map\"\n          : totalCount === 0\n          ? \"Initializing NYPD Arrest Map\"\n          : countUp > 95\n          ? `Analyzing Arrest Data`\n          : \"Loading Most Recent Arrest Data\"}\n      </p>\n      {totalCount !== 0 && countUp > 95 ? (\n        <span>({applyingFiltersProgressRef.current}% Done)</span>\n      ) : null}\n    </Div100vh>\n  );\n};\n\nexport default InitialLoader;\n","import React, { useEffect, useState } from \"react\";\nimport {\n  CircularProgressbarWithChildren,\n  buildStyles,\n} from \"react-circular-progressbar\";\nimport { GiHandcuffs } from \"react-icons/gi\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport Modal from \"react-modal\";\nimport yearlyTotals from \"./YearlyTotals\";\nimport { useSelector } from \"react-redux\";\n\nconst SubsequentLoader = (props) => {\n  const { modalActive, changeModalActive } = props;\n\n  const loadDataChunks = useSelector(\n    (state) => state.loadDataChunksReducer.data\n  );\n  const filteredDataChunks = useSelector(\n    (state) => state.filteredDataChunksReducer.data\n  );\n\n  const [newProgress, changeNewProgress] = useState(0);\n\n  useEffect(() => {\n    if (loadDataChunks[0][modalActive.year.toString()]) {\n      const progress =\n        Number(\n          loadDataChunks[0][modalActive.year.toString()]\n            .map((x) => x.length)\n            .reduce((a, b) => a + b, 0) /\n            yearlyTotals[modalActive.year.toString()]\n        ).toFixed(1) * 100;\n\n      if (newProgress === 100) {\n        changeModalActive({ active: false, year: null });\n      } else {\n        if (progress && progress !== newProgress) {\n          changeNewProgress(progress);\n        }\n      }\n    }\n  }, [\n    loadDataChunks,\n    modalActive.year,\n    changeModalActive,\n    newProgress,\n    filteredDataChunks.length,\n  ]);\n\n  return (\n    <Modal\n      isOpen={modalActive.active}\n      style={{\n        content: {\n          position: \"fixed\",\n          zIndex: 10000,\n          opacity: 0.99,\n          height: \"100%\",\n          backdropFilter: \"blur(5px)\",\n          WebkitBackdropFilter: \"blur(5px)\",\n          paddingBottom: \"10%\",\n          borderRadius: \"none\",\n          width: \"100vw\",\n          top: \"0\",\n          left: \"0\",\n          right: \"0\",\n          bottom: \"0\",\n          border: \"none\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          background: \"rgba(0, 0, 0, 0.5)\",\n        },\n      }}\n    >\n      <CircularProgressbarWithChildren\n        value={newProgress}\n        styles={buildStyles({\n          strokeLinecap: \"butt\",\n          trailColor: \"#eee\",\n        })}\n      >\n        <GiHandcuffs color=\"#fff\" size=\"4rem\" />\n        <div style={{ fontSize: 30, marginTop: 20, color: \"#fff\" }}>\n          <strong>{newProgress}%</strong>\n        </div>\n      </CircularProgressbarWithChildren>\n      <p>Loading {modalActive.year} Arrest Data</p>\n    </Modal>\n  );\n};\n\nexport default SubsequentLoader;\n","const FILTERED_DATA_CHUNKS_ADD_TO_YEAR = \"FILTERED_DATA_CHUNKS_ADD_TO_YEAR\";\n\nconst ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR = (data, dataIndex) => {\n  return {\n    type: FILTERED_DATA_CHUNKS_ADD_TO_YEAR,\n    data,\n    dataIndex,\n  };\n};\n\nexport default ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR;\n","const FILTERED_DATA_CHUNKS_ADD_YEAR = \"FILTERED_DATA_CHUNKS_ADD_YEAR\";\n\nconst ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR = (data) => {\n  return {\n    type: FILTERED_DATA_CHUNKS_ADD_YEAR,\n    data,\n  };\n};\n\nexport default ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR;\n","const ASSIGN_FILTERED_DATA_CHUNKS = \"ASSIGN_FILTERED_DATA_CHUNKS\";\n\nconst ACTION_ASSIGN_FILTERED_DATA_CHUNKS = (data) => {\n  return {\n    type: ASSIGN_FILTERED_DATA_CHUNKS,\n    data,\n  };\n};\n\nexport default ACTION_ASSIGN_FILTERED_DATA_CHUNKS;\n","const INCREMENT_TOTAL_COUNT = \"INCREMENT_TOTAL_COUNT\";\n\nconst ACTION_INCREMENT_TOTAL_COUNT = (dataLength) => {\n  return {\n    type: INCREMENT_TOTAL_COUNT,\n    dataLength,\n  };\n};\n\nexport default ACTION_INCREMENT_TOTAL_COUNT;\n","const ASSIGN_LOAD_DATA = \"ASSIGN_LOAD_DATA\";\n\nconst ACTION_ASSIGN_LOAD_DATA = (data) => {\n  return {\n    type: ASSIGN_LOAD_DATA,\n    data,\n  };\n};\n\nexport default ACTION_ASSIGN_LOAD_DATA;\n","const FILTERED_DATA_CHANGED = \"FILTERED_DATA_CHANGED\";\n\nconst ACTION_FILTERED_DATA_CHANGED = () => {\n  return {\n    type: FILTERED_DATA_CHANGED,\n  };\n};\n\nexport default ACTION_FILTERED_DATA_CHANGED;\n","const FILTERED_DATA_CHANGED_RESET = \"FILTERED_DATA_CHANGED_RESET\";\n\nconst ACTION_FILTERED_DATA_CHANGED_RESET = () => {\n  return {\n    type: FILTERED_DATA_CHANGED_RESET,\n  };\n};\n\nexport default ACTION_FILTERED_DATA_CHANGED_RESET;\n","const TIMELINE_AGE_GROUP_GRAPH_DATA = \"TIMELINE_AGE_GROUP_GRAPH_DATA\";\n\nconst ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA = (data) => {\n  return {\n    type: TIMELINE_AGE_GROUP_GRAPH_DATA,\n    data,\n  };\n};\n\nexport default ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA;\n","const TIMELINE_BOROUGH_GRAPH_DATA = \"TIMELINE_BOROUGH_GRAPH_DATA\";\n\nconst ACTION_TIMELINE_BOROUGH_GRAPH_DATA = (data) => {\n  return {\n    type: TIMELINE_BOROUGH_GRAPH_DATA,\n    data,\n  };\n};\n\nexport default ACTION_TIMELINE_BOROUGH_GRAPH_DATA;\n","const TIMELINE_CATEGORY_GRAPH_DATA = \"TIMELINE_CATEGORY_GRAPH_DATA\";\n\nconst ACTION_TIMELINE_CATEGORY_GRAPH_DATA = (data) => {\n  return {\n    type: TIMELINE_CATEGORY_GRAPH_DATA,\n    data,\n  };\n};\n\nexport default ACTION_TIMELINE_CATEGORY_GRAPH_DATA;\n","const TIMELINE_GENDER_GRAPH_DATA = \"TIMELINE_GENDER_GRAPH_DATA\";\n\nconst ACTION_TIMELINE_GENDER_GRAPH_DATA = (data) => {\n  return {\n    type: TIMELINE_GENDER_GRAPH_DATA,\n    data,\n  };\n};\n\nexport default ACTION_TIMELINE_GENDER_GRAPH_DATA;\n","const TIMELINE_RACE_GRAPH_DATA = \"TIMELINE_RACE_GRAPH_DATA\";\n\nconst ACTION_TIMELINE_RACE_GRAPH_DATA = (data) => {\n  return {\n    type: TIMELINE_RACE_GRAPH_DATA,\n    data,\n  };\n};\n\nexport default ACTION_TIMELINE_RACE_GRAPH_DATA;\n","export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"static/js/setFilterAndTimelineGraphWorkers.b83ccf22.worker.js\");\n}\n","const AGE_TIMELINE_COLUMNS = \"AGE_TIMELINE_COLUMNS\";\n\nconst ACTION_AGE_TIMELINE_COLUMNS = (columns) => {\n  return {\n    type: AGE_TIMELINE_COLUMNS,\n    columns,\n  };\n};\n\nexport default ACTION_AGE_TIMELINE_COLUMNS;\n","const BOROUGH_TIMELINE_COLUMNS = \"BOROUGH_TIMELINE_COLUMNS\";\n\nconst ACTION_BOROUGH_TIMELINE_COLUMNS = (columns) => {\n  return {\n    type: BOROUGH_TIMELINE_COLUMNS,\n    columns,\n  };\n};\n\nexport default ACTION_BOROUGH_TIMELINE_COLUMNS;\n","const CATEGORY_TIMELINE_COLUMNS = \"CATEGORY_TIMELINE_COLUMNS\";\n\nconst ACTION_CATEGORY_TIMELINE_COLUMNS = (columns) => {\n  return {\n    type: CATEGORY_TIMELINE_COLUMNS,\n    columns,\n  };\n};\n\nexport default ACTION_CATEGORY_TIMELINE_COLUMNS;\n","const SEX_TIMELINE_COLUMNS = \"SEX_TIMELINE_COLUMNS\";\n\nconst ACTION_SEX_TIMELINE_COLUMNS = (columns) => {\n  return {\n    type: SEX_TIMELINE_COLUMNS,\n    columns,\n  };\n};\n\nexport default ACTION_SEX_TIMELINE_COLUMNS;\n","const RACE_TIMELINE_COLUMNS = \"RACE_TIMELINE_COLUMNS\";\n\nconst ACTION_RACE_TIMELINE_COLUMNS = (columns) => {\n  return {\n    type: RACE_TIMELINE_COLUMNS,\n    columns,\n  };\n};\n\nexport default ACTION_RACE_TIMELINE_COLUMNS;\n","const APPLYING_FILTERS_RESET = \"APPLYING_FILTERS_RESET\";\n\nconst ACTION_APPLYING_FILTERS_RESET = () => {\n  return {\n    type: APPLYING_FILTERS_RESET,\n  };\n};\n\nexport default ACTION_APPLYING_FILTERS_RESET;\n","import React, { useEffect, useRef } from \"react\";\nimport Popup from \"reactjs-popup\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\nimport { css } from \"@emotion/core\";\nimport \"react-circular-progressbar/dist/styles.css\";\nimport \"./ApplyingFiltersPopUp.css\";\nimport \"reactjs-popup/dist/index.css\";\nimport { useSelector } from \"react-redux\";\n\nconst ApplyingFiltersPopUp = (props) => {\n  const { applyingFiltersProgressRef } = props;\n\n  const applyingFiltersRef = useRef(null);\n\n  const override = css`\n    display: block;\n    margin: 0 auto;\n  `;\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n\n  const resetFilters = useSelector((state) => state.resetFiltersReducer.reset);\n\n  useEffect(() => {\n    if (applyingFiltersRef) {\n      if (applyingFiltersRef.current) {\n        if (applyingFilters || resetFilters) {\n          applyingFiltersRef.current.open();\n        } else {\n          applyingFiltersRef.current.close();\n        }\n      }\n    }\n  }, [applyingFilters, resetFilters]);\n\n  return (\n    <Popup\n      className=\"applying_filters\"\n      ref={applyingFiltersRef}\n      modal\n      closeOnDocumentClick={false}\n      closeOnEscape={false}\n    >\n      <div className=\"applying_filters_modal\">\n        <ClipLoader\n          css={override}\n          size={80}\n          color={\"rgb(0, 109, 129)\"}\n          style={{ transition: \"all 0.5s ease\" }}\n          loading={true}\n        />\n        <p>\n          {resetFilters ? \"Resetting\" : \"Applying\"} Filters (\n          {applyingFiltersProgressRef.current}% Done)\n        </p>\n      </div>\n    </Popup>\n  );\n};\n\nexport default ApplyingFiltersPopUp;\n","const NEW_YEAR_FINISHED_LOADING_RESET = \"NEW_YEAR_FINISHED_LOADING_RESET\";\n\nconst ACTION_NEW_YEAR_FINISHED_LOADING_RESET = () => {\n  return {\n    type: NEW_YEAR_FINISHED_LOADING_RESET,\n  };\n};\n\nexport default ACTION_NEW_YEAR_FINISHED_LOADING_RESET;\n","const NEW_YEAR_FINISHED_LOADING = \"NEW_YEAR_FINISHED_LOADING\";\n\nconst ACTION_NEW_YEAR_FINISHED_LOADING = () => {\n  return {\n    type: NEW_YEAR_FINISHED_LOADING,\n  };\n};\n\nexport default ACTION_NEW_YEAR_FINISHED_LOADING;\n","const TRENDS_AVAILABLE = \"TRENDS_AVAILABLE\";\n\nconst ACTION_TRENDS_AVAILABLE = () => {\n  return {\n    type: TRENDS_AVAILABLE,\n  };\n};\n\nexport default ACTION_TRENDS_AVAILABLE;\n","const TRENDS_NOT_AVAILABLE = \"TRENDS_NOT_AVAILABLE\";\n\nconst ACTION_TRENDS_NOT_AVAILABLE = () => {\n  return {\n    type: TRENDS_NOT_AVAILABLE,\n  };\n};\n\nexport default ACTION_TRENDS_NOT_AVAILABLE;\n","const RESET_FILTERS_RESET = \"RESET_FILTERS_RESET\";\n\nconst ACTION_RESET_FILTERS_RESET = () => {\n  return {\n    type: RESET_FILTERS_RESET,\n  };\n};\n\nexport default ACTION_RESET_FILTERS_RESET;\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport DeckGL from \"@deck.gl/react\";\nimport { StaticMap } from \"react-map-gl\";\nimport { ScatterplotLayer } from \"@deck.gl/layers\";\nimport \"./App.css\";\nimport \"./mapbox.css\";\nimport NavigationBar from \"./NavigationBar/NavigationBar\";\nimport BottomInfoPanel from \"./BottomInfoPanel/BottomInfoPanel\";\nimport dayjs from \"dayjs\";\nimport customParseFormat from \"dayjs/plugin/customParseFormat\";\nimport yearlyTotals from \"./YearlyTotals\";\nimport { useCountUp } from \"react-countup\";\nimport InitialLoader from \"./InitialLoader\";\nimport SubsequentLoader from \"./SubsequentLoader\";\nimport Modal from \"react-modal\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR from \"./actions/filteredDataChunks/ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR\";\nimport ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR from \"./actions/filteredDataChunks/ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR\";\nimport ACTION_ASSIGN_FILTERED_DATA_CHUNKS from \"./actions/filteredDataChunks/ACTION_ASSIGN_FILTERED_DATA_CHUNKS\";\nimport ACTION_INCREMENT_TOTAL_COUNT from \"./actions/totalCount/ACTION_INCREMENT_TOTAL_COUNT\";\nimport ACTION_ASSIGN_LOAD_DATA from \"./actions/loadData/ACTION_ASSIGN_LOAD_DATA\";\nimport ACTION_FILTERED_DATA_CHANGED from \"./actions/filteredData/ACTION_FILTERED_DATA_CHANGED\";\nimport ACTION_FILTERED_DATA_CHANGED_RESET from \"./actions/filteredData/ACTION_FILTERED_DATA_CHANGED_RESET\";\nimport ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA from \"./actions/timelineGraphData/ageGroup/ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA\";\nimport ACTION_TIMELINE_BOROUGH_GRAPH_DATA from \"./actions/timelineGraphData/borough/ACTION_TIMELINE_BOROUGH_GRAPH_DATA\";\nimport ACTION_TIMELINE_CATEGORY_GRAPH_DATA from \"./actions/timelineGraphData/category/ACTION_TIMELINE_CATEGORY_GRAPH_DATA\";\nimport ACTION_TIMELINE_GENDER_GRAPH_DATA from \"./actions/timelineGraphData/gender/ACTION_TIMELINE_GENDER_GRAPH_DATA\";\nimport ACTION_TIMELINE_RACE_GRAPH_DATA from \"./actions/timelineGraphData/race/ACTION_TIMELINE_RACE_GRAPH_DATA\";\nimport setFilterAndTimelineGraphWorkers from \"worker-loader!./setFilterAndTimelineGraphWorkers.js\"; // eslint-disable-line import/no-webpack-loader-syntax\nimport ACTION_AGE_TIMELINE_COLUMNS from \"./actions/timelineColumns/age/ACTION_AGE_TIMELINE_COLUMNS\";\nimport ACTION_BOROUGH_TIMELINE_COLUMNS from \"./actions/timelineColumns/borough/ACTION_BOROUGH_TIMELINE_COLUMNS\";\nimport ACTION_CATEGORY_TIMELINE_COLUMNS from \"./actions/timelineColumns/category/ACTION_CATEGORY_TIMELINE_COLUMNS\";\nimport ACTION_SEX_TIMELINE_COLUMNS from \"./actions/timelineColumns/sex/ACTION_SEX_TIMELINE_COLUMNS\";\nimport ACTION_RACE_TIMELINE_COLUMNS from \"./actions/timelineColumns/race/ACTION_RACE_TIMELINE_COLUMNS\";\nimport ACTION_APPLYING_FILTERS_RESET from \"./actions/applyingFilters/ACTION_APPLYING_FILTERS_RESET\";\nimport ApplyingFiltersPopUp from \"./ApplyingFiltersPopUp/ApplyingFiltersPopUp\";\nimport ACTION_NEW_YEAR_FINISHED_LOADING_RESET from \"./actions/newYearFinishedLoading/ACTION_NEW_YEAR_FINISHED_LOADING_RESET\";\nimport ACTION_NEW_YEAR_FINISHED_LOADING from \"./actions/newYearFinishedLoading/ACTION_NEW_YEAR_FINISHED_LOADING\";\nimport ACTION_TRENDS_AVAILABLE from \"./actions/trendsAvailable/ACTION_TRENDS_AVAILABLE\";\nimport ACTION_TRENDS_NOT_AVAILABLE from \"./actions/trendsAvailable/ACTION_TRENDS_NOT_AVAILABLE\";\nimport Div100vh from \"react-div-100vh\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { FcRotateToLandscape } from \"react-icons/fc\";\nimport ACTION_RESET_FILTERS_RESET from \"./actions/resetFilters/ACTION_RESET_FILTERS_RESET\";\n\ndayjs.extend(customParseFormat);\n\nconst App = () => {\n  const dispatch = useDispatch();\n\n  const loadData = useSelector((state) => state.loadDataReducer.data);\n  const filteredDataChanged = useSelector(\n    (state) => state.filteredDataReducer.changed\n  );\n  const filteredDataChunks = useSelector(\n    (state) => state.filteredDataChunksReducer.data\n  );\n  const newYearFinishedLoading = useSelector(\n    (state) => state.newYearFinishedLoadingReducer.finished\n  );\n\n  const applyingFilters = useSelector(\n    (state) => state.applyingFiltersReducer.filters\n  );\n  const resetFilters = useSelector((state) => state.resetFiltersReducer.reset);\n\n  const totalCount = useSelector((state) => state.totalCountReducer.total);\n\n  const ageGroupTimelineGraphData = useSelector(\n    (state) => state.ageGroupTimelineGraphDataReducer.data\n  );\n  const boroughTimelineGraphData = useSelector(\n    (state) => state.boroughTimelineGraphDataReducer.data\n  );\n  const categoryTimelineGraphData = useSelector(\n    (state) => state.categoryTimelineGraphDataReducer.data\n  );\n  const genderTimelineGraphData = useSelector(\n    (state) => state.genderTimelineGraphDataReducer.data\n  );\n  const raceTimelineGraphData = useSelector(\n    (state) => state.raceTimelineGraphDataReducer.data\n  );\n\n  // Timeline Column Data\n  const ageTimelineColumns = useSelector(\n    (state) => state.ageTimelineColumnsReducer.columns\n  );\n  const boroughTimelineColumns = useSelector(\n    (state) => state.boroughTimelineColumnsReducer.columns\n  );\n  const categoryTimelineColumns = useSelector(\n    (state) => state.categoryTimelineColumnsReducer.columns\n  );\n  const raceTimelineColumns = useSelector(\n    (state) => state.raceTimelineColumnsReducer.columns\n  );\n  const sexTimelineColumns = useSelector(\n    (state) => state.sexTimelineColumnsReducer.columns\n  );\n\n  const [mapLoaded, changeMapLoaded] = useState(false);\n  const [tooltipVisible, changeTooltipVisible] = useState(false);\n  const [loaderColor, changeLoaderColor] = useState(\"rgb(93, 188, 210)\");\n  const [mapError, changeMapError] = useState(false);\n  const [modalActive, changeModalActive] = useState({\n    active: false,\n    year: null,\n  });\n  const [mapPostsCompleted, changeMapPostsCompleted] = useState(false);\n  const [\n    readyForTimelineColumnPosts,\n    changeReadyForTimelineColumnPosts,\n  ] = useState(false);\n  const [graphOption, changeGraphOption] = useState(\"overview\");\n  const [footerMenuActive, changeFooterMenuActive] = useState(false);\n\n  const [currentFilters, changeCurrentFilters] = useState({\n    category: [],\n    offense: [],\n    age: [],\n    race: [],\n    sex: [],\n    borough: [],\n  });\n\n  const isTinyPhone = useMediaQuery({ maxWidth: 375 });\n  const isMobileOrTablet = useMediaQuery({ maxWidth: 1224 });\n  const isTablet = useMediaQuery({ minWidth: 768 });\n  const isMediumLaptop = useMediaQuery({ maxWidth: 1440 });\n  const isPortrait = useMediaQuery({ orientation: \"portrait\" });\n\n  const [laddaLoading, changeLaddaLoading] = useState(false);\n  const [resetLaddaLoading, changeResetLaddaLoading] = useState(false);\n  const [loadingYears, changeLoadingYears] = useState([]);\n\n  // Web Worker Instances\n  const [workerInstance, changeWorkerInstance] = useState(\"\");\n  const [mapFilterWorkerInstance, changeMapFilterWorkerInstance] = useState(\"\");\n  const [filterWorkerInstance, changeFilterWorkerInstance] = useState(\"\");\n  const [timelineWorkerInstance, changeTimelineWorkerInstance] = useState(\"\");\n  const [\n    setFilterAndTimelineGraphWorkersInstance,\n    changeSetFilterAndTimelineGraphWorkersInstance,\n  ] = useState(\"\");\n\n  const [mapVisible, changeMapVisible] = useState(false);\n\n  // Side Menu Bar States\n  const [menuClicked, changeMenuClicked] = useState(false);\n  const [collapseOpen, changeCollapseOpen] = useState(\"\");\n\n  let layersRef = useRef([]);\n  let applyingFiltersProgressRef = useRef(0);\n  const deckGLRef = useRef(null);\n\n  const lastUpdatedYear = dayjs(\n    yearlyTotals[\"lastUpdatedDate\"],\n    \"MMMM D, YYYY\"\n  ).format(\"YYYY\");\n\n  // Needed for screen-readers\n  useEffect(() => {\n    Modal.setAppElement(\"body\");\n  }, []);\n\n  // Click Outside Component Hook\n  const useOnClickOutside = (ref, handler) => {\n    useEffect(() => {\n      const listener = (e) => {\n        // Do nothing if clicking ref's element or descendent elements\n        if (!ref.current || ref.current.contains(e.target)) {\n          return;\n        }\n\n        handler(e);\n      };\n\n      document.addEventListener(\"mousedown\", listener);\n      document.addEventListener(\"touchstart\", listener);\n\n      return () => {\n        document.removeEventListener(\"mousedown\", listener);\n        document.removeEventListener(\"touchstart\", listener);\n      };\n    });\n  };\n\n  // Custom Hook to check for previous state\n  const usePrevious = (value) => {\n    const ref = useRef();\n    useEffect(() => {\n      ref.current = value;\n    });\n    return ref.current;\n  };\n\n  const prevFilters = usePrevious(currentFilters);\n\n  const { countUp, update } = useCountUp({\n    start: 0,\n    end:\n      loadData.length > 0\n        ? Number((loadData.length / yearlyTotals[lastUpdatedYear]).toFixed(1)) *\n          100\n        : 0,\n    delay: 0,\n    duration: 1,\n  });\n\n  useEffect(() => {\n    if (loadData.length > 0) {\n      const newProgress =\n        Number((loadData.length / yearlyTotals[lastUpdatedYear]).toFixed(1)) *\n        100;\n\n      if (newProgress >= 60) {\n        update(100);\n      } else {\n        update(newProgress);\n      }\n    }\n  }, [update, countUp, loadData, lastUpdatedYear]);\n\n  const isSame = (arr1, arr2) =>\n    arr1.length === arr2.length &&\n    arr1.every((item, i) => {\n      return item === arr2[i];\n    });\n\n  const [ageGroup, changeAgeGroup] = useState([]);\n  const [raceArr, changeRaceArr] = useState([]);\n  const [boroughArr, changeBoroughArr] = useState([]);\n  const [offenseDescriptionArr, changeOffenseDescriptionArr] = useState([]);\n  const [filteredArrestCategory, changeFilteredArrestCategory] = useState([]);\n  const [filteredAgeGroup, changeFilteredAgeGroup] = useState([]);\n  const [filteredSexArr, changeFilteredSexArr] = useState([]);\n  const [filteredRaceArr, changeFilteredRaceArr] = useState([]);\n  const [filteredBoroughArr, changeFilteredBoroughArr] = useState([]);\n  const [\n    filteredOffenseDescriptionArr,\n    changeFilteredOffenseDescriptionArr,\n  ] = useState([]);\n  const [filteredUniqueCategory, changeFilteredUniqueCategory] = useState([]);\n  const [\n    filteredTimelineAgeGroupData,\n    changeFilteredTimelineAgeGroupData,\n  ] = useState([]);\n  const [\n    filteredTimelineBoroughData,\n    changeFilteredTimelineBoroughData,\n  ] = useState([]);\n  const [\n    filteredTimelineCategoryData,\n    changeFilteredTimelineCategoryData,\n  ] = useState([]);\n  const [filteredTimelineSexData, changeFilteredTimelineSexData] = useState([]);\n  const [filteredTimelineRaceData, changeFilteredTimelineRaceData] = useState(\n    []\n  );\n\n  const postToTimelineGraphWorker = useCallback(\n    (ageObj, raceObj, categoryObj, sexObj, boroughObj) => {\n      if (setFilterAndTimelineGraphWorkersInstance) {\n        // Send from main thread to web worker\n        setFilterAndTimelineGraphWorkersInstance.postMessage({\n          ageObj,\n          raceObj,\n          categoryObj,\n          sexObj,\n          boroughObj,\n        });\n\n        setFilterAndTimelineGraphWorkersInstance.onmessage = (receivedData) => {\n          applyingFiltersProgressRef.current += 25;\n\n          const ageGroupTimelineGraphData =\n            receivedData.data.ageGroupTimelineGraphData;\n          const raceTimelineGraphData = receivedData.data.raceTimelineGraphData;\n          const categoryTimelineGraphData =\n            receivedData.data.categoryTimelineGraphData;\n          const genderTimelineGraphData =\n            receivedData.data.genderTimelineGraphData;\n          const boroughTimelineGraphData =\n            receivedData.data.boroughTimelineGraphData;\n\n          dispatch(\n            ACTION_TIMELINE_AGE_GROUP_GRAPH_DATA(ageGroupTimelineGraphData)\n          );\n          dispatch(\n            ACTION_TIMELINE_BOROUGH_GRAPH_DATA(boroughTimelineGraphData)\n          );\n          dispatch(\n            ACTION_TIMELINE_CATEGORY_GRAPH_DATA(categoryTimelineGraphData)\n          );\n          dispatch(ACTION_TIMELINE_GENDER_GRAPH_DATA(genderTimelineGraphData));\n          dispatch(ACTION_TIMELINE_RACE_GRAPH_DATA(raceTimelineGraphData));\n        };\n      }\n    },\n    [setFilterAndTimelineGraphWorkersInstance, dispatch]\n  );\n\n  const postToFilteredWorker = useCallback(\n    (\n      ageGroup,\n      raceArr,\n      boroughArr,\n      offenseDescriptionArr,\n      filteredAgeGroup,\n      filteredSexArr,\n      filteredRaceArr,\n      filteredBoroughArr,\n      filteredOffenseDescriptionArr\n    ) => {\n      if (filterWorkerInstance) {\n        // Send from main thread to web worker\n        filterWorkerInstance.postMessage({\n          ageGroup,\n          raceArr,\n          boroughArr,\n          offenseDescriptionArr,\n          filteredAgeGroup,\n          filteredSexArr,\n          filteredRaceArr,\n          filteredBoroughArr,\n          filteredOffenseDescriptionArr,\n        });\n\n        filterWorkerInstance.onmessage = (receivedData) => {\n          applyingFiltersProgressRef.current += 25;\n\n          const parsedData = JSON.parse(receivedData.data);\n\n          const ageGroupData = parsedData.ageGroupData;\n          const raceUniqueValues = parsedData.raceUniqueValues;\n          const boroughUniqueValues = parsedData.boroughUniqueValues;\n          const offenseDescriptionArr = parsedData.offenseDescriptionArr;\n          const filteredAgeGroupData = parsedData.filteredAgeGroupData;\n          const filteredSexUniqueValues = parsedData.filteredSexUniqueValues;\n          const filteredRaceUniqueValues = parsedData.filteredRaceUniqueValues;\n          const filteredBoroughUniqueValues =\n            parsedData.filteredBoroughUniqueValues;\n          const filteredOffenseDescriptionUniqueValues =\n            parsedData.filteredOffenseDescriptionUniqueValues;\n\n          changeFilteredAgeGroupData(filteredAgeGroupData);\n          changeFilteredRaceUniqueValues(filteredRaceUniqueValues);\n          changeFilteredSexUniqueValues(filteredSexUniqueValues);\n          changeFilteredBoroughUniqueValues(filteredBoroughUniqueValues);\n          changeFilteredOffenseDescriptionUniqueValues(\n            filteredOffenseDescriptionUniqueValues\n          );\n          changeAgeGroupData(ageGroupData);\n          changeRaceUniqueValues(raceUniqueValues);\n          changeBoroughUniqueValues(boroughUniqueValues);\n          changeOffenseDescriptionUniqueValues(offenseDescriptionArr);\n          changeReadyForTimelineColumnPosts(true);\n        };\n      }\n    },\n    [filterWorkerInstance]\n  );\n\n  const postToMapFilterWorker = useCallback(\n    (loadData, filteredDataChunks, currentFilters) => {\n      if (mapFilterWorkerInstance) {\n        // Send from main thread to web worker\n        mapFilterWorkerInstance.postMessage({\n          loadData,\n          filteredDataChunks,\n          currentFilters,\n        });\n\n        mapFilterWorkerInstance.onmessage = (receivedData) => {\n          applyingFiltersProgressRef.current += 25;\n\n          const parsedData = JSON.parse(receivedData.data);\n\n          const ageGroup = parsedData.ageGroup;\n          const raceArr = parsedData.raceArr;\n          const boroughArr = parsedData.boroughArr;\n          const offenseDescriptionArr = parsedData.offenseDescriptionArr;\n          const filteredArrestCategory = parsedData.filteredArrestCategory;\n          const filteredAgeGroup = parsedData.filteredAgeGroup;\n          const filteredSexArr = parsedData.filteredSexArr;\n          const filteredRaceArr = parsedData.filteredRaceArr;\n          const filteredBoroughArr = parsedData.filteredBoroughArr;\n          const filteredOffenseDescriptionArr =\n            parsedData.filteredOffenseDescriptionArr;\n          const filteredUniqueCategory = parsedData.filteredUniqueCategory;\n\n          postToFilteredWorker(\n            ageGroup,\n            raceArr,\n            boroughArr,\n            offenseDescriptionArr,\n            filteredAgeGroup,\n            filteredSexArr,\n            filteredRaceArr,\n            filteredBoroughArr,\n            filteredOffenseDescriptionArr\n          );\n\n          changeAgeGroup(ageGroup);\n          changeRaceArr(raceArr);\n          changeBoroughArr(boroughArr);\n          changeOffenseDescriptionArr(offenseDescriptionArr);\n          changeFilteredArrestCategory(filteredArrestCategory);\n          changeFilteredAgeGroup(filteredAgeGroup);\n          changeFilteredSexArr(filteredSexArr);\n          changeFilteredRaceArr(filteredRaceArr);\n          changeFilteredBoroughArr(filteredBoroughArr);\n          changeFilteredOffenseDescriptionArr(filteredOffenseDescriptionArr);\n          changeFilteredUniqueCategory(filteredUniqueCategory);\n        };\n      }\n    },\n    [mapFilterWorkerInstance, postToFilteredWorker]\n  );\n\n  const postToTimelineWorker = useCallback(\n    (chunk) => {\n      if (timelineWorkerInstance) {\n        // Send from main thread to web worker\n        timelineWorkerInstance.postMessage({ chunk });\n\n        timelineWorkerInstance.onmessage = (receivedData) => {\n          applyingFiltersProgressRef.current += 25;\n\n          const parsedData = JSON.parse(receivedData.data);\n\n          const age_group = parsedData.age_group;\n          const borough = parsedData.borough;\n          const category = parsedData.category;\n          const sex = parsedData.sex;\n          const race = parsedData.race;\n\n          changeFilteredTimelineAgeGroupData(age_group);\n          changeFilteredTimelineBoroughData(borough);\n          changeFilteredTimelineCategoryData(category);\n          changeFilteredTimelineSexData(sex);\n          changeFilteredTimelineRaceData(race);\n        };\n      }\n    },\n    [timelineWorkerInstance]\n  );\n\n  const [filteredAgeGroupData, changeFilteredAgeGroupData] = useState([]);\n  const [filteredRaceUniqueValues, changeFilteredRaceUniqueValues] = useState(\n    []\n  );\n  const [filteredSexUniqueValues, changeFilteredSexUniqueValues] = useState([]);\n  const [\n    filteredBoroughUniqueValues,\n    changeFilteredBoroughUniqueValues,\n  ] = useState([]);\n  const [\n    filteredOffenseDescriptionUniqueValues,\n    changeFilteredOffenseDescriptionUniqueValues,\n  ] = useState([]);\n  const [ageGroupData, changeAgeGroupData] = useState([]);\n  const [raceUniqueValues, changeRaceUniqueValues] = useState([]);\n  const [boroughUniqueValues, changeBoroughUniqueValues] = useState([]);\n  const [\n    offenseDescriptionUniqueValues,\n    changeOffenseDescriptionUniqueValues,\n  ] = useState([]);\n\n  useEffect(() => {\n    if (readyForTimelineColumnPosts) {\n      changeReadyForTimelineColumnPosts(false);\n\n      postToTimelineGraphWorker(\n        { unique: filteredAgeGroupData, data: filteredTimelineAgeGroupData },\n        { unique: filteredRaceUniqueValues, data: filteredTimelineRaceData },\n        { unique: filteredUniqueCategory, data: filteredTimelineCategoryData },\n        { unique: filteredSexUniqueValues, data: filteredTimelineSexData },\n        {\n          unique: filteredBoroughUniqueValues,\n          data: filteredTimelineBoroughData,\n        }\n      );\n    }\n  }, [\n    categoryTimelineGraphData.length,\n    filteredAgeGroupData,\n    filteredBoroughUniqueValues,\n    filteredRaceUniqueValues,\n    filteredSexUniqueValues,\n    filteredTimelineAgeGroupData,\n    filteredTimelineBoroughData,\n    filteredTimelineCategoryData,\n    filteredTimelineRaceData,\n    filteredTimelineSexData,\n    filteredUniqueCategory,\n    postToTimelineGraphWorker,\n    readyForTimelineColumnPosts,\n  ]);\n\n  const renderLayers = useCallback(() => {\n    if (applyingFiltersProgressRef.current !== 0) {\n      applyingFiltersProgressRef.current = 0;\n    }\n\n    const yearsFiltered = filteredDataChunks.map((item) =>\n      Number(dayjs(item[5][\"ARREST_DATE\"], \"MM/DD/YYYY\").format(\"YYYY\"))\n    );\n\n    layersRef.current = filteredDataChunks.map((chunk, chunkIndex) => {\n      const yearOfChunk = dayjs(chunk[5][\"ARREST_DATE\"], \"MM/DD/YYYY\").format(\n        \"YYYY\"\n      );\n\n      return new ScatterplotLayer({\n        id: `chunk-${chunkIndex}`,\n        data: chunk,\n        visible: yearsFiltered.flat().includes(Number(yearOfChunk)),\n        filled: true,\n        radiusMinPixels: 2,\n        getPosition: (d) => [Number(d.Longitude), Number(d.Latitude)],\n        getFillColor: (d) =>\n          d.LAW_CAT_CD === \"F\"\n            ? [255, 0, 0]\n            : d.LAW_CAT_CD === \"M\"\n            ? [255, 116, 0]\n            : [255, 193, 0],\n        pickable: true,\n        useDevicePixels: false,\n      });\n    });\n  }, [filteredDataChunks]);\n\n  useEffect(() => {\n    const expectedTotal = yearlyTotals[lastUpdatedYear];\n\n    if (newYearFinishedLoading) {\n      dispatch(ACTION_NEW_YEAR_FINISHED_LOADING_RESET());\n      if (totalCount === expectedTotal && loadData.length === expectedTotal) {\n        dispatch(ACTION_ASSIGN_FILTERED_DATA_CHUNKS([loadData]));\n\n        dispatch(ACTION_FILTERED_DATA_CHANGED());\n      }\n    }\n  }, [newYearFinishedLoading, loadData, dispatch, totalCount, lastUpdatedYear]);\n\n  useEffect(() => {\n    if (!filteredDataChanged) {\n      if (mapPostsCompleted) {\n        changeMapPostsCompleted(false);\n      }\n    }\n  }, [filteredDataChanged, mapPostsCompleted]);\n\n  useEffect(() => {\n    const expectedTotal = yearlyTotals[lastUpdatedYear];\n\n    if (totalCount > 0 && totalCount === expectedTotal) {\n      if (filteredDataChanged) {\n        if (!mapPostsCompleted) {\n          renderLayers();\n\n          postToMapFilterWorker(loadData, filteredDataChunks, currentFilters);\n          postToTimelineWorker(filteredDataChunks);\n\n          dispatch(ACTION_FILTERED_DATA_CHANGED_RESET());\n        }\n\n        changeMapPostsCompleted(true);\n      }\n    }\n  }, [\n    lastUpdatedYear,\n    loadData,\n    mapPostsCompleted,\n    currentFilters,\n    filteredDataChanged,\n    renderLayers,\n    ageGroup,\n    boroughArr,\n    filteredAgeGroup,\n    filteredBoroughArr,\n    filteredOffenseDescriptionArr,\n    filteredRaceArr,\n    filteredSexArr,\n    offenseDescriptionArr,\n    postToMapFilterWorker,\n    raceArr,\n    dispatch,\n    filteredDataChunks,\n    postToTimelineWorker,\n    filteredUniqueCategory,\n    filteredTimelineCategoryData,\n    totalCount,\n  ]);\n\n  const prevAgeGroupTimelineGraphData = usePrevious(ageGroupTimelineGraphData);\n  const prevBoroughTimelineGraphData = usePrevious(boroughTimelineGraphData);\n  const prevCategoryTimelineGraphData = usePrevious(categoryTimelineGraphData);\n  const prevGenderTimelineGraphData = usePrevious(genderTimelineGraphData);\n  const prevRaceTimelineGraphData = usePrevious(raceTimelineGraphData);\n\n  useEffect(() => {\n    if (ageGroupTimelineGraphData !== prevAgeGroupTimelineGraphData) {\n      if (ageGroupTimelineGraphData.length > 0) {\n        if (\n          filteredAgeGroupData.length ===\n          ageGroupTimelineGraphData[0].length - 1\n        ) {\n          dispatch(\n            ACTION_AGE_TIMELINE_COLUMNS(\n              [\n                [{ type: \"date\", label: \"Date\" }].concat(\n                  filteredAgeGroupData\n                    .sort((a, b) => a.localeCompare(b))\n                    .map((item) => (item === \"65\" ? \"65+\" : item))\n                ),\n              ].concat(ageGroupTimelineGraphData)\n            )\n          );\n        }\n      }\n    }\n\n    if (boroughTimelineGraphData !== prevBoroughTimelineGraphData) {\n      if (boroughTimelineGraphData.length > 0) {\n        if (\n          filteredBoroughUniqueValues.length ===\n          boroughTimelineGraphData[0].length - 1\n        ) {\n          dispatch(\n            ACTION_BOROUGH_TIMELINE_COLUMNS(\n              [\n                [{ type: \"date\", label: \"Date\" }].concat(\n                  filteredBoroughUniqueValues.map((borough) =>\n                    borough === \"B\"\n                      ? \"Bronx\"\n                      : borough === \"Q\"\n                      ? \"Queens\"\n                      : borough === \"M\"\n                      ? \"Manhattan\"\n                      : borough === \"K\"\n                      ? \"Brooklyn\"\n                      : borough === \"S\"\n                      ? \"Staten Island\"\n                      : \"Unknown\"\n                  )\n                ),\n              ].concat(boroughTimelineGraphData)\n            )\n          );\n        }\n      }\n    }\n\n    if (categoryTimelineGraphData !== prevCategoryTimelineGraphData) {\n      if (\n        categoryTimelineGraphData.length > 0 &&\n        filteredUniqueCategory.length > 0\n      ) {\n        const categoryArr = [\n          ...new Set(\n            filteredUniqueCategory.map((x) =>\n              x === \"F\" ? \"Felony\" : x === \"M\" ? \"Misdemeanor\" : \"Violation\"\n            )\n          ),\n        ];\n\n        if (categoryArr.length === categoryTimelineGraphData[0].length - 1) {\n          dispatch(\n            ACTION_CATEGORY_TIMELINE_COLUMNS(\n              [[{ type: \"date\", label: \"Date\" }].concat(categoryArr)].concat(\n                categoryTimelineGraphData\n              )\n            )\n          );\n        }\n      }\n    }\n\n    if (genderTimelineGraphData !== prevGenderTimelineGraphData) {\n      if (genderTimelineGraphData.length > 0) {\n        const genderArr = filteredSexUniqueValues.map((x) =>\n          x === \"F\" ? \"Female\" : \"Male\"\n        );\n\n        if (genderArr.length === genderTimelineGraphData[0].length - 1) {\n          dispatch(\n            ACTION_SEX_TIMELINE_COLUMNS(\n              [[{ type: \"date\", label: \"Date\" }].concat(genderArr)].concat(\n                genderTimelineGraphData\n              )\n            )\n          );\n        }\n      }\n    }\n\n    if (raceTimelineGraphData !== prevRaceTimelineGraphData) {\n      if (raceTimelineGraphData.length > 0) {\n        const raceArr = filteredRaceUniqueValues.map((race) =>\n          race\n            .split(\" \")\n            .map((x) => x[0].toUpperCase() + x.slice(1).toLowerCase())\n            .join(\" \")\n            .split(\"/\")\n            .map(\n              (x) =>\n                x[0].toUpperCase() +\n                x.slice(1, x.indexOf(\" \")).toLowerCase() +\n                x.slice(x.indexOf(\" \"))\n            )\n            .join(\"/\")\n        );\n\n        if (raceArr.length === raceTimelineGraphData[0].length - 1) {\n          dispatch(\n            ACTION_RACE_TIMELINE_COLUMNS(\n              [[{ type: \"date\", label: \"Date\" }].concat(raceArr)].concat(\n                raceTimelineGraphData\n              )\n            )\n          );\n        }\n\n        dispatch(ACTION_TRENDS_AVAILABLE());\n\n        if (applyingFilters) {\n          dispatch(ACTION_APPLYING_FILTERS_RESET());\n        }\n\n        if (resetFilters) {\n          dispatch(ACTION_RESET_FILTERS_RESET());\n        }\n      }\n    }\n  }, [\n    ageGroupTimelineGraphData,\n    boroughTimelineGraphData,\n    categoryTimelineGraphData,\n    dispatch,\n    filteredAgeGroupData,\n    genderTimelineGraphData,\n    prevAgeGroupTimelineGraphData,\n    prevBoroughTimelineGraphData,\n    prevCategoryTimelineGraphData,\n    prevGenderTimelineGraphData,\n    prevRaceTimelineGraphData,\n    raceTimelineGraphData,\n    filteredBoroughUniqueValues,\n    filteredUniqueCategory,\n    filteredRaceUniqueValues,\n    filteredSexUniqueValues,\n    applyingFilters,\n    resetFilters,\n  ]);\n\n  useEffect(() => {\n    if (!mapError) {\n      while (totalCount === 0) {\n        const colorChangeInterval = setInterval(() => {\n          if (loaderColor === \"rgb(93, 188, 210)\") {\n            changeLoaderColor(\"rgb(255, 255, 255)\");\n          } else if (loaderColor === \"rgb(255, 255, 255)\") {\n            changeLoaderColor(\"#f9c124\");\n          } else {\n            changeLoaderColor(\"rgb(93, 188, 210)\");\n          }\n        }, 500);\n\n        return () => {\n          clearInterval(colorChangeInterval);\n        };\n      }\n    } else {\n      changeLoaderColor(\"rgb(255, 0, 0)\");\n    }\n  }, [totalCount, loaderColor, mapError]);\n\n  const token = process.env.REACT_APP_MAPBOX_TOKEN;\n\n  const showTooltip = useCallback(\n    (object, x, y) => {\n      const el = document.getElementsByClassName(\"deck-tooltip\")[0];\n\n      if (object) {\n        if (!tooltipVisible) {\n          changeTooltipVisible(true);\n          document.addEventListener(\"touchstart\", () => (el.style.opacity = 0));\n        }\n\n        const {\n          ARREST_DATE,\n          LAW_CAT_CD,\n          OFNS_DESC,\n          PD_DESC,\n          AGE_GROUP,\n          PERP_SEX,\n          PERP_RACE,\n        } = object;\n        el.innerHTML = `\n<p><strong>Date of Arrest:</strong> ${ARREST_DATE}</p>\n<p><strong>Category:</strong> ${\n          LAW_CAT_CD === \"F\"\n            ? \"Felony\"\n            : LAW_CAT_CD === \"M\"\n            ? \"Misdemeanor\"\n            : \"Violation\"\n        }</p>\n<p><strong>Offense:</strong> ${OFNS_DESC}</p>\n<p><strong>Offense Description:</strong> ${PD_DESC}</p>\n<p><strong>Perpetrator's Age Group:</strong> ${AGE_GROUP}</p>\n<p><strong>Perpetrator's Sex:</strong> ${\n          PERP_SEX === \"M\" ? \"Male\" : \"Female\"\n        }</p>\n<p><strong>Perpetrator's Race:</strong> ${PERP_RACE.toLowerCase()\n          .split(\" \")\n          .map((x) => x[0].toUpperCase() + x.slice(1))\n          .join(\" \")}</p>\n`;\n        el.style.display = \"inline-block\";\n        el.style.background = \"#000\";\n        el.style.color = \"rgb(235, 235, 235)\";\n        el.style.fontSize = \"1rem\";\n        el.style.overflowWrap = \"break-word\";\n        el.style.lineHeight = \"1rem\";\n        el.style.maxWidth = \"10rem\";\n        el.style.opacity = 0.9;\n        el.style.left = x + \"px\";\n        el.style.top = y + \"px\";\n      } else {\n        if (tooltipVisible) {\n          changeTooltipVisible(false);\n        }\n        el.style.opacity = 0;\n      }\n    },\n    [tooltipVisible]\n  );\n\n  const onNewDataArrive = useCallback(\n    (chunk, dataIndex, firstMessage, lastMessage) => {\n      // Year does not exist, create new year and add data\n      if (firstMessage) {\n        dispatch(ACTION_FILTERED_DATA_CHUNKS_ADD_YEAR(chunk.data));\n\n        dispatch(ACTION_ASSIGN_LOAD_DATA(chunk.data));\n      } else {\n        if (lastMessage) {\n          dispatch(ACTION_NEW_YEAR_FINISHED_LOADING());\n        }\n\n        // Year exists, add additional data to it\n        dispatch(\n          ACTION_FILTERED_DATA_CHUNKS_ADD_TO_YEAR(chunk.data, dataIndex)\n        );\n\n        dispatch(ACTION_ASSIGN_LOAD_DATA(chunk.data));\n      }\n    },\n    [dispatch]\n  );\n\n  const dataFetch = useCallback(\n    (year, dataIndex) => {\n      if (workerInstance) {\n        // Send from main thread to web worker\n        workerInstance.postMessage(year);\n\n        workerInstance.onmessage = (receivedData) => {\n          const data = JSON.parse(receivedData.data);\n          const parsedData = JSON.parse(data.data);\n          const chunkArr = parsedData.chunkArr;\n          const firstMessage = parsedData.firstMessage;\n          const lastMessage = parsedData.lastMessage;\n\n          dispatch(ACTION_INCREMENT_TOTAL_COUNT(chunkArr.length));\n\n          onNewDataArrive(\n            {\n              year: data.year,\n              data: chunkArr,\n            },\n            dataIndex,\n            firstMessage,\n            lastMessage\n          );\n        };\n      }\n    },\n    [onNewDataArrive, workerInstance, dispatch]\n  );\n\n  const setFilters = (\n    category,\n    offense,\n    age,\n    race,\n    sex,\n    borough,\n    suppliedData\n  ) => {\n    if (setFilterAndTimelineGraphWorkersInstance) {\n      if (applyingFiltersProgressRef.current !== 0) {\n        applyingFiltersProgressRef.current = 0;\n      }\n\n      if (graphOption === \"trends\") {\n        changeGraphOption(\"overview\");\n      }\n      changeCollapseOpen(\"\");\n      changeMenuClicked(false);\n      dispatch(ACTION_TRENDS_NOT_AVAILABLE());\n\n      // Send from main thread to web worker\n      setFilterAndTimelineGraphWorkersInstance.postMessage({\n        category: category,\n        offense: offense,\n        age: age,\n        race: race,\n        sex: sex,\n        borough: borough,\n        suppliedData: suppliedData,\n      });\n\n      setFilterAndTimelineGraphWorkersInstance.onmessage = (receivedData) => {\n        const assignFilteredData = receivedData.data.assignFilteredData;\n\n        if (assignFilteredData) {\n          dispatch(ACTION_ASSIGN_FILTERED_DATA_CHUNKS(assignFilteredData));\n\n          changeCurrentFilters({\n            category: category,\n            offense: offense,\n            age: age,\n            race: race,\n            sex: sex,\n            borough: borough,\n          });\n\n          dispatch(ACTION_FILTERED_DATA_CHANGED());\n        }\n      };\n\n      setTimeout(() => changeLaddaLoading(false), 1000);\n      setTimeout(() => changeResetLaddaLoading(false), 1000);\n    }\n  };\n\n  useEffect(() => {\n    if (currentFilters && prevFilters) {\n      if (!isSame(Object.values(currentFilters), Object.values(prevFilters))) {\n        renderLayers();\n      }\n    }\n  }, [currentFilters, prevFilters, renderLayers, dispatch, filteredDataChunks]);\n\n  useEffect(() => {\n    if (!mapFilterWorkerInstance) {\n      const response = `self.onmessage = (e) => {\n        const dataSent = e.data;\n\n        const loadData = dataSent.loadData;\n        const filteredDataChunks = dataSent.filteredDataChunks;\n        const currentFilters = dataSent.currentFilters;\n\n        const filterArrIncluded = (\n          x,\n          filterExactName,\n          filterGeneralName\n        ) => {\n          if (x !== filterExactName) {\n            if (currentFilters[filterGeneralName]) {\n              if (currentFilters[filterGeneralName].length > 0) {\n                return currentFilters[filterGeneralName].includes(x);\n              } else {\n                return true;\n              }\n            } else {\n              return true;\n            }\n          } else {\n            return false;\n          }\n        };\n\n        const dataReducerFunction = (\n          chunk,\n          filterExactName,\n          filterGeneralName\n        ) => {\n          return chunk.reduce((acc, curr) => {\n            const exactName = curr[filterExactName];\n\n            if (filterArrIncluded(exactName, filterGeneralName)) {\n              acc.push(exactName);\n            }\n\n            return acc;\n          }, []);\n        };\n\n        const boroughLoadDataReducerFunction = (\n          chunk,\n          filterExactName\n        ) => {\n          return chunk.reduce((acc, curr) => {\n            const currentName = (x) => {\n              if (\n                x[filterExactName] === \"K\" &&\n                Number(x.Latitude) > 40.73912\n              ) {\n                return \"B\";\n              } else if (\n                x[filterExactName] === \"M\" &&\n                Number(x.Longitude) > -73.920961 &&\n                Number(x.Latitude) < 40.800709\n              ) {\n                return \"Q\";\n              } else if (\n                x[filterExactName] === \"B\" &&\n                Number(x.Latitude) < 40.697465\n              ) {\n                return \"K\";\n              } else if (\n                x[filterExactName] === \"Q\" &&\n                Number(x.Longitude) < -73.962745\n              ) {\n                return \"M\";\n              } else if (\n                x[filterExactName] === \"Q\" &&\n                Number(x.Longitude) < -73.878559 &&\n                Number(x.Latitude) > 40.787907\n              ) {\n                return \"B\";\n              } else {\n                return x[filterExactName];\n              }\n            };\n\n            const currentPushItem = currentName(curr);\n\n            if (filterArrIncluded(currentPushItem)) {\n              acc.push(currentPushItem);\n            }\n\n            return acc;\n          }, []);\n        };\n\n        const filteredDataChunksReducerFunction = (\n          filterExactName,\n          filterGeneralName\n        ) => {\n          const yearsArr = filteredDataChunks.map((x) => {\n            const date = x[5][filterExactName];\n\n            return Number(date.substring(date.length - 4, date.length));\n          });\n\n          const dateFilterArrIncluded = (item, index, generalName) => {\n            if (item !== filterExactName) {\n              if (currentFilters[generalName]) {\n                if (currentFilters[generalName].length > 0) {\n                  if (\n                    currentFilters[generalName].includes(\n                      yearsArr[index]\n                    )\n                  ) {\n                    return true;\n                  } else {\n                    return false;\n                  }\n                } else {\n                  return true;\n                }\n              } else {\n                return false;\n              }\n            } else {\n              return false;\n            }\n          };\n\n          return filteredDataChunks\n            .map((x, i) => [\n              ...new Set(\n                x.reduce((acc, curr) => {\n                  const exactName = curr[filterExactName];\n\n                  if (filterGeneralName === \"category\") {\n                    if (\n                      filterArrIncluded(\n                        exactName,\n                        filterExactName,\n                        filterGeneralName\n                      )\n                    ) {\n                      acc.push(exactName);\n                    }\n                  } else {\n                    if (\n                      dateFilterArrIncluded(\n                        exactName,\n                        i,\n                        filterGeneralName\n                      )\n                    ) {\n                      acc.push(exactName);\n                    }\n                  }\n\n                  return acc;\n                }, [])\n              ),\n            ])\n            .flat();\n        };\n\n        postMessage(\n          JSON.stringify({\n            ageGroup: dataReducerFunction(loadData, \"AGE_GROUP\"),\n            raceArr: dataReducerFunction(loadData, \"PERP_RACE\"),\n            boroughArr: boroughLoadDataReducerFunction(\n              loadData,\n              \"ARREST_BORO\"\n            ),\n            offenseDescriptionArr: dataReducerFunction(\n              loadData,\n              \"OFNS_DESC\"\n            ),\n            filteredArrestCategory: dataReducerFunction(\n              filteredDataChunks[0],\n              \"LAW_CAT_CD\",\n              \"category\"\n            ),\n            filteredAgeGroup: dataReducerFunction(\n              filteredDataChunks[0],\n              \"AGE_GROUP\",\n              \"age\"\n            ),\n            filteredSexArr: dataReducerFunction(\n              filteredDataChunks[0],\n              \"PERP_SEX\",\n              \"sex\"\n            ),\n            filteredRaceArr: dataReducerFunction(\n              filteredDataChunks[0],\n              \"PERP_RACE\",\n              \"race\"\n            ),\n            filteredBoroughArr: boroughLoadDataReducerFunction(\n              filteredDataChunks[0],\n              \"ARREST_BORO\",\n              \"borough\"\n            ),\n            filteredOffenseDescriptionArr: dataReducerFunction(\n              filteredDataChunks[0],\n              \"OFNS_DESC\",\n              \"offense\"\n            ),\n            filteredUniqueCategory: filteredDataChunksReducerFunction(\n              \"LAW_CAT_CD\",\n              \"category\"\n            ),\n          })\n        );\n      };`;\n\n      // Creates inline web worker from anonymous function\n      const blobURL = URL.createObjectURL(\n        new Blob([response], { type: \"application/javascript\" })\n      );\n\n      const mapFilterWorker = new Worker(blobURL);\n\n      changeMapFilterWorkerInstance(mapFilterWorker);\n    }\n  }, [mapFilterWorkerInstance]);\n\n  useEffect(() => {\n    if (!timelineWorkerInstance) {\n      const response = `self.onmessage = (e) => {\n        const dataSent = e.data;\n\n        const chunk = dataSent.chunk;\n\n        const filteredDataChunksReducerFunction = (\n          filterGeneralName,\n          filterExactName\n        ) => {\n          return chunk.map((item) =>\n            item.reduce((acc, curr) => {\n              const formatName = (x) => {\n                return {\n                  date: x[\"ARREST_DATE\"],\n                  [filterGeneralName]:\n                    filterGeneralName === \"category\"\n                      ? x[filterExactName] === \"F\"\n                        ? \"Felony\"\n                        : x[filterExactName] === \"M\"\n                        ? \"Misdemeanor\"\n                        : \"Violation\"\n                      : filterGeneralName === \"sex\"\n                      ? x[filterExactName] === \"F\"\n                        ? \"Female\"\n                        : \"Male\"\n                      : x[filterExactName],\n                };\n              };\n\n              const notNameMatchFilter = (x) =>\n                x.date !== \"ARREST_DATE\" &&\n                x[filterGeneralName] !== filterExactName;\n\n              const newPushItem = formatName(curr);\n\n              if (notNameMatchFilter(newPushItem)) {\n                acc.push(newPushItem);\n              }\n\n              return acc;\n            }, [])\n          );\n        };\n\n        postMessage(\n          JSON.stringify({\n            age_group: filteredDataChunksReducerFunction(\n              \"age_group\",\n              \"AGE_GROUP\"\n            ),\n            borough: filteredDataChunksReducerFunction(\n              \"borough\",\n              \"ARREST_BORO\"\n            ),\n            category: filteredDataChunksReducerFunction(\n              \"category\",\n              \"LAW_CAT_CD\"\n            ),\n            sex: filteredDataChunksReducerFunction(\"sex\", \"PERP_SEX\"),\n            race: filteredDataChunksReducerFunction(\n              \"race\",\n              \"PERP_RACE\"\n            ),\n          })\n        );\n      }`;\n\n      // Creates inline web worker from anonymous function\n      const blobURL = URL.createObjectURL(\n        new Blob([response], { type: \"application/javascript\" })\n      );\n\n      const timelineWorker = new Worker(blobURL);\n\n      changeTimelineWorkerInstance(timelineWorker);\n    }\n  }, [timelineWorkerInstance]);\n\n  useEffect(() => {\n    if (!setFilterAndTimelineGraphWorkersInstance) {\n      const worker = new setFilterAndTimelineGraphWorkers();\n\n      changeSetFilterAndTimelineGraphWorkersInstance(worker);\n    }\n  }, [setFilterAndTimelineGraphWorkersInstance]);\n\n  useEffect(() => {\n    if (!filterWorkerInstance) {\n      const response = `self.onmessage = (e) => {\n        const hasNumber = (input) => {\n          return /[0-9]/.test(input); \n        };\n\n        const dataSent = e.data;\n\n        const ageGroup = dataSent.ageGroup;\n        const raceArr = dataSent.raceArr;\n        const boroughArr = dataSent.boroughArr;\n        const offenseDescriptionArr = dataSent.offenseDescriptionArr;\n        const filteredAgeGroup = dataSent.filteredAgeGroup;\n        const filteredSexArr = dataSent.filteredSexArr;\n        const filteredRaceArr = dataSent.filteredRaceArr;\n        const filteredBoroughArr = dataSent.filteredBoroughArr;\n        const filteredOffenseDescriptionArr =\n          dataSent.filteredOffenseDescriptionArr;\n\n        const uniqueValuesReducerFunction = (\n          arrName,\n          categoryName,\n          arr\n        ) =>\n          arr\n            ? [...new Set(arr)]\n                .filter((x) => x !== categoryName)\n                .sort((a, b) => {\n                  if (\n                    arrName === \"filteredAgeGroupData\" ||\n                    arrName === \"ageGroupData\"\n                  ) {\n                    const first = hasNumber(a)\n                      ? Number(\n                          a.split(a[0] === \"<\" ? \"<\" : \"-\")[\n                            a[0] === \"<\" ? 1 : 0\n                          ]\n                        )\n                      : null;\n                    const second = hasNumber(b)\n                      ? Number(\n                          b.split(b[0] === \"<\" ? \"<\" : \"-\")[\n                            b[0] === \"<\" ? 1 : 0\n                          ]\n                        )\n                      : null;\n\n                    return first - second;\n                  } else {\n                    // Sort in increasing order\n                    return a - b;\n                  }\n                })\n            : [];\n\n        postMessage(\n          JSON.stringify({\n            ageGroupData: uniqueValuesReducerFunction(\n              \"ageGroupData\",\n              \"AGE_GROUP\",\n              ageGroup\n            ),\n            raceUniqueValues: uniqueValuesReducerFunction(\n              \"raceUniqueValues\",\n              \"PERP_RACE\",\n              raceArr\n            ),\n            boroughUniqueValues: uniqueValuesReducerFunction(\n              \"boroughUniqueValues\",\n              \"ARREST_BORO\",\n              boroughArr\n            ),\n            offenseDescriptionArr: uniqueValuesReducerFunction(\n              \"offenseDescriptionArr\",\n              \"OFNS_DESC\",\n              offenseDescriptionArr\n            ),\n            filteredAgeGroupData: uniqueValuesReducerFunction(\n              \"filteredAgeGroupData\",\n              \"AGE_GROUP\",\n              filteredAgeGroup\n            ),\n            filteredSexUniqueValues: uniqueValuesReducerFunction(\n              \"filteredSexUniqueValues\",\n              \"PERP_SEX\",\n              filteredSexArr\n            ),\n            filteredRaceUniqueValues: uniqueValuesReducerFunction(\n              \"filteredRaceUniqueValues\",\n              \"PERP_RACE\",\n              filteredRaceArr\n            ),\n            filteredBoroughUniqueValues: uniqueValuesReducerFunction(\n              \"filteredBoroughUniqueValues\",\n              \"ARREST_BORO\",\n              filteredBoroughArr\n            ),\n            filteredOffenseDescriptionUniqueValues: uniqueValuesReducerFunction(\n              \"filteredOffenseDescriptionUniqueValues\",\n              \"OFNS_DESC\",\n              filteredOffenseDescriptionArr\n            ),\n          })\n        );\n      };`;\n\n      // Creates inline web worker from anonymous function\n      const blobURL = URL.createObjectURL(\n        new Blob([response], { type: \"application/javascript\" })\n      );\n\n      const filterWorker = new Worker(blobURL);\n\n      changeFilterWorkerInstance(filterWorker);\n    }\n  }, [filterWorkerInstance]);\n\n  useEffect(() => {\n    if (!workerInstance) {\n      // Creates inline web worker from anonymous function\n      const blobURL = URL.createObjectURL(\n        new Blob(\n          [\n            \"(\",\n\n            (() => {\n              // Creates new websocket instance\n              let ws = \"\";\n\n              if (process.env.NODE_ENV === \"production\") {\n                const host = \"wss://nypd-arrest-map.herokuapp.com\";\n\n                ws = new WebSocket(host);\n              } else {\n                ws = new WebSocket(\"ws://localhost:4000\");\n              }\n\n              onmessage = (e) => {\n                const year = e.data;\n\n                if (ws.readyState === 1) {\n                  // Receive from main thread and send to websocket\n                  ws.send(year);\n                }\n\n                ws.onopen = () => {\n                  // Send one byte to websocket every 55 seconds to keep socket from closing itself on idle\n                  setInterval(() => {\n                    ws.send(\".\");\n                  }, 55000);\n\n                  // Receive from main thread and send to websocket\n                  ws.send(year);\n                };\n\n                // Send from websocket to main thread\n                ws.onmessage = ({ data }) => {\n                  // Faster to JSON.stringify() then postMessage() a string than to postMessage() an object.\n                  if (data) {\n                    postMessage(JSON.stringify({ year: year, data: data }));\n                  }\n                };\n              };\n            }).toString(),\n\n            \")()\",\n          ],\n          { type: \"application/javascript\" }\n        )\n      );\n\n      const socketWorker = new Worker(blobURL);\n\n      changeWorkerInstance(socketWorker);\n    }\n  }, [workerInstance]);\n\n  useEffect(() => {\n    if (workerInstance) {\n      if (loadData.length === 0) {\n        if (loadingYears.length === 0) {\n          if (isMobileOrTablet) {\n            if (isPortrait) {\n              changeLoadingYears([Number(lastUpdatedYear)]);\n              dataFetch(Number(lastUpdatedYear), filteredDataChunks.length);\n            }\n          } else {\n            changeLoadingYears([Number(lastUpdatedYear)]);\n            dataFetch(Number(lastUpdatedYear), filteredDataChunks.length);\n          }\n        }\n      } else {\n        if (loadingYears.length > 0 && loadData.length === 0) {\n          dataFetch(loadingYears[0], filteredDataChunks.length);\n          changeLoadingYears([]);\n        }\n      }\n    }\n  }, [\n    lastUpdatedYear,\n    workerInstance,\n    dataFetch,\n    loadingYears,\n    filteredDataChunks.length,\n    isPortrait,\n    isMobileOrTablet,\n    loadData.length,\n    totalCount,\n  ]);\n\n  useEffect(() => {\n    if (totalCount > 90000) {\n      if (\n        ageTimelineColumns &&\n        boroughTimelineColumns &&\n        categoryTimelineColumns &&\n        raceTimelineColumns &&\n        sexTimelineColumns\n      ) {\n        if (ageTimelineColumns.length > 0) {\n          if (boroughTimelineColumns.length > 0) {\n            if (categoryTimelineColumns.length > 0) {\n              if (raceTimelineColumns.length > 0) {\n                if (sexTimelineColumns.length > 0) {\n                  if (!mapVisible) {\n                    changeMapVisible(true);\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }, [\n    totalCount,\n    mapVisible,\n    ageTimelineColumns,\n    boroughTimelineColumns,\n    categoryTimelineColumns,\n    raceTimelineColumns,\n    sexTimelineColumns,\n  ]);\n\n  return (\n    <div>\n      <div\n        className=\"mobile_landscape_block\"\n        style={{\n          display: isMobileOrTablet ? (isPortrait ? \"none\" : \"flex\") : \"none\",\n        }}\n      >\n        <FcRotateToLandscape />\n        <p>\n          NYPD Arrest Map is available only for desktop mode or mobile portrait\n          mode.\n        </p>\n      </div>\n      {layersRef.current.length === 0 ||\n      (ageTimelineColumns ? ageTimelineColumns.length === 0 : true) ||\n      (boroughTimelineColumns ? boroughTimelineColumns.length === 0 : true) ||\n      (categoryTimelineColumns ? categoryTimelineColumns.length === 0 : true) ||\n      (raceTimelineColumns ? raceTimelineColumns.length === 0 : true) ||\n      (sexTimelineColumns ? sexTimelineColumns.length === 0 : true) ? (\n        <InitialLoader\n          countUp={countUp}\n          loaderColor={loaderColor}\n          mapError={mapError}\n          applyingFiltersProgressRef={applyingFiltersProgressRef}\n        />\n      ) : null}\n      {modalActive.active && modalActive.year ? (\n        <SubsequentLoader\n          modalActive={modalActive}\n          changeModalActive={changeModalActive}\n        />\n      ) : null}\n      <Div100vh\n        className=\"nypd_arrest_map_container\"\n        style={{\n          opacity:\n            layersRef.current.length === 0 ||\n            (ageTimelineColumns ? ageTimelineColumns.length === 0 : true) ||\n            (boroughTimelineColumns\n              ? boroughTimelineColumns.length === 0\n              : true) ||\n            (categoryTimelineColumns\n              ? categoryTimelineColumns.length === 0\n              : true) ||\n            (raceTimelineColumns ? raceTimelineColumns.length === 0 : true) ||\n            (sexTimelineColumns ? sexTimelineColumns.length === 0 : true)\n              ? 0\n              : 1,\n        }}\n      >\n        <NavigationBar\n          loadData={loadData}\n          raceUniqueValues={raceUniqueValues}\n          boroughUniqueValues={boroughUniqueValues}\n          offenseDescriptionUniqueValues={offenseDescriptionUniqueValues}\n          ageGroupData={ageGroupData}\n          setFilters={setFilters}\n          changeLaddaLoading={changeLaddaLoading}\n          laddaLoading={laddaLoading}\n          resetLaddaLoading={resetLaddaLoading}\n          changeResetLaddaLoading={changeResetLaddaLoading}\n          menuClicked={menuClicked}\n          changeMenuClicked={changeMenuClicked}\n          collapseOpen={collapseOpen}\n          changeCollapseOpen={changeCollapseOpen}\n          layersRef={layersRef}\n          footerMenuActive={footerMenuActive}\n          isMobileOrTablet={isMobileOrTablet}\n          isTablet={isTablet}\n          currentFilters={currentFilters}\n          isSame={isSame}\n        />\n        <DeckGL\n          initialViewState={{\n            longitude: -73.935242,\n            latitude: 40.73061,\n            zoom: window.innerWidth < 1200 ? 9 : 11,\n            minZoom: 9,\n            pitch: 0,\n            bearing: 0,\n          }}\n          ref={deckGLRef}\n          layers={layersRef.current}\n          pickingRadius={20}\n          controller={true}\n          onLoad={() => changeMapLoaded(true)}\n          onError={() => changeMapError(true)}\n          onHover={({ object, x, y }) =>\n            footerMenuActive ? null : showTooltip(object, x, y)\n          }\n          useDevicePixels={false}\n        >\n          <StaticMap\n            mapStyle=\"mapbox://styles/mapbox/dark-v9\"\n            preventStyleDiffing={true}\n            mapboxApiAccessToken={token}\n          />\n        </DeckGL>\n        {mapLoaded ? (\n          <>\n            <ApplyingFiltersPopUp\n              applyingFiltersProgressRef={applyingFiltersProgressRef}\n            />\n            <BottomInfoPanel\n              isSame={isSame}\n              mapVisible={mapVisible}\n              loadData={loadData}\n              tooltipVisible={tooltipVisible}\n              resetFilters={resetFilters}\n              filteredArrestCategory={filteredArrestCategory}\n              filteredAgeGroupData={filteredAgeGroupData}\n              filteredRaceUniqueValues={filteredRaceUniqueValues}\n              filteredSexUniqueValues={filteredSexUniqueValues}\n              filteredBoroughUniqueValues={filteredBoroughUniqueValues}\n              filteredOffenseDescriptionUniqueValues={\n                filteredOffenseDescriptionUniqueValues\n              }\n              filteredUniqueCategory={filteredUniqueCategory}\n              filteredAgeGroup={filteredAgeGroup}\n              filteredRaceArr={filteredRaceArr}\n              filteredSexArr={filteredSexArr}\n              filteredBoroughArr={filteredBoroughArr}\n              filteredOffenseDescriptionArr={filteredOffenseDescriptionArr}\n              usePrevious={usePrevious}\n              currentFilters={currentFilters}\n              filteredTimelineAgeGroupData={filteredTimelineAgeGroupData}\n              filteredTimelineBoroughData={filteredTimelineBoroughData}\n              filteredTimelineCategoryData={filteredTimelineCategoryData}\n              filteredTimelineSexData={filteredTimelineSexData}\n              filteredTimelineRaceData={filteredTimelineRaceData}\n              graphOption={graphOption}\n              changeGraphOption={changeGraphOption}\n              layersRef={layersRef}\n              footerMenuActive={footerMenuActive}\n              changeFooterMenuActive={changeFooterMenuActive}\n              isMobileOrTablet={isMobileOrTablet}\n              isMediumLaptop={isMediumLaptop}\n              isTinyPhone={isTinyPhone}\n              useOnClickOutside={useOnClickOutside}\n            />\n          </>\n        ) : null}\n      </Div100vh>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { wrapStore } from \"redux-in-worker\";\nimport storeWorker from \"worker-loader!./store.worker.js\"; // eslint-disable-line import/no-webpack-loader-syntax\n\nrequire(\"dotenv\").config();\n\nconst initialState = {\n  loadDataReducer: { data: [] },\n  filteredDataReducer: {\n    changed: false,\n  },\n  filteredDataChunksReducer: {\n    data: [],\n  },\n  newYearFinishedLoadingReducer: { finished: false },\n  ageFilterReducer: {\n    age: [],\n  },\n  boroughFilterReducer: { borough: [] },\n  categoryFilterReducer: { category: [] },\n  offenseFilterReducer: { offense: [] },\n  raceFilterReducer: { race: [] },\n  sexFilterReducer: { sex: [] },\n  ageTimelineColumnsReducer: { columns: [] },\n  boroughTimelineColumnsReducer: { columns: [] },\n  categoryTimelineColumnsReducer: { columns: [] },\n  raceTimelineColumnsReducer: { columns: [] },\n  sexTimelineColumnsReducer: { columns: [] },\n  ageGroupTimelineGraphDataReducer: { data: [] },\n  boroughTimelineGraphDataReducer: { data: [] },\n  categoryTimelineGraphDataReducer: { data: [] },\n  genderTimelineGraphDataReducer: { data: [] },\n  raceTimelineGraphDataReducer: { data: [] },\n  totalCountReducer: { total: 0 },\n  applyingFiltersReducer: { filters: false },\n  resetFiltersReducer: { reset: false },\n  trendsAvailableReducer: { available: false },\n};\n\nconst store = wrapStore(new storeWorker(), initialState);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"static/js/store.worker.3c240044.worker.js\");\n}\n"],"sourceRoot":""}